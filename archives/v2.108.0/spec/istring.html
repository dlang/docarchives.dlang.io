
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2024 by the D Language Foundation
    All Rights Reserved.
    https://dlang.org/foundation_overview.html
  -->
<head>
<meta charset="utf-8">
<meta name="keywords" content="D programming language">
<meta name="description" content="D Programming Language">
<title>Interpolation Expression Sequence - D Programming Language</title>

<link rel="stylesheet" href="../css/codemirror.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/print.css" media="print">
<link rel="shortcut icon" href="../favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0">

</head>
<body id='Interpolation Expression Sequence' class='doc'>
<script type="text/javascript">document.body.className += ' have-javascript'</script>
<div id="top"><div class="helper"><div class="helper expand-container">    <div class="logo"><a href=".."><img id="logo" alt="D Logo" src="../images/dlogo.svg"></a></div>
    <a href="../menu.html" title="Menu" class="hamburger expand-toggle"><span>Menu</span></a>
    
<div id="cssmenu"><ul>    <li><a href='https://tour.dlang.org'><span>Learn</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../documentation.html'><span>Documentation</span></a>
      
<ul class='expand-content'>    <li><a href='../spec/spec.html'>Language Reference</a></li>
    <li><a href='../phobos/index.html'>Library Reference</a></li>
    <li><a href='../dmd.html'>Command-line Reference</a></li>
    <li class="menu-divider"><a href='../comparison.html'>Feature Overview</a></li>
    <li><a href='../articles.html'>Articles</a></li>
 </ul></li>
    <li><a href='../download.html'><span>Downloads</span></a></li>
    <li><a href='https://code.dlang.org'><span>Packages</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../community.html'><span>Community</span></a>
      
<ul class='expand-content'>    <li><a href='https://dlang.org/blog'>Blog</a></li>
    <li><a href='../orgs-using-d.html'>Orgs using D</a></li>
    <li><a href='https://twitter.com/search?q=%23dlang'>Twitter</a></li>
    <li class="menu-divider"><a href='https://forum.dlang.org'>Forums</a></li>
    <li><a href='irc://irc.libera.chat/d'>IRC</a></li>
    <li><a href='https://discord.gg/bMZk9Q4'>Community Discord</a></li>
    <li><a href='https://wiki.dlang.org'>Wiki</a></li>
    <li class="menu-divider"><a href='https://github.com/dlang'>GitHub</a></li>
    <li><a href='../bugstats.html'>Issues</a></li>
    <li><a href='https://wiki.dlang.org/Get_involved'>Get involved</a></li>
    <li class="menu-divider"><a href='../foundation/contributors.html'>Contributors</a></li>
    <li><a href='../foundation/index.html'>Foundation</a></li>
    <li><a href='..//security.html'>Security Team</a></li>
    <li><a href='../foundation/donate.html'>Donate</a></li>
    <li><a href='../foundation/sponsors.html'>Sponsors</a></li>
 </ul></li>
    <li class='expand-container'><a class='expand-toggle' href='../resources.html'><span>Resources</span></a>
      
<ul class='expand-content'>    <li><a href='https://tour.dlang.org'>Tour</a></li>
    <li><a href='https://wiki.dlang.org/Books'>Books</a></li>
    <li><a href='https://wiki.dlang.org/Tutorials'>Tutorials</a></li>
    <li class="menu-divider"><a href='https://wiki.dlang.org/Development_tools'>Tools</a></li>
    <li><a href='https://wiki.dlang.org/Editors'>Editors</a></li>
    <li><a href='https://wiki.dlang.org/IDEs'>IDEs</a></li>
    <li><a href='https://run.dlang.io'>run.dlang.io</a></li>
    <li><a href='http://rainers.github.io/visuald/visuald/StartPage.html'>Visual D</a></li>
    <li class="menu-divider"><a href='../acknowledgements.html'>Acknowledgments</a></li>
    <li><a href='../dstyle.html'>D Style</a></li>
    <li><a href='../spec/glossary.html'>Glossary</a></li>
    <li><a href='../sitemap.html'>Sitemap</a></li>
 </ul></li>
</ul></div>
    <div class="search-container expand-container">        <a href="../search.html" class="expand-toggle" title="Search"><span>Search</span></a>
        
    <div id="search-box">        <form method="get" action="https://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org">
            <input type="hidden" id="sourceid" name="sourceid" value="google-search">
            <span id="search-query"><input id="q" name="q" placeholder="Google Search"></span><span id="search-dropdown"><span class="helper">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire Site</option>
                    <option selected value="dlang.org/spec">Language</option>
                    <option  value="dlang.org/phobos">Library</option>
                    <option  value="forum.dlang.org">Forums</option>
                    
                </select>
            </span></span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    </div>
</div></div></div>

<div class="container">    
<div class="subnav-helper"></div> <div class="subnav">    <div class="head"><h2>Language Reference</h2> <p class="subnav-duplicate"><a href="../spec/spec.html">table of contents</a></p></div>
    <ul>        <li><a href='            ../spec/intro.html'>Introduction</a></li><li><a href='            ../spec/lex.html'>Lexical</a></li><li><a href='            ../spec/istring.html'>Interpolation Expression Sequence</a></li><li><a href='            ../spec/grammar.html'>Grammar</a></li><li><a href='            ../spec/module.html'>Modules</a></li><li><a href='            ../spec/declaration.html'>Declarations</a></li><li><a href='            ../spec/type.html'>Types</a></li><li><a href='            ../spec/property.html'>Properties</a></li><li><a href='            ../spec/attribute.html'>Attributes</a></li><li><a href='            ../spec/pragma.html'>Pragmas</a></li><li><a href='            ../spec/expression.html'>Expressions</a></li><li><a href='            ../spec/statement.html'>Statements</a></li><li><a href='            ../spec/arrays.html'>Arrays</a></li><li><a href='            ../spec/hash-map.html'>Associative Arrays</a></li><li><a href='            ../spec/struct.html'>Structs and Unions</a></li><li><a href='            ../spec/class.html'>Classes</a></li><li><a href='            ../spec/interface.html'>Interfaces</a></li><li><a href='            ../spec/enum.html'>Enums</a></li><li><a href='            ../spec/const3.html'>Type Qualifiers</a></li><li><a href='            ../spec/function.html'>Functions</a></li><li><a href='            ../spec/operatoroverloading.html'>Operator Overloading</a></li><li><a href='            ../spec/template.html'>Templates</a></li><li><a href='            ../spec/template-mixin.html'>Template Mixins</a></li><li><a href='            ../spec/contracts.html'>Contract Programming</a></li><li><a href='            ../spec/version.html'>Conditional Compilation</a></li><li><a href='            ../spec/traits.html'>Traits</a></li><li><a href='            ../spec/errors.html'>Error Handling</a></li><li><a href='            ../spec/unittest.html'>Unit Tests</a></li><li><a href='            ../spec/garbage.html'>Garbage Collection</a></li><li><a href='            ../spec/float.html'>Floating Point</a></li><li><a href='            ../spec/iasm.html'>D x86 Inline Assembler</a></li><li><a href='            ../spec/ddoc.html'>Embedded Documentation</a></li><li><a href='            ../spec/interfaceToC.html'>Interfacing to C</a></li><li><a href='            ../spec/cpp_interface.html'>Interfacing to C++</a></li><li><a href='            ../spec/objc_interface.html'>Interfacing to Objective-C</a></li><li><a href='            ../spec/portability.html'>Portability Guide</a></li><li><a href='            ../spec/entity.html'>Named Character Entities</a></li><li><a href='            ../spec/memory-safe-d.html'>Memory Safety</a></li><li><a href='            ../spec/abi.html'>Application Binary Interface</a></li><li><a href='            ../spec/simd.html'>Vector Extensions</a></li><li><a href='            ../spec/betterc.html'>Better C</a></li><li><a href='            ../spec/importc.html'>ImportC</a></li><li><a href='            ../spec/ob.html'>Live Functions</a></li><li><a href='            ../spec/windows.html'>Windows Programming</a></li><li><a href='            ../spec/glossary.html'>Glossary</a></li><li><a href='            ../spec/legacy.html'>Legacy Code
        </a></li>
    </ul>
</div>
    <div class="hyphenate" id="content">        
<div id="tools"><div >	<div class="tip smallprint">		<a href="https://issues.dlang.org/enter_bug.cgi?bug_file_loc=http%3A%2F%2Fdlang.org/&amp;component=dlang.org&amp;op_sys=All&amp;priority=P3&amp;product=D&amp;rep_platform=All&amp;short_desc=%5BInterpolation Expression Sequence%5D&amp;version=D2&amp;bug_severity=enhancement">Report a bug</a>
		<div >			If you spot a problem with this page, click here to create a Bugzilla issue.
		</div>
	</div>
	<div class="tip smallprint">		<a href="https://github.com/dlang/dlang.org/edit/master/spec/istring.dd">Improve this page</a>
		<div >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			a local clone.
		</div>
	</div>
</div></div>
        <h1>Interpolation Expression Sequence</h1>
        
<style>    body { counter-reset: h1 3; counter-increment: h1 -1; }
    h1 { counter-reset: h2 h3 p; }
    h2 { counter-reset: h3 h4 p; }
    h3 { counter-reset: h4 p; }
    h4 { counter-reset: p; }
    h1::before {
        counter-increment: h1;
        content: counter(h1) ". ";
    }
    .hyphenate h2::before {
        counter-increment: h2;
        content: counter(h1) "." counter(h2) " ";
    }
    h3::before {
        counter-increment: h3;
        content: counter(h1) "." counter(h2) "." counter(h3) " ";
    }
    h4::before {
        counter-increment: h4;
        content: counter(h1) "." counter(h2) "." counter(h3) "." counter(h4) " ";
    }
    p::before, .spec-boxes::before {
        counter-increment: p;
        content: counter(p) ". ";
    }
    h1::before, h2::before, h3::before, h4::before, p::before, .spec-boxes::before
    {
        color: #999;
        font-size: 80%;
        margin-right: 0.25em;
    }
</style>
        <div class="blankline"></div>
<div class="blankline"></div>
<div class="blankline"></div>
<div class="page-contents quickindex">    <div class="page-contents-header">        <b>Contents</b>
    </div>
    <ol>    <li><a href="#ies">IES Literals</a><ol>        <li><a href="#ies_doublequoted">Double Quoted IES Literals</a></li>
        <li><a href="#ies_wysiwyg">Wysiwyg IES Literals</a></li>
        <li><a href="#ies_token">Token IES Literals</a></li>
    </ol></li>
    <li><a href="#expression_translation">Expression Translation</a></li>
    <li><a href="#core_interpolation">core.interpolation Types</a><ol>        <li><a href="#interp_header">InterpolationHeader and InterpolationFooter</a></li>
        <li><a href="#interp_literal">InterpolatedLiteral</a></li>
        <li><a href="#interp_literal">InterpolatedExpression</a></li>
    </ol></li>
    <li><a href="#accepting">Accepting and Processing IES</a></li>
    <li><a href="#tostring">Converting to a String</a></li>
</ol>
</div>
<div class="blankline"></div>
<p>Interpolation Expression Sequences (IES) are expressions that intersperse
string literal data and values. An interpolation expression is written like a
string, but can contain values that are passed directly to a function that is
able to accept them. It is transformed into a <i>Sequence</i> of expressions that
can be overloaded or handled by template functions.</p>
<div class="blankline"></div>
<h2><a class="anchor" title="Permalink to this section" id="ies" href="#ies">IES Literals</a></h2>
<div class="blankline"></div>
<pre class="bnf notranslate"><a id="InterpolationExpressionSequence"><span class="gname">InterpolationExpressionSequence</span></a>:
    <a href="#InterpolatedDoubleQuotedLiteral"><i>InterpolatedDoubleQuotedLiteral</i></a>
    <a href="#InterpolatedWysiwygLiteral"><i>InterpolatedWysiwygLiteral</i></a>
    <a href="#InterpolatedTokenLiteral"><i>InterpolatedTokenLiteral</i></a>
</pre>
<div class="blankline"></div>
<p>An Interpolation Expression sequence can either wysiwyg quoted, double
quoted, or a token literal. Only double quoted literals can have escapes in
them.</p>
<div class="blankline"></div>
<p>Unlike string literals, IES literals cannot have a suffix defining the
width of the character type for the string expressions.</p>
<div class="blankline"></div>
<h3><a class="anchor" title="Permalink to this section" id="ies_doublequoted" href="#ies_doublequoted">Double Quoted IES Literals</a></h3>
<div class="blankline"></div>
<pre class="bnf notranslate"><a id="InterpolatedDoubleQuotedLiteral"><span class="gname">InterpolatedDoubleQuotedLiteral</span></a>:
    <b>i"</b> <a href="#InterpolatedDoubleQuotedCharacters"><i>InterpolatedDoubleQuotedCharacters</i></a><sub>opt</sub> <b>"</b>
<div class="blankline"></div>
<a id="InterpolatedDoubleQuotedCharacters"><span class="gname">InterpolatedDoubleQuotedCharacters</span></a>:
    <a href="#InterpolatedDoubleQuotedCharacter"><i>InterpolatedDoubleQuotedCharacter</i></a>
    <a href="#InterpolatedDoubleQuotedCharacter"><i>InterpolatedDoubleQuotedCharacter</i></a> <i>InterpolatedDoubleQuotedCharacters</i>
<div class="blankline"></div>
<a id="InterpolatedDoubleQuotedCharacter"><span class="gname">InterpolatedDoubleQuotedCharacter</span></a>:
    <a href="../spec/lex.html#DoubleQuotedCharacter"><i>DoubleQuotedCharacter</i></a>
    <a href="#InterpolationEscapeSequence"><i>InterpolationEscapeSequence</i></a>
    <a href="#InterpolationExpression"><i>InterpolationExpression</i></a>
<div class="blankline"></div>
<a id="InterpolationEscapeSequence"><span class="gname">InterpolationEscapeSequence</span></a>:
    <a href="#EscapeSequence"><i>EscapeSequence</i></a>
    <b>\&dollar;</b>
<div class="blankline"></div>
<a id="InterpolationExpression"><span class="gname">InterpolationExpression</span></a>:
    <b>&dollar;(</b> <a href="#AssignExpression"><i>AssignExpression</i></a> <b>)</b>
</pre>
<div class="blankline"></div>
<p>Like <a href="../spec/lex.html#DoubleQuotedString"><i>DoubleQuotedString</i></a>, double-quoted IES literals can
have escape characters in them. Added to the normal escapes is the ability to
escape a literal $</p>
<div class="blankline"></div>
<p>A $ followed by any character other than a left parenthesis is treated as a
literal $ in the expression, there is no need to escape it.</p>
<div class="blankline"></div>
<p>The expression inside an <a href="#InterpolationExpression"><i>InterpolationExpression</i></a> is a full D
expression, and escapes are not needed inside that part of the expression.</p>
<div class="blankline"></div>
<h3><a class="anchor" title="Permalink to this section" id="ies_wysiwyg" href="#ies_wysiwyg">Wysiwyg IES Literals</a></h3>
<div class="blankline"></div>
<pre class="bnf notranslate"><a id="InterpolatedWysiwygLiteral"><span class="gname">InterpolatedWysiwygLiteral</span></a>:
    <b>i`</b> <a href="#InterpolatedWysiwygCharacters"><i>InterpolatedWysiwygCharacters</i></a><sub>opt</sub> <b>`</b>
<div class="blankline"></div>
<a id="InterpolatedWysiwygCharacters"><span class="gname">InterpolatedWysiwygCharacters</span></a>:
    <a href="#InterpolatedWysiwygCharacter"><i>InterpolatedWysiwygCharacter</i></a>
    <a href="#InterpolatedWysiwygCharacter"><i>InterpolatedWysiwygCharacter</i></a> <i>InterpolatedWysiwygCharacters</i>
<div class="blankline"></div>
<a id="InterpolatedWysiwygCharacter"><span class="gname">InterpolatedWysiwygCharacter</span></a>:
    <a href="../spec/lex.html#WysiwygCharacter"><i>WysiwygCharacter</i></a>
    <a href="#InterpolationExpression"><i>InterpolationExpression</i></a>
</pre>
<div class="blankline"></div>
<p>Wysiwyg ("what you see is what you get") IES literals are defined like
<a href="../spec/lex.html#WysiwygString"><i>WysiwygString</i></a> strings, but only support backquote syntax. No
escapes are recognized inside these literals.</p>
<div class="blankline"></div>
<h3><a class="anchor" title="Permalink to this section" id="ies_token" href="#ies_token">Token IES Literals</a></h3>
<div class="blankline"></div>
<pre class="bnf notranslate"><a id="InterpolatedTokenLiteral"><span class="gname">InterpolatedTokenLiteral</span></a>:
    <span class="d_inlinecode donthyphenate notranslate">iq{</span> <a href="#InterpolatedTokenStringTokens"><i>InterpolatedTokenStringTokens</i></a><sub>opt</sub> <span class="d_inlinecode donthyphenate notranslate">}</span>
<div class="blankline"></div>
<a id="InterpolatedTokenStringTokens"><span class="gname">InterpolatedTokenStringTokens</span></a>:
    <a href="#InterpolatedTokenStringToken"><i>InterpolatedTokenStringToken</i></a>
    <a href="#InterpolatedTokenStringToken"><i>InterpolatedTokenStringToken</i></a> <i>InterpolatedTokenStringTokens</i>
<div class="blankline"></div>
<a id="InterpolatedTokenStringToken"><span class="gname">InterpolatedTokenStringToken</span></a>:
    <a href="#InterpolatedTokenNoBraces"><i>InterpolatedTokenNoBraces</i></a>
    <b>{</b> <i>InterpolatedTokenStringTokens</i><sub>opt</sub> <b>}</b>
<div class="blankline"></div>
<a id="InterpolatedTokenNoBraces"><span class="gname">InterpolatedTokenNoBraces</span></a>:
    <a href="../spec/lex.html#TokenNoBraces"><i>TokenNoBraces</i></a>
    <a href="#InterpolationExpression"><i>InterpolationExpression</i></a>
</pre>
<div class="blankline"></div>
<p>Like <a href="../spec/lex.html#TokenString"><i>TokenString</i></a>, IES Token literals must contain only
valid D tokens, with the exception of <a href="#InterpolationExpression"><i>InterpolationExpression</i></a>. No
escapes are recognized.</p>
<div class="blankline"></div>
<h2><a class="anchor" title="Permalink to this section" id="expression_translation" href="#expression_translation">Expression Translation</a></h2>
<div class="blankline"></div>
<p>When the lexer encounters an Interpolation Expression Sequence, the token
is translated into a sequence of expressions, which replaces the single token.
The sequence always starts with the expression
<span class="d_inlinecode donthyphenate notranslate">core.interpolation.InterpolationHeader()</span> and always ends with
<span class="d_inlinecode donthyphenate notranslate">core.interpolation.InterpolationFooter()</span></p>
<div class="blankline"></div>
<p>Each part <span class="d_inlinecode donthyphenate notranslate">str</span> of the token which is literal string data is translated
into the expression <span class="d_inlinecode donthyphenate notranslate">core.interpolation.InterpolatedLiteral!(str)</span></p>
<div class="blankline"></div>
<p>Each part <span class="d_inlinecode donthyphenate notranslate">&dollar;(expr)</span> of the token which is an <a href="#InterpolationExpression"><i>InterpolationExpression</i></a> is translated into the sequence <span class="d_inlinecode donthyphenate notranslate">core.interpolation.InterpolatedExpression!(expr), expr</span>.</p>
<div class="blankline"></div>
<pre class="d_code notranslate"><span class="d_comment">// simple version of std.typecons.Tuple
</span><span class="d_keyword">struct</span> Tuple(T...) { T value; }
Tuple!T tuple(T...)(T value) { <span class="d_keyword">return</span> Tuple!T(value); }

<span class="d_keyword">import</span> core.interpolation;
string name = <span class="d_string">"John Doe"</span>;
<span class="d_keyword">auto</span> items = tuple(<span class="d_string">i"Hello, &dollar;(name), how are you?"</span>);
<span class="d_keyword">assert</span>(items == tuple(
    InterpolationHeader(),                       <span class="d_comment">// denotes the start of an IES
</span>    InterpolatedLiteral!(<span class="d_string">"Hello, "</span>)(),           <span class="d_comment">// literal string data
</span>    InterpolatedExpression!(<span class="d_string">"name"</span>)(),           <span class="d_comment">// expression literal data
</span>    name,                                        <span class="d_comment">// expression passed directly
</span>    InterpolatedLiteral!(<span class="d_string">", how are you?"</span>)(),    <span class="d_comment">// literal string data
</span>    InterpolationFooter()));                     <span class="d_comment">// denotes the end of an IES
</span></pre>
<div class="blankline"></div>
<h2><a class="anchor" title="Permalink to this section" id="core_interpolation" href="#core_interpolation">core.interpolation Types</a></h2>
<div class="blankline"></div>
<p>Types defined in <span class="d_inlinecode donthyphenate notranslate">core.interpolation</span> need not be imported to use IES.
These are automatically imported when an IES is used. The types are defined so
as to make it easy to introspect the IES for processing at compile-time.</p>
<div class="blankline"></div>
<h3><a class="anchor" title="Permalink to this section" id="interp_header" href="#interp_header">InterpolationHeader and InterpolationFooter</a></h3>
<div class="blankline"></div>
<p>The <span class="d_inlinecode donthyphenate notranslate">InterpolationHeader</span> and <span class="d_inlinecode donthyphenate notranslate">InterpolationFooter</span> type are empty
structs that allow easy overloading of functions to handle IES. They also can
be used to understand which parts of a expression list were passed via IES.</p>
<div class="blankline"></div>
<p>These types have a <span class="d_inlinecode donthyphenate notranslate">toString</span> definition that returns an empty string,
to allow for processing by functions which intend to convert IES to text, such
as <a href="../phobos/std_stdio.html#.writeln"><span class="d_inlinecode donthyphenate notranslate">std.stdio.writeln</span></a> or <a href="../phobos/std_conv.html#.text"><span class="d_inlinecode donthyphenate notranslate">std.conv.text</span></a>.</p>
<div class="blankline"></div>
<h3><a class="anchor" title="Permalink to this section" id="interp_literal" href="#interp_literal">InterpolatedLiteral</a></h3>
<div class="blankline"></div>
<p>The <span class="d_inlinecode donthyphenate notranslate">InterpolatedLiteral</span> type is an empty struct that provides
compile-time access to the string literal portion of an IES. This type also
provides a <span class="d_inlinecode donthyphenate notranslate">toString</span> member function which returns the part of the
sequence that this value replaced.</p>
<div class="blankline"></div>
<h3><a class="anchor" title="Permalink to this section" id="interp_literal" href="#interp_literal">InterpolatedExpression</a></h3>
<div class="blankline"></div>
<p>The <span class="d_inlinecode donthyphenate notranslate">InterpolatedExpression</span> type is an empty struct that provides
compile-time access to the literal that was used to form the following
expression. It provides a <span class="d_inlinecode donthyphenate notranslate">toString</span> member function which returns the empty
string. It also has an <span class="d_inlinecode donthyphenate notranslate">enum expression</span> member, which is equal to the
template parameter used to construct the type.</p>
<div class="blankline"></div>
<pre class="d_code notranslate">string name = <span class="d_string">"John Doe"</span>;
<span class="d_keyword">auto</span> ies = <span class="d_string">i"Hello, &dollar;(name)"</span>;
<span class="d_keyword">static</span> <span class="d_keyword">assert</span>(<span class="d_keyword">is</span>(<span class="d_keyword">typeof</span>(ies[0]) == InterpolationHeader));
<span class="d_keyword">static</span> <span class="d_keyword">assert</span>(ies[1].toString() == <span class="d_string">"Hello, "</span>);
<span class="d_keyword">static</span> <span class="d_keyword">assert</span>(ies[2].expression == <span class="d_string">"name"</span>);
<span class="d_keyword">assert</span>(ies[3] == name);
<span class="d_keyword">static</span> <span class="d_keyword">assert</span>(<span class="d_keyword">is</span>(<span class="d_keyword">typeof</span>(ies[4]) == InterpolationFooter));
</pre>
<div class="blankline"></div>
<h2><a class="anchor" title="Permalink to this section" id="accepting" href="#accepting">Accepting and Processing IES</a></h2>
<div class="blankline"></div>
<p>The recommended mechanism to accept IES is to provide a variadic template
function to match the various parameters inside the sequence, surrounded by
explicit <span class="d_inlinecode donthyphenate notranslate">InterpolationHeader</span> and <span class="d_inlinecode donthyphenate notranslate">InterpolationFooter</span> parameters.</p>
<div class="blankline"></div>
<pre class="d_code notranslate"><span class="d_keyword">void</span> processIES(Sequence...)(InterpolationHeader, Sequence data, InterpolationFooter)
{
    <span class="d_comment">// process `data` here
</span>}
</pre>
<div class="blankline"></div>
<p>An IES can also contain types as interpolation expressions. This can be
used by passing to a variadic template parameter.</p>
<div class="blankline"></div>
<pre class="d_code notranslate"><span class="d_keyword">template</span> processIESAtCompileTime(InterpolationHeader header, Sequence...)
{
    <span class="d_keyword">static</span> <span class="d_keyword">assert</span>(Sequence[$-1] == InterpolationFooter());
}

<span class="d_keyword">alias</span> result = processIES!<span class="d_string">i"Here is a type: &dollar;(int)"</span>;
</pre>
<div class="blankline"></div>
<h2><a class="anchor" title="Permalink to this section" id="tostring" href="#tostring">Converting to a String</a></h2>
<div class="blankline"></div>
<p>In many cases, it is desirable to convert an IES to a <span class="d_inlinecode donthyphenate notranslate">string</span>. The
Phobos function <a href="../phobos/std_conv.html#.text"><span class="d_inlinecode donthyphenate notranslate">std.conv.text</span></a> can convert the IES to a <span class="d_inlinecode donthyphenate notranslate">string</span> for use
in any context where a string is needed, for instance to assign to a string
variable, or call a function that accepts a string.</p>
<div class="blankline"></div>
<pre class="d_code notranslate"><span class="d_keyword">import</span> std.conv : text;
string name = <span class="d_string">"John Doe"</span>;

string badgreeting = <span class="d_string">i"Hello, &dollar;(name)"</span>; <span class="d_comment">// Error
</span>string greeting = <span class="d_string">i"Hello, &dollar;(name)"</span>.text; <span class="d_comment">// OK
</span><span class="d_keyword">assert</span>(greeting == <span class="d_string">"Hello, John Doe"</span>);
</pre>
<div class="blankline"></div>
<p>It is highly recommended for library authors who wish to accept IES to
provide an overload that accepts them, rather than rely on <span class="d_inlinecode donthyphenate notranslate">std.conv</span>, as
this incurs unnecessary allocations. This is especially important where certain
types of injection attacks are possible from malicious user-provided data.</p>
<div class="blankline"></div>

<div style="float: left"><i class="fa fa-angle-left" aria-hidden="true"></i> <a href="../spec/lex.html">Lexical</a></div>
<div style="float: right"><a href="../spec/grammar.html">Grammar</a> <i class="fa fa-angle-right" aria-hidden="true"></i></div>
<div style="clear:both"></div>



        <div class="smallprint" id="copyright">Copyright &copy; 1999-2024 by the <a href="../foundation_overview.html">D Language Foundation</a> | Page generated by
<a href="../spec/ddoc.html">Ddoc</a> on (no date time)</div>
    </div>
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('\x3Cscript src="../js/jquery-1.7.2.min.js">\x3C/script>');</script>
    <script type="text/javascript" src="../js/dlang.js"></script>
    
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>


<script type="text/javascript" src="../js/listanchors.js"></script>
<script type="text/javascript">jQuery(document).ready(addVersionSelector);</script>
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
</body>
</html>
