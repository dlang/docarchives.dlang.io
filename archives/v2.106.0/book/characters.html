
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2024 by the D Language Foundation
    All Rights Reserved.
    https://dlang.org/foundation_overview.html
  -->
<head>
<meta charset="utf-8">
<meta name="keywords" content="D programming language">
<meta name="description" content="D Programming Language">
<title>Characters - D Programming Language</title>

<link rel="stylesheet" href="../css/codemirror.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/print.css" media="print">
<link rel="shortcut icon" href="../favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0">

</head>
<body id='Characters' class='doc'>
<script type="text/javascript">document.body.className += ' have-javascript'</script>
<div id="top"><div class="helper"><div class="helper expand-container">    <div class="logo"><a href="."><img id="logo" alt="D Logo" src="../images/dlogo.svg"></a></div>
    <a href="../menu.html" title="Menu" class="hamburger expand-toggle"><span>Menu</span></a>
    
<div id="cssmenu"><ul>    <li><a href='https://tour.dlang.org'><span>Learn</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../documentation.html'><span>Documentation</span></a>
      
<ul class='expand-content'>    <li><a href='../spec/spec.html'>Language Reference</a></li>
    <li><a href='../phobos/index.html'>Library Reference</a></li>
    <li><a href='../dmd.html'>Command-line Reference</a></li>
    <li class="menu-divider"><a href='../comparison.html'>Feature Overview</a></li>
    <li><a href='../articles.html'>Articles</a></li>
 </ul></li>
    <li><a href='../download.html'><span>Downloads</span></a></li>
    <li><a href='https://code.dlang.org'><span>Packages</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../community.html'><span>Community</span></a>
      
<ul class='expand-content'>    <li><a href='https://dlang.org/blog'>Blog</a></li>
    <li><a href='../orgs-using-d.html'>Orgs using D</a></li>
    <li><a href='https://twitter.com/search?q=%23dlang'>Twitter</a></li>
    <li><a href='../calendar.html'>Calendar</a></li>
    <li class="menu-divider"><a href='https://forum.dlang.org'>Forums</a></li>
    <li><a href='irc://irc.libera.chat/d'>IRC</a></li>
    <li><a href='https://discord.gg/bMZk9Q4'>Community Discord</a></li>
    <li><a href='https://wiki.dlang.org'>Wiki</a></li>
    <li class="menu-divider"><a href='https://github.com/dlang'>GitHub</a></li>
    <li><a href='../bugstats.html'>Issues</a></li>
    <li><a href='https://wiki.dlang.org/Get_involved'>Get involved</a></li>
    <li class="menu-divider"><a href='../foundation/contributors.html'>Contributors</a></li>
    <li><a href='../foundation/index.html'>Foundation</a></li>
    <li><a href='..//security.html'>Security Team</a></li>
    <li><a href='../foundation/donate.html'>Donate</a></li>
    <li><a href='../foundation/sponsors.html'>Sponsors</a></li>
 </ul></li>
    <li class='expand-container'><a class='expand-toggle' href='../resources.html'><span>Resources</span></a>
      
<ul class='expand-content'>    <li><a href='https://tour.dlang.org'>Tour</a></li>
    <li><a href='https://wiki.dlang.org/Books'>Books</a></li>
    <li><a href='https://wiki.dlang.org/Tutorials'>Tutorials</a></li>
    <li class="menu-divider"><a href='https://wiki.dlang.org/Development_tools'>Tools</a></li>
    <li><a href='https://wiki.dlang.org/Editors'>Editors</a></li>
    <li><a href='https://wiki.dlang.org/IDEs'>IDEs</a></li>
    <li><a href='https://run.dlang.io'>run.dlang.io</a></li>
    <li><a href='http://rainers.github.io/visuald/visuald/StartPage.html'>Visual D</a></li>
    <li class="menu-divider"><a href='../acknowledgements.html'>Acknowledgments</a></li>
    <li><a href='../dstyle.html'>D Style</a></li>
    <li><a href='../glossary.html'>Glossary</a></li>
    <li><a href='../sitemap.html'>Sitemap</a></li>
 </ul></li>
</ul></div>
    <div class="search-container expand-container">        <a href="../search.html" class="expand-toggle" title="Search"><span>Search</span></a>
        
    <div id="search-box">        <form method="get" action="https://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org">
            <input type="hidden" id="sourceid" name="sourceid" value="google-search">
            <span id="search-query"><input id="q" name="q" placeholder="Search"></span><span id="search-dropdown"><span class="helper">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire Site</option>
                    <option  value="dlang.org/spec">Language</option>
                    <option  value="dlang.org/phobos">Library</option>
                    <option  value="forum.dlang.org">Forums</option>
                    
                </select>
            </span></span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    </div>
</div></div></div>

<div class="container">    
    <div class="hyphenate" id="content">        
<div id="tools"><div >	<div class="tip smallprint">		<a href="https://issues.dlang.org/enter_bug.cgi?bug_file_loc=http%3A%2F%2Fdlang.org/&amp;component=dlang.org&amp;op_sys=All&amp;priority=P3&amp;product=D&amp;rep_platform=All&amp;short_desc=%5BCharacters%5D&amp;version=D2&amp;bug_severity=enhancement">Report a bug</a>
		<div >			If you spot a problem with this page, click here to create a Bugzilla issue.
		</div>
	</div>
	<div class="tip smallprint">		<a href="https://github.com/dlang/dlang.org/edit/master/d.en/characters.d">Improve this page</a>
		<div >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			a local clone.
		</div>
	</div>
</div></div>
        <h1>Characters</h1>
        
        



<p>Characters are building blocks of strings. Any symbol of a writing system is called a character: letters of alphabets, numerals, punctuation marks, the space character, etc. Confusingly, building blocks of characters themselves are called characters as well.
</p>

<p>Arrays of characters make up <i>strings</i>. We have seen arrays in the previous chapter; strings will be covered two chapters later.
</p>

<p>Like any other data, characters are also represented as integer values that are made up of bits. For example, the integer value of the lowercase <code class="d_inline">'a'</code> is 97 and the integer value of the numeral <code class="d_inline">'1'</code> is 49. These values are merely a convention, assigned when the ASCII standard was designed.
</p>

<p>In many programming languages, characters are represented by the <code class="d_inline">char</code> type, which can hold only 256 distinct values. If you are familiar with the <code class="d_inline">char</code> type from other languages, you may already know that it is not large enough to support the symbols of many writing systems. Before getting to the three distinct character types of D, let's first take a look at the history of characters in computer systems.
</p>

<h5 class="subsection">History</h5>

<h6><a id="ix_Characters.ASCII" content="ASCII"></a> ASCII Table</h6>

<p>The ASCII table was designed at a time when computer hardware was very limited compared to modern systems. Having been based on 7 bits, the ASCII table can have 128 distinct code values. That many distinct values are sufficient to represent the lowercase and uppercase versions of the 26 letters of the basic Latin alphabet, numerals, commonly used punctuation marks, and some terminal control characters.
</p>

<p>As an example, the ASCII codes of the characters of the string <code class="d_inline"><span class="d_string">"hello"</span></code> are the following (the commas are inserted just to make it easier to read):
</p>

<pre class="mono">104, 101, 108, 108, 111
</pre>

<p>Every code above represents a single letter of <code class="d_inline"><span class="d_string">"hello"</span></code>. For example, there are two 108 values corresponding to the two <code class="d_inline">'l'</code> letters.
</p>

<p>The codes of the ASCII table were later increased to 8 bits to become the Extended ASCII table. The Extended ASCII table has 256 distinct codes.
</p>

<h6><a id="ix_Characters.code page" content="code page"></a> IBM Code Pages</h6>

<p>IBM Corporation has defined a set of tables, each one of which assign the codes of the Extended ASCII table from 128 to 255 to one or more writing systems. These code tables allowed supporting the letters of many more alphabets. For example, the special letters of the Turkish alphabet are a part of IBM's code page 857.
</p>

<p>Despite being much more useful than ASCII, code pages have some problems and limitations: In order to display text correctly, it must be known what code page a given text was originally written in. This is because the same code corresponds to a different character in most other tables. For example, the code that represents <code class="d_inline">'Ğ'</code> in table 857 corresponds to <code class="d_inline">'ª'</code> in table 437.
</p>

<p>In addition to the difficulty in supporting multiple alphabets in a single document, alphabets that have more than 128 non-ASCII characters cannot be supported by an IBM table at all.
</p>

<h6>ISO/IEC 8859 Code Pages</h6>

<p>The ISO/IEC 8859 code pages are a result of international standardization efforts. They are similar to IBM's code pages in how they assign codes to characters. As an example, the special letters of the Turkish alphabet appear in code page 8859-9. These tables have the same problems and limitations as IBM's tables. For example, the Dutch digraph ĳ does not appear in any of these tables.
</p>

<h6><a id="ix_Characters.unicode" content="unicode"></a> Unicode</h6>

<p>Unicode solves all problems and limitations of previous solutions. Unicode includes more than a hundred thousand characters and symbols of the writing systems of many human languages, current and old. (New ones are constanly under review for addition to the table.) Each of these characters has a unique code. Documents that are encoded in Unicode can include all characters of separate writing systems without any confusion or limitation.
</p>

<h5 class="subsection"><a id="ix_Characters.encoding, unicode" content="encoding, unicode"></a> Unicode encodings</h5>

<p>Unicode assigns a unique code for each character. Since there are more Unicode characters than an 8-bit value can hold, some characters must be represented by at least two 8-bit values. For example, the Unicode character code of <code class="d_inline">'Ğ'</code> (286) is greater than the maximum value of a <code class="d_inline">ubyte</code>.
</p>

<p>The way characters are represented in electronic mediums is called their <i>encoding</i>. We have seen above how the string <code class="d_inline"><span class="d_string">"hello"</span></code> is encoded in ASCII. We will now see three Unicode encodings that correspond to D's character types.
</p>

<p><a id="ix_Characters.UTF-32" content="UTF-32"></a> <b>UTF-32:</b> This encoding uses 32 bits (4 bytes) for every Unicode character. The UTF-32 encoding of <code class="d_inline"><span class="d_string">"hello"</span></code> is similar to its ASCII encoding, but every character is represented with 4 bytes:
</p>

<pre class="mono">0,0,0,104, 0,0,0,101, 0,0,0,108, 0,0,0,108, 0,0,0,111
</pre>

<p>As another example, the UTF-32 encoding of <code class="d_inline"><span class="d_string">"aĞ"</span></code> is the following:
</p>

<pre class="mono">0,0,0,97, 0,0,1,30
</pre>

<p><i><b>Note:</b> The order of the bytes of UTF-32 may be different on different computer systems.</i>
</p>

<p><code class="d_inline">'a'</code> and <code class="d_inline">'Ğ'</code> are represented by 1 and 2 significant bytes respectively, and the values of the other 5 bytes are all zeros. These zeros can be thought of as filler bytes to make every Unicode character occupy 4 bytes each.
</p>

<p>For documents based on the basic Latin alphabet, this encoding always uses 4 times as many bytes as the ASCII encoding. When most of the characters of a given document have ASCII equivalents, the 3 filler bytes for each of those characters make this encoding more wasteful compared to other encodings.
</p>

<p>On the other hand, there are benefits of representing every character by an equal number of bytes. For example, the next Unicode character is always exactly four bytes away.
</p>

<p><a id="ix_Characters.UTF-16" content="UTF-16"></a> <b>UTF-16:</b> This encoding uses 16 bits (2 bytes) to represent most of the Unicode characters. Since 16 bits can have about 65 thousand unique values, the other (less commonly used) 35 thousand Unicode characters must be represented using additional bytes.
</p>

<p>As an example, <code class="d_inline"><span class="d_string">"aĞ"</span></code> is encoded by 4 bytes in UTF-16:
</p>

<pre class="mono">0,97, 1,30
</pre>

<p><i><b>Note:</b> The order of the bytes of UTF-16 may be different on different computer systems.</i>
</p>

<p>Compared to UTF-32, this encoding takes less space for most documents, but because some characters must be represented by more than 2 bytes, UTF-16 is more complicated to process.
</p>

<p><a id="ix_Characters.UTF-8" content="UTF-8"></a> <b>UTF-8:</b> This encoding uses 1 to 4 bytes for every character. If a character has an equivalent in the ASCII table, it is represented by 1 byte, with the same numeric code as in the ASCII table. The rest of the Unicode characters are represented by 2, 3, or 4 bytes. Most of the special characters of the European writing systems are among the group of characters that are represented by 2 bytes.
</p>

<p>For most documents in western countries, UTF-8 is the encoding that takes the least amount of space. Another benefit of UTF-8 is that the documents that were produced using ASCII can be opened directly (without conversion) as UTF-8 documents. UTF-8 also does not waste any space with filler bytes, as every character is represented by significant bytes. As an example, the UTF-8 encoding of <code class="d_inline"><span class="d_string">"aĞ"</span></code> is:
</p>

<pre class="mono">97, 196,158
</pre>

<h5 class="subsection">The character types of D</h5>

<p><a id="ix_Characters.char" content="char"></a>
<a id="ix_Characters.wchar" content="wchar"></a>
<a id="ix_Characters.dchar" content="dchar"></a>
There are three D types to represent characters. These characters correspond to the three Unicode encodings mentioned above. Copying from <a href="types.html">the Fundamental Types chapter</a>:
</p>

<table class="wide" border="1" cellpadding="4" cellspacing="0">
<tr><th scope="col">Type</th> <th scope="col">Definition</th> <th scope="col">Initial Value</th>
</tr>
<tr>		<td>char</td>
	<td>UTF-8 code unit</td>
	<td>0xFF</td>
</tr>

<tr>		<td>wchar</td>
	<td>UTF-16 code unit</td>
	<td>0xFFFF</td>
</tr>
<tr>		<td>dchar</td>
	<td>UTF-32 code unit and Unicode code point</td>

	<td>0x0000FFFF</td>
</tr>
</table>

<p>Contrary to some other programming languages, characters in D may consist of different numbers of bytes. For example, because <code class="d_inline">'Ğ'</code> must be represented by at least 2 bytes in Unicode, it doesn't fit in a variable of type <code class="d_inline">char</code>. On the other hand, because <code class="d_inline">dchar</code> consists of 4 bytes, it can hold any Unicode character.
</p>

<h5 class="subsection"><a id="ix_Characters.literal, character" content="literal, character"></a> Character literals</h5>

<p>Literals are constant values that are written in the program as a part of the source code. In D, character literals are specified within single quotes:
</p>

<pre class="d_code">    <span class="d_keyword">char</span>  letter_a = 'a';
    <span class="d_keyword">wchar</span> letter_e_acute = 'é';
</pre>

<p>Double quotes are not valid for characters because double quotes are used when specifying <i>strings</i>, which we will see in <a href="strings.html">a later chapter</a>. <code class="d_inline">'a'</code> is a character literal and <code class="d_inline"><span class="d_string">"a"</span></code> is a string literal that consists of a single character.
</p>

<p>Variables of type <code class="d_inline">char</code> can only hold letters that are in the ASCII table.
</p>

<p>There are many ways of inserting characters in code:
</p>

<ul><li>Most naturally, typing them on the keyboard.
</li>

<li>Copying from another program or another text. For example, you can copy and paste from a web site, or from a program that is specifically for displaying Unicode characters. (One such program in most Linux environments is <i>Character Map</i> (<code class="d_inline">charmap</code> on the terminal).)
</li>

<li>Using short names of the characters. The syntax for this feature is <code class="d_inline">\&amp;<i>character_name</i>;</code>. For example, the name of the Euro sign is <code class="d_inline">euro</code> and it can be specified in the program as follows:

<pre class="d_code">    <span class="d_keyword">wchar</span> currencySymbol = '\&amp;euro;';
</pre>

<p>See <a href="http://dlang.org/entity.html">the list of named characters</a> for all characters that can be specified this way.
</p>

</li>

<li>Specifying characters by their integer Unicode values:

<pre class="d_code">    <span class="d_keyword">char</span> a = 97;
    <span class="d_keyword">wchar</span> Ğ = 286;
</pre>

</li>

<li>Specifying the codes of the characters of the ASCII table either by <code class="d_inline">\<i>value_in_octal</i></code> or <code class="d_inline">\x<i>value_in_hexadecimal</i></code> syntax:

<pre class="d_code">    <span class="d_keyword">char</span> questionMarkOctal = '\77';
    <span class="d_keyword">char</span> questionMarkHexadecimal = '\x3f';
</pre>

</li>

<li>Specifying the Unicode values of the characters by using the <code class="d_inline">\u<i>four_digit_value</i></code> syntax for <code class="d_inline">wchar</code>, and the <code class="d_inline">\U<i>eight_digit_value</i></code> syntax for <code class="d_inline">dchar</code> (note <code class="d_inline">u</code> versus <code class="d_inline">U</code>). The Unicode values must be specified in hexadecimal:

<pre class="d_code">    <span class="d_keyword">wchar</span> Ğ_w = '\u011e';
    <span class="d_keyword">dchar</span> Ğ_d = '\U0000011e';
</pre>

</li>

</ul>

<p>These methods can be used to specify the characters within strings as well. For example, the following two lines have the same string literals:
</p>
<pre class="d_code">    writeln(<span class="d_string">"Résumé preparation: 10.25€"</span>);
    writeln(<span class="d_string">"\x52\&amp;eacute;sum\u00e9 preparation: 10.25\&amp;euro;"</span>);
</pre>

<h5 class="subsection"><a id="ix_Characters.control character" content="control character"></a> Control characters</h5>

<p>Some characters only affect the formatting of the text, they don't have a visual representation themselves. For example, the <i>new-line</i> character, which specifies that the output should continue on a new line, does not have a visual representation. Such characters are called <i>control characters</i>. Some common control characters can be specified with the <code class="d_inline">\<i>control_character</i></code> syntax.
</p>

<table class="wide" border="1" cellpadding="4" cellspacing="0">
<tr><th scope="col">Syntax</th> <th scope="col">Name</th> <th scope="col">Definition</th>

</tr>
<tr>
 <td>\n</td>
 <td>new&nbsp;line</td>
 <td>Moves the printing to a new line</td>
</tr>
<tr>
 <td>\r</td>
 <td>carriage&nbsp;return</td>
 <td>Moves the printing to the beginning of the current line</td>
</tr>
<tr>
 <td>\t</td>
 <td>tab</td>
 <td>Moves the printing to the next tab stop</td>
</tr>
</table>

<p>For example, the <code class="d_inline">write()</code> function, which does not start a new line automatically, would do so for every <code class="d_inline">\n</code> character. Every occurrence of the <code class="d_inline">\n</code> control character within the following literal represents the start of a new line:
</p>

<pre class="d_code">    write(<span class="d_string">"first line\nsecond line\nthird line\n"</span>);
</pre>

<p>The output:
</p>

<pre class="shell">first line
second line
third line
</pre>

<h5 class="subsection"><a id="ix_Characters.'" content="'"></a> <a id="ix_Characters.\" content="\"></a> Single quote and backslash</h5>

<p>The single quote character itself cannot be written within single quotes because the compiler would take the second one as the closing character of the first one: <code class="d_inline">'''</code>. The first two would be the opening and closing quotes, and the third one would be left alone, causing a compilation error.
</p>

<p>Similarly, since the backslash character has a special meaning in the control character and literal syntaxes, the compiler would take it as the start of such a syntax: <code class="d_inline">'\'</code>. The compiler then would be looking for a closing single quote character, not finding one, and emitting a compilation error.
</p>

<p>For those reasons, the single quote and the backslash characters are <i>escaped</i> by a preceding backslash character:
</p>

<table class="wide" border="1" cellpadding="4" cellspacing="0">
<tr><th scope="col">Syntax</th> <th scope="col">Name</th> <th scope="col">Definition</th>

</tr>
<tr>
 <td>\'</td>
 <td>single&nbsp;quote</td>
 <td>Allows specifying the single quote character:'\''</td>
</tr>
<tr>
 <td>\\</td>
 <td>backslash</td>
 <td>Allows specifying the backslash character: '\\' or "\\"</td>
</tr>
</table>

<h5 class="subsection"><a id="ix_Characters.std.uni" content="std.uni"></a> The std.uni module</h5>

<p>The <code class="d_inline">std.uni</code> module includes functions that are useful for working with Unicode characters. You can see this module at <a href="http://dlang.org/phobos/std_uni.html">its documentation</a>.
</p>

<p>The functions that start with <code class="d_inline">is</code> answer certain questions about characters. The result is <code class="d_inline">false</code> or <code class="d_inline">true</code> depending on whether the answer is no or yes, respectively. These functions are useful in logical expressions:
</p>

<ul><li><code class="d_inline">isLower</code>: is it a lowercase character?
</li>
<li><code class="d_inline">isUpper</code>: is it an uppercase character?
</li>
<li><code class="d_inline">isAlpha</code>: is it a Unicode alphabetic character?
</li>
<li><code class="d_inline">isWhite</code>: is it a whitespace character?
</li>
</ul>

<p>The functions that start with <code class="d_inline">to</code> produce new characters from existing ones:
</p>

<ul><li><code class="d_inline">toLower</code>: produces the lowercase version of the given character
</li>
<li><code class="d_inline">toUpper</code>: produces the uppercase version of the given character
</li>
</ul>

<p>Here is a program that uses all those functions:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;
<span class="d_keyword">import</span> std.uni;

<span class="d_keyword">void</span> main() {
    writeln(<span class="d_string">"Is ğ lowercase? "</span>, isLower('ğ'));
    writeln(<span class="d_string">"Is Ş lowercase? "</span>, isLower('Ş'));

    writeln(<span class="d_string">"Is İ uppercase? "</span>, isUpper('İ'));
    writeln(<span class="d_string">"Is ç uppercase? "</span>, isUpper('ç'));

    writeln(<span class="d_string">"Is z alphabetic? "</span>,       isAlpha('z'));
    writeln(<span class="d_string">"Is \&amp;euro; alphabetic? "</span>, isAlpha('\&amp;euro;'));

    writeln(<span class="d_string">"Is new-line whitespace? "</span>,   isWhite('\n'));
    writeln(<span class="d_string">"Is the underscore whitespace? "</span>, isWhite('_'));

    writeln(<span class="d_string">"The lowercase of Ğ: "</span>, toLower('Ğ'));
    writeln(<span class="d_string">"The lowercase of İ: "</span>, toLower('İ'));

    writeln(<span class="d_string">"The uppercase of ş: "</span>, toUpper('ş'));
    writeln(<span class="d_string">"The uppercase of ı: "</span>, toUpper('ı'));
}
</pre>

<p>The output:
</p>

<pre class="shell">Is ğ lowercase? true
Is Ş lowercase? false
Is İ uppercase? true
Is ç uppercase? false
Is z alphabetic? true
Is € alphabetic? false
Is new-line whitespace? true
Is the underscore whitespace? false
The lowercase of Ğ: ğ
The lowercase of İ: i
The uppercase of ş: Ş
The uppercase of ı: I
</pre>

<h5 class="subsection">Limited support for ı and i</h5>

<p>The lowercase and uppercase versions of the letters <code class="d_inline">'ı'</code> and <code class="d_inline">'i'</code> are consistently dotted or undotted in some alphabets (e.g. the Turkish alphabet). Most other aphabets are inconsistent in this regard: the uppercase of the dotted <code class="d_inline">'i'</code> is undotted <code class="d_inline">'I'</code>.
</p>

<p>Because the computer systems have started with the ASCII table, traditionally the uppercase of <code class="d_inline">'i'</code> is <code class="d_inline">'I'</code> and the lowercase of <code class="d_inline">'I'</code> is <code class="d_inline">'i'</code>. For that reason, these two letters may need special attention. The following program demonstrates this problem:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;
<span class="d_keyword">import</span> std.uni;

<span class="d_keyword">void</span> main() {
    writeln(<span class="d_string">"The uppercase of i: "</span>, toUpper('i'));
    writeln(<span class="d_string">"The lowercase of I: "</span>, toLower('I'));
}
</pre>

<p>The output is according to the basic Latin alphabet:
</p>

<pre class="shell">The uppercase of i: I
The lowercase of I: i
</pre>

<p>Characters are converted between their uppercase and lowercase versions normally by their Unicode character codes. This method is problematic for many alphabets. For example, the Azeri and Celt alphabets are subject to the same problem of producing the lowercase of <code class="d_inline">'I'</code> as <code class="d_inline">'i'</code>.
</p>

<p>There are similar problems with sorting: Many letters like <code class="d_inline">'ğ'</code> and <code class="d_inline">'á'</code> may be sorted after <code class="d_inline">'z'</code> even for the basic Latin alphabet.
</p>

<h5 class="subsection"><a id="ix_Characters.read, character" content="read, character"></a> Problems with reading characters</h5>

<p>The flexibility and power of D's Unicode characters may cause unexpected results when reading characters from an input stream. This contradiction is due to the multiple meanings of the term <i>character</i>. Before expanding on this further, let's look at a program that exhibits this problem:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;

<span class="d_keyword">void</span> main() {
    <span class="d_keyword">char</span> letter;
    write(<span class="d_string">"Please enter a letter: "</span>);
    readf(<span class="d_string">" %s"</span>, &amp;letter);
    writeln(<span class="d_string">"The letter that has been read: "</span>, letter);
}
</pre>

<p>If you try that program in an environment that does not use Unicode, you may see that even the non-ASCII characters are read and printed correctly.
</p>

<p>On the other hand, if you start the same program in a Unicode environment (e.g. a Linux terminal), you may see that the character printed on the output is not the same character that has been entered. To see this, let's enter a non-ASCII character in a terminal that uses the UTF-8 encoding (like most Linux terminals):
</p>

<pre class="shell">Please enter a letter: ğ
The letter that has been read:   <span class="shell_note">← no letter on the output</span>
</pre>

<p>The reason for this problem is that the non-ASCII characters like <code class="d_inline">'ğ'</code> are represented by two codes, and reading a <code class="d_inline">char</code> from the input reads only the first one of those codes. Since that single <code class="d_inline">char</code> is not sufficient to represent the whole Unicode character, the program does not have a complete character to display.
</p>

<p>To show that the UTF-8 codes that make up a character are indeed read one <code class="d_inline">char</code> at a time, let's read two <code class="d_inline">char</code> variables and print them one after the other:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;

<span class="d_keyword">void</span> main() {
    <span class="d_keyword">char</span> firstCode;
    <span class="d_keyword">char</span> secondCode;

    write(<span class="d_string">"Please enter a letter: "</span>);
    readf(<span class="d_string">" %s"</span>, &amp;firstCode);
    readf(<span class="d_string">" %s"</span>, &amp;secondCode);

    writeln(<span class="d_string">"The letter that has been read: "</span>,
            firstCode, secondCode);
}
</pre>

<p>The program reads two <code class="d_inline">char</code> variables from the input and prints them in the same order that they are read. When those codes are sent to the terminal in that same order, they complete the UTF-8 encoding of the Unicode character on the terminal and this time the Unicode character is printed correctly:
</p>

<pre class="shell">Please enter a letter: ğ
The letter that has been read: ğ
</pre>

<p>These results are also related to the fact that the standard inputs and outputs of programs are <code class="d_inline">char</code> streams.
</p>

<p>We will see later in <a href="strings.html">the Strings chapter</a> that it is easier to read characters as strings, instead of dealing with UTF codes individually.
</p>

<h5 class="subsection">D's Unicode support</h5>

<p>Unicode is a large and complicated standard. D supports a very useful subset of it.
</p>

<p>A Unicode-encoded document consists of the following levels of concepts, from the lowermost to the uppermost:
</p>

<ul>
<li><a id="ix_Characters.code unit" content="code unit"></a> <b>Code unit</b>: The values that make up the UTF encodings are called code units. Depending on the encoding and the characters themselves, Unicode characters are made up of one or more code units. For example, in the UTF-8 encoding the letter <code class="d_inline">'a'</code> is made up of a single code unit and the letter <code class="d_inline">'ğ'</code> is made up of two code units.

<p>D's character types <code class="d_inline">char</code>, <code class="d_inline">wchar</code>, and <code class="d_inline">dchar</code> correspond to UTF-8, UTF-16, and UTF-32 code units, respectively.
</p>

</li>

<li><a id="ix_Characters.code point" content="code point"></a> <b>Code point</b>: Every letter, numeral, symbol, etc. that the Unicode standard defines is called a code point. For example, the Unicode code values of <code class="d_inline">'a'</code> and <code class="d_inline">'ğ'</code> are two distinct code points.

<p>Depending on the encoding, code points are represented by one or more code units. As mentioned above, in the UTF-8 encoding <code class="d_inline">'a'</code> is represented by a single code unit, and <code class="d_inline">'ğ'</code> is represented by two code units. On the other hand, both <code class="d_inline">'a'</code> and <code class="d_inline">'ğ'</code> are represented by a single code unit in both UTF-16 and UTF-32 encodings.
</p>

<p>The D type that supports code points is <code class="d_inline">dchar</code>. <code class="d_inline">char</code> and <code class="d_inline">wchar</code> can only be used as code units.
</p>

</li>

<li><b>Character</b>: Any symbol that the Unicode standard defines and what we call "character" or "letter" in daily talk is a character.

<p><a id="ix_Characters.combined code point" content="combined code point"></a> This definition of character is flexible in Unicode, which brings a complication. Some characters can be formed by more than one code point. For example, the letter <code class="d_inline">'ğ'</code> can be specified in two ways:
</p>

<ul>
<li>as the single code point for <code class="d_inline">'ğ'</code></li>

<li>as the two code points for <code class="d_inline">'g'</code> and <code class="d_inline">'˘'</code> (combining breve)

</li>

</ul>

<p>Although they would mean the same character to a human reader, the single code point <code class="d_inline">'ğ'</code> is different from the two consecutive code points <code class="d_inline">'g'</code> and <code class="d_inline">'˘'</code>.
</p>

</li>

</ul>

<h5 class="subsection">Summary</h5>

<ul>
<li>Unicode supports all characters of all writing systems.</li>

<li><code class="d_inline">char</code> is for UTF-8 encoding; although it is not suitable to represent characters in general, it supports the ASCII table.</li>

<li><code class="d_inline">wchar</code> is for UTF-16 encoding; although it is not suitable to represent characters in general, it can support letters of multiple alphabets.</li>

<li><code class="d_inline">dchar</code> is for UTF-32 encoding; as it is 32 bits, it can also represent code points.</li>

</ul>


        <div class="smallprint" id="copyright">Copyright &copy; 1999-2024 by the <a href="../foundation_overview.html">D Language Foundation</a> | Page generated by
<a href="../spec/ddoc.html">Ddoc</a> on Mon Jan 29 21:28:31 2024
</div>
    </div>
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('\x3Cscript src="../js/jquery-1.7.2.min.js">\x3C/script>');</script>
    <script type="text/javascript" src="../js/dlang.js"></script>
    
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
</body>
</html>
