
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2024 by the D Language Foundation
    All Rights Reserved.
    https://dlang.org/foundation_overview.html
  -->
<head>
<meta charset="utf-8">
<meta name="keywords" content="D programming language">
<meta name="description" content="D Programming Language">
<title>Pointers Solutions - D Programming Language</title>

<link rel="stylesheet" href="../css/codemirror.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/print.css" media="print">
<link rel="shortcut icon" href="../favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0">

</head>
<body id='Pointers Solutions' class='doc'>
<script type="text/javascript">document.body.className += ' have-javascript'</script>
<div id="top"><div class="helper"><div class="helper expand-container">    <div class="logo"><a href="."><img id="logo" alt="D Logo" src="../images/dlogo.svg"></a></div>
    <a href="../menu.html" title="Menu" class="hamburger expand-toggle"><span>Menu</span></a>
    
<div id="cssmenu"><ul>    <li><a href='https://tour.dlang.org'><span>Learn</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../documentation.html'><span>Documentation</span></a>
      
<ul class='expand-content'>    <li><a href='../spec/spec.html'>Language Reference</a></li>
    <li><a href='../phobos/index.html'>Library Reference</a></li>
    <li><a href='../dmd.html'>Command-line Reference</a></li>
    <li class="menu-divider"><a href='../comparison.html'>Feature Overview</a></li>
    <li><a href='../articles.html'>Articles</a></li>
 </ul></li>
    <li><a href='../download.html'><span>Downloads</span></a></li>
    <li><a href='https://code.dlang.org'><span>Packages</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../community.html'><span>Community</span></a>
      
<ul class='expand-content'>    <li><a href='https://dlang.org/blog'>Blog</a></li>
    <li><a href='../orgs-using-d.html'>Orgs using D</a></li>
    <li><a href='https://twitter.com/search?q=%23dlang'>Twitter</a></li>
    <li><a href='../calendar.html'>Calendar</a></li>
    <li class="menu-divider"><a href='https://forum.dlang.org'>Forums</a></li>
    <li><a href='irc://irc.libera.chat/d'>IRC</a></li>
    <li><a href='https://discord.gg/bMZk9Q4'>Community Discord</a></li>
    <li><a href='https://wiki.dlang.org'>Wiki</a></li>
    <li class="menu-divider"><a href='https://github.com/dlang'>GitHub</a></li>
    <li><a href='../bugstats.html'>Issues</a></li>
    <li><a href='https://wiki.dlang.org/Get_involved'>Get involved</a></li>
    <li class="menu-divider"><a href='../foundation/contributors.html'>Contributors</a></li>
    <li><a href='../foundation/index.html'>Foundation</a></li>
    <li><a href='..//security.html'>Security Team</a></li>
    <li><a href='../foundation/donate.html'>Donate</a></li>
    <li><a href='../foundation/sponsors.html'>Sponsors</a></li>
 </ul></li>
    <li class='expand-container'><a class='expand-toggle' href='../resources.html'><span>Resources</span></a>
      
<ul class='expand-content'>    <li><a href='https://tour.dlang.org'>Tour</a></li>
    <li><a href='https://wiki.dlang.org/Books'>Books</a></li>
    <li><a href='https://wiki.dlang.org/Tutorials'>Tutorials</a></li>
    <li class="menu-divider"><a href='https://wiki.dlang.org/Development_tools'>Tools</a></li>
    <li><a href='https://wiki.dlang.org/Editors'>Editors</a></li>
    <li><a href='https://wiki.dlang.org/IDEs'>IDEs</a></li>
    <li><a href='https://run.dlang.io'>run.dlang.io</a></li>
    <li><a href='http://rainers.github.io/visuald/visuald/StartPage.html'>Visual D</a></li>
    <li class="menu-divider"><a href='../acknowledgements.html'>Acknowledgments</a></li>
    <li><a href='../dstyle.html'>D Style</a></li>
    <li><a href='../glossary.html'>Glossary</a></li>
    <li><a href='../sitemap.html'>Sitemap</a></li>
 </ul></li>
</ul></div>
    <div class="search-container expand-container">        <a href="../search.html" class="expand-toggle" title="Search"><span>Search</span></a>
        
    <div id="search-box">        <form method="get" action="https://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org">
            <input type="hidden" id="sourceid" name="sourceid" value="google-search">
            <span id="search-query"><input id="q" name="q" placeholder="Search"></span><span id="search-dropdown"><span class="helper">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire Site</option>
                    <option  value="dlang.org/spec">Language</option>
                    <option  value="dlang.org/phobos">Library</option>
                    <option  value="forum.dlang.org">Forums</option>
                    
                </select>
            </span></span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    </div>
</div></div></div>

<div class="container">    
    <div class="hyphenate" id="content">        
<div id="tools"><div >	<div class="tip smallprint">		<a href="https://issues.dlang.org/enter_bug.cgi?bug_file_loc=http%3A%2F%2Fdlang.org/&amp;component=dlang.org&amp;op_sys=All&amp;priority=P3&amp;product=D&amp;rep_platform=All&amp;short_desc=%5BPointers Solutions%5D&amp;version=D2&amp;bug_severity=enhancement">Report a bug</a>
		<div >			If you spot a problem with this page, click here to create a Bugzilla issue.
		</div>
	</div>
	<div class="tip smallprint">		<a href="https://github.com/dlang/dlang.org/edit/master/d.en/pointers.cozum.d">Improve this page</a>
		<div >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			a local clone.
		</div>
	</div>
</div></div>
        <h1>Pointers Solutions</h1>
        
        

<h4>Pointers Dersi Problem Çözümleri</h4>

<ol>
<li>When parameters are value types like <code class="d_inline">int</code>, the arguments are copied to functions. The preferred way of defining reference parameters is to specify them as <code class="d_inline">ref</code>.

<p>Another way is to define the parameters as pointers that point at the actual variables. The parts of the program that have been changed are highlighted:
</p>

<pre class="d_code"><span class="d_keyword">void</span> swap(<span class="d_keyword">int</span> <span class="hilite">*</span> lhs, <span class="d_keyword">int</span> <span class="hilite">*</span> rhs) {
    <span class="d_keyword">int</span> temp = <span class="hilite">*</span>lhs;
    <span class="hilite">*</span>lhs = <span class="hilite">*</span>rhs;
    <span class="hilite">*</span>rhs = temp;
}

<span class="d_keyword">void</span> main() {
    <span class="d_keyword">int</span> i = 1;
    <span class="d_keyword">int</span> j = 2;

    swap(<span class="hilite">&amp;</span>i, <span class="hilite">&amp;</span>j);

    <span class="d_keyword">assert</span>(i == 2);
    <span class="d_keyword">assert</span>(j == 1);
}
</pre>

<p>The checks at the end of the program now pass.
</p>

</li>

<li><code class="d_inline">Node</code> and <code class="d_inline">List</code> have been written to work only with the <code class="d_inline">int</code> type. We can convert these types to struct templates by adding <code class="d_inline">(T)</code> after their names and replacing appropriate <code class="d_inline">int</code>s in their definitions by <code class="d_inline">T</code>s:

<pre class="d_code"><span class="d_keyword">struct</span> Node<span class="hilite">(T)</span> {
    <span class="hilite">T</span> element;
    Node * next;

    string toString() <span class="d_keyword">const</span> {
        string result = to!string(element);

        <span class="d_keyword">if</span> (next) {
            result ~= <span class="d_string">" -&gt; "</span> ~ to!string(*next);
        }

        <span class="d_keyword">return</span> result;
    }
}

<span class="d_keyword">struct</span> List<span class="hilite">(T)</span> {
    Node!<span class="hilite">T</span> * head;

    <span class="d_keyword">void</span> insertAtHead(<span class="hilite">T</span> element) {
        head = <span class="d_keyword">new</span> Node!<span class="hilite">T</span>(element, head);
    }

    string toString() <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> format(<span class="d_string">"(%s)"</span>, head ? to!string(*head) : <span class="d_string">""</span>);
    }
}
</pre>

<p><code class="d_inline">List</code> can now be used with any type:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;
<span class="d_keyword">import</span> std.conv;
<span class="d_keyword">import</span> std.string;

<span class="d_comment">// ...
</span>
<span class="d_keyword">struct</span> Point {
    <span class="d_keyword">double</span> x;
    <span class="d_keyword">double</span> y;

    string toString() <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> format(<span class="d_string">"(%s,%s)"</span>, x, y);
    }
}

<span class="d_keyword">void</span> main() {
    <span class="hilite">List!Point</span> points;

    points.insertAtHead(Point(1.1, 2.2));
    points.insertAtHead(Point(3.3, 4.4));
    points.insertAtHead(Point(5.5, 6.6));

    writeln(points);
}
</pre>

<p>The output:
</p>

<pre class="shell">((5.5,6.6) -&gt; (3.3,4.4) -&gt; (1.1,2.2))
</pre>

</li>

<li>In this case we need another pointer to point at the last node of the list. The new code is necessarily more complex in order to manage the new variable as well:

<pre class="d_code"><span class="d_keyword">struct</span> List(T) {
    Node!T * head;
    <span class="hilite">Node!T * tail</span>;

    <span class="d_keyword">void</span> append(T element) {
        <span class="d_comment">/* Since there is no node after the last one, we set
         * the new node's next pointer to 'null'. */</span>
        <span class="d_keyword">auto</span> newNode = <span class="d_keyword">new</span> Node!T(element, <span class="d_keyword">null</span>);

        <span class="d_keyword">if</span> (!head) {
            <span class="d_comment">/* The list has been empty. The new node becomes
             * the head. */</span>
            head = newNode;
        }

        <span class="d_keyword">if</span> (tail) {
            <span class="d_comment">/* We place this node after the current tail. */</span>
            tail.next = newNode;
        }

        <span class="d_comment">/* The new node becomes the new tail. */</span>
        tail = newNode;
    }

    <span class="d_keyword">void</span> insertAtHead(T element) {
        <span class="d_keyword">auto</span> newNode = <span class="d_keyword">new</span> Node!T(element, head);

        <span class="d_comment">/* The new node becomes the new head. */</span>
        head = newNode;

        <span class="d_keyword">if</span> (!tail) {
            <span class="d_comment">/* The list has been empty. The new node becomes
             * the tail. */</span>
            tail = newNode;
        }
    }

    string toString() <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> format(<span class="d_string">"(%s)"</span>, head ? to!string(*head) : <span class="d_string">""</span>);
    }
}
</pre>

<p>The new implementation of <code class="d_inline">insertAtHead()</code> can actually be shorter:
</p>

<pre class="d_code">    <span class="d_keyword">void</span> insertAtHead(T element) {
        head = <span class="d_keyword">new</span> Node!T(element, head);

        <span class="d_keyword">if</span> (!tail) {
            tail = head;
        }
    }
</pre>

<p>The following program uses the new <code class="d_inline">List</code> to insert <code class="d_inline">Point</code> objects with odd values at the head and <code class="d_inline">Point</code> objects with even values at the end.
</p>

<pre class="d_code"><span class="d_keyword">void</span> main() {
    List!Point points;

    <span class="d_keyword">foreach</span> (i; 1 .. 7) {
        <span class="d_keyword">if</span> (i % 2) {
            points.insertAtHead(Point(i, i));

        } <span class="d_keyword">else</span> {
            points.append(Point(i, i));
        }
    }

    writeln(points);
}
</pre>

<p>The output:
</p>

<pre class="shell">((5,5) -&gt; (3,3) -&gt; (1,1) -&gt; (2,2) -&gt; (4,4) -&gt; (6,6))
</pre>

</li>

</ol>


        <div class="smallprint" id="copyright">Copyright &copy; 1999-2024 by the <a href="../foundation_overview.html">D Language Foundation</a> | Page generated by
<a href="../spec/ddoc.html">Ddoc</a> on Mon Jan 29 20:50:23 2024
</div>
    </div>
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('\x3Cscript src="../js/jquery-1.7.2.min.js">\x3C/script>');</script>
    <script type="text/javascript" src="../js/dlang.js"></script>
    
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
</body>
</html>
