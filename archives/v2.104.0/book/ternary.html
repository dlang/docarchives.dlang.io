
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2024 by the D Language Foundation
    All Rights Reserved.
    https://dlang.org/foundation_overview.html
  -->
<head>
<meta charset="utf-8">
<meta name="keywords" content="D programming language">
<meta name="description" content="D Programming Language">
<title>Ternary Operator ?: - D Programming Language</title>

<link rel="stylesheet" href="../css/codemirror.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/print.css" media="print">
<link rel="shortcut icon" href="../favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0">

</head>
<body id='Ternary Operator ?:' class='doc'>
<script type="text/javascript">document.body.className += ' have-javascript'</script>
<div id="top"><div class="helper"><div class="helper expand-container">    <div class="logo"><a href="."><img id="logo" alt="D Logo" src="../images/dlogo.svg"></a></div>
    <a href="../menu.html" title="Menu" class="hamburger expand-toggle"><span>Menu</span></a>
    
<div id="cssmenu"><ul>    <li><a href='https://tour.dlang.org'><span>Learn</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../documentation.html'><span>Documentation</span></a>
      
<ul class='expand-content'>    <li><a href='../spec/spec.html'>Language Reference</a></li>
    <li><a href='../phobos/index.html'>Library Reference</a></li>
    <li><a href='../dmd.html'>Command-line Reference</a></li>
    <li class="menu-divider"><a href='../comparison.html'>Feature Overview</a></li>
    <li><a href='../articles.html'>Articles</a></li>
 </ul></li>
    <li><a href='../download.html'><span>Downloads</span></a></li>
    <li><a href='https://code.dlang.org'><span>Packages</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../community.html'><span>Community</span></a>
      
<ul class='expand-content'>    <li><a href='https://dlang.org/blog'>Blog</a></li>
    <li><a href='../orgs-using-d.html'>Orgs using D</a></li>
    <li><a href='https://twitter.com/search?q=%23dlang'>Twitter</a></li>
    <li><a href='../calendar.html'>Calendar</a></li>
    <li class="menu-divider"><a href='https://forum.dlang.org'>Forums</a></li>
    <li><a href='irc://irc.libera.chat/d'>IRC</a></li>
    <li><a href='https://discord.gg/bMZk9Q4'>Community Discord</a></li>
    <li><a href='https://wiki.dlang.org'>Wiki</a></li>
    <li class="menu-divider"><a href='https://github.com/dlang'>GitHub</a></li>
    <li><a href='../bugstats.html'>Issues</a></li>
    <li><a href='https://wiki.dlang.org/Get_involved'>Get involved</a></li>
    <li class="menu-divider"><a href='../foundation/contributors.html'>Contributors</a></li>
    <li><a href='../foundation/index.html'>Foundation</a></li>
    <li><a href='..//security.html'>Security Team</a></li>
    <li><a href='../foundation/donate.html'>Donate</a></li>
    <li><a href='../foundation/sponsors.html'>Sponsors</a></li>
 </ul></li>
    <li class='expand-container'><a class='expand-toggle' href='../resources.html'><span>Resources</span></a>
      
<ul class='expand-content'>    <li><a href='https://tour.dlang.org'>Tour</a></li>
    <li><a href='https://wiki.dlang.org/Books'>Books</a></li>
    <li><a href='https://wiki.dlang.org/Tutorials'>Tutorials</a></li>
    <li class="menu-divider"><a href='https://wiki.dlang.org/Development_tools'>Tools</a></li>
    <li><a href='https://wiki.dlang.org/Editors'>Editors</a></li>
    <li><a href='https://wiki.dlang.org/IDEs'>IDEs</a></li>
    <li><a href='https://run.dlang.io'>run.dlang.io</a></li>
    <li><a href='http://rainers.github.io/visuald/visuald/StartPage.html'>Visual D</a></li>
    <li class="menu-divider"><a href='../acknowledgements.html'>Acknowledgments</a></li>
    <li><a href='../dstyle.html'>D Style</a></li>
    <li><a href='../glossary.html'>Glossary</a></li>
    <li><a href='../sitemap.html'>Sitemap</a></li>
 </ul></li>
</ul></div>
    <div class="search-container expand-container">        <a href="../search.html" class="expand-toggle" title="Search"><span>Search</span></a>
        
    <div id="search-box">        <form method="get" action="https://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org">
            <input type="hidden" id="sourceid" name="sourceid" value="google-search">
            <span id="search-query"><input id="q" name="q" placeholder="Search"></span><span id="search-dropdown"><span class="helper">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire Site</option>
                    <option  value="dlang.org/spec">Language</option>
                    <option  value="dlang.org/phobos">Library</option>
                    <option  value="forum.dlang.org">Forums</option>
                    
                </select>
            </span></span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    </div>
</div></div></div>

<div class="container">    
    <div class="hyphenate" id="content">        
<div id="tools"><div >	<div class="tip smallprint">		<a href="https://issues.dlang.org/enter_bug.cgi?bug_file_loc=http%3A%2F%2Fdlang.org/&amp;component=dlang.org&amp;op_sys=All&amp;priority=P3&amp;product=D&amp;rep_platform=All&amp;short_desc=%5BTernary Operator ?:%5D&amp;version=D2&amp;bug_severity=enhancement">Report a bug</a>
		<div >			If you spot a problem with this page, click here to create a Bugzilla issue.
		</div>
	</div>
	<div class="tip smallprint">		<a href="https://github.com/dlang/dlang.org/edit/master/d.en/ternary.d">Improve this page</a>
		<div >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			a local clone.
		</div>
	</div>
</div></div>
        <h1>Ternary Operator ?:</h1>
        
        



<p>The <code class="d_inline">?:</code> operator works very similarly to an <code class="d_inline">if-else</code> statement:
</p>

<pre class="d_code">    <span class="d_keyword">if</span> (<span class="d_comment">/* condition check */</span>) {
        <span class="d_comment">/* ... expression(s) to execute if true */</span>

    } <span class="d_keyword">else</span> {
        <span class="d_comment">/* ... expression(s) to execute if false */</span>
    }
</pre>

<p>The <code class="d_inline">if</code> statement executes either the block for the case of <code class="d_inline">true</code> or the block for the case of <code class="d_inline">false</code>. As you remember, being a statement, it does not have a value; <code class="d_inline">if</code> merely affects the execution of code blocks.
</p>

<p>On the other hand, the <code class="d_inline">?:</code> operator is an expression. In addition to working similary to the <code class="d_inline">if-else</code> statement, it produces a value. The equivalent of the above code is the following:
</p>

<pre class="d_code"><span class="d_comment">/* condition */</span> ? <span class="d_comment">/* truth expression */</span> : <span class="d_comment">/* falsity expression */</span>
</pre>

<p>Because it uses three expressions, the <code class="d_inline">?:</code> operator is called the ternary operator.
</p>

<p>The value that is produced by this operator is either the value of the truth expression or the value of the falsity expression. Because it is an expression, it can be used anywhere that expressions can be used.
</p>

<p>The following examples contrast the <code class="d_inline">?:</code> operator to the <code class="d_inline">if-else</code> statement. The ternary operator is more concise for the cases that are similar to these examples.
</p>

<ul>
<li><b>Initialization</b>

<p>To initialize a variable with 366 if it is leap year, 365 otherwise:
</p>

<pre class="d_code">    <span class="d_keyword">int</span> days = isLeapYear ? 366 : 365;
</pre>

<p>With an <code class="d_inline">if</code> statement, one way to do this is to define the variable without an explicit initial value and then assign the intended value:
</p>

<pre class="d_code">    <span class="d_keyword">int</span> days;

    <span class="d_keyword">if</span> (isLeapYear) {
        days = 366;

    } <span class="d_keyword">else</span> {
        days = 365;
    }
</pre>

<p>An alternative also using an <code class="d_inline">if</code> is to initialize the variable with the non-leap year value and then increment it if it is a leap year:
</p>

<pre class="d_code">    <span class="d_keyword">int</span> days = 365;

    <span class="d_keyword">if</span> (isLeapYear) {
        ++days;
    }
</pre>

</li>

<li><b>Printing</b>

<p>Printing part of a message differently depending on a condition:
</p>
<pre class="d_code">    writeln(<span class="d_string">"The glass is half "</span>,
            isOptimistic ? <span class="d_string">"full."</span> : <span class="d_string">"empty."</span>);
</pre>

<p>With an <code class="d_inline">if</code>, the first and last parts of the message may be printed separately:
</p>

<pre class="d_code">    write(<span class="d_string">"The glass is half "</span>);

    <span class="d_keyword">if</span> (isOptimistic) {
        writeln(<span class="d_string">"full."</span>);

    } <span class="d_keyword">else</span> {
        writeln(<span class="d_string">"empty."</span>);
    }
</pre>

<p>Alternatively, the entire message can be printed separately:
</p>

<pre class="d_code">    <span class="d_keyword">if</span> (isOptimistic) {
        writeln(<span class="d_string">"The glass is half full."</span>);

    } <span class="d_keyword">else</span> {
        writeln(<span class="d_string">"The glass is half empty."</span>);
    }
</pre>

</li>

<li><b>Calculation</b>

<p>Increasing the score of the winner in a backgammon game 2 points or 1 point depending on whether the game has ended with gammon:
</p>

<pre class="d_code">    score += isGammon ? 2 : 1;
</pre>

<p>A straightforward equivalent using an <code class="d_inline">if</code>:
</p>

<pre class="d_code">    <span class="d_keyword">if</span> (isGammon) {
        score += 2;

    } <span class="d_keyword">else</span> {
        score += 1;
    }
</pre>

<p>An alternative also using an <code class="d_inline">if</code> is to first increment by one and then increment again if gammon:
</p>

<pre class="d_code">    ++score;

    <span class="d_keyword">if</span> (isGammon) {
        ++score;
    }
</pre>

</li>

</ul>

<p>As can be seen from the examples above, the code is more concise and clearer with the ternary operator in certain situations.
</p>

<h5 class="subsection">The type of the ternary expression</h5>

<p>The value of the <code class="d_inline">?:</code> operator is either the value of the truth expression or the value of the falsity expression. The types of these two expressions need not be the same but they must have a <i>common type</i>.
</p>

<p><a id="ix_Ternary Operator ?:.common type" content="common type"></a> The common type of two expressions is decided by a relatively complicated algorithm, involving <a href="cast.html">type conversions</a> and <a href="inheritance.html">inheritance</a>. Additionally, depending on the expressions, the <i>kind</i> of the result is either <a href="lvalue_rvalue.html">an lvalue or an rvalue</a>. We will see these concepts in later chapters.
</p>

<p>For now, accept common type as a type that can represent both of the values without requiring an explicit cast. For example, the integer types <code class="d_inline">int</code> and <code class="d_inline">long</code> have a common type because they can both be represented as <code class="d_inline">long</code>. On the other hand, <code class="d_inline">int</code> and <code class="d_inline">string</code> do not have a common type because neither <code class="d_inline">int</code> nor <code class="d_inline">string</code> can automatically be converted to the other type.
</p>

<p>Remember that a simple way of determining the type of an expression is using <code class="d_inline">typeof</code> and then printing its <code class="d_inline">.stringof</code> property:
</p>

<pre class="d_code">    <span class="d_keyword">int</span> i;
    <span class="d_keyword">double</span> d;

    <span class="d_keyword">auto</span> result = someCondition ? i : d;
    writeln(<span class="d_keyword">typeof</span>(result)<span class="hilite">.stringof</span>);
</pre>

<p>Because <code class="d_inline">double</code> can represent <code class="d_inline">int</code> but not the other way around, the common type of the ternary expression above is <code class="d_inline">double</code>:
</p>

<pre class="shell">double
</pre>

<p>To see an example of two expressions that do not have a common type, let's look at composing a message that reports the number of items to be shipped. Let's print "A dozen" when the value equals 12: "A <b>dozen</b> items will be shipped." Otherwise, let's have the message include the exact number: "<b>3</b> items will be shipped."
</p>

<p>One might think that the varying part of the message can be selected with the <code class="d_inline">?:</code> operator:
</p>

<pre class="d_code">    writeln(
        (count == 12) ? <span class="d_string">"A dozen"</span> : count, <span class="d_comment">// ← <span class="d_hata">derleme HATASI</span></span>
        <span class="d_string">" items will be shipped."</span>);
</pre>

<p>Unfortunately, the expressions do not have a common type because the type of <code class="d_inline"><span class="d_string">"A dozen"</span></code> is <code class="d_inline">string</code> and the type of <code class="d_inline">count</code> is <code class="d_inline">int</code>.
</p>

<p>A solution is to first convert <code class="d_inline">count</code> to <code class="d_inline">string</code>. The function <code class="d_inline">to!string</code> from the <code class="d_inline">std.conv</code> module produces a <code class="d_inline">string</code> value from the specified parameter:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.conv;
<span class="d_comment">// ...
</span>    writeln((count == 12) ? <span class="d_string">"A dozen"</span> : to!string(count),
            <span class="d_string">" items will be shipped."</span>);
</pre>

<p>Now, as both of the selection expressions of the <code class="d_inline">?:</code> operator are of <code class="d_inline">string</code> type, the code compiles and prints the expected message.
</p>

<h5 class="subsection">Problem</h5>
    
<p>Have the program read a single <code class="d_inline">int</code> value as <i>the net amount</i> where a positive value represents a gain and a negative value represents a loss.
</p>

<p>The program should print a message that contains "gained" or "lost" depending on whether the amount is positive or negative. For example, "&#36;100 lost" or "&#36;70 gained". Even though it may be more suitable, do not use the <code class="d_inline">if</code> statement in this exercise.
</p>

 <div class="cozum_link_tek"><p><a target="ddili_cozum" href="ternary.cozum.html"><i>... çözüm</i></a></p></div>



        <div class="smallprint" id="copyright">Copyright &copy; 1999-2024 by the <a href="../foundation_overview.html">D Language Foundation</a> | Page generated by
<a href="../spec/ddoc.html">Ddoc</a> on Mon Jan 29 21:09:28 2024
</div>
    </div>
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('\x3Cscript src="../js/jquery-1.7.2.min.js">\x3C/script>');</script>
    <script type="text/javascript" src="../js/dlang.js"></script>
    
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
</body>
</html>
