
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2017 by Digital Mars
    All Rights Reserved Written by Walter Bright
    http://digitalmars.com
  -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="D programming language" />
<meta name="description" content="D Programming Language" />
<title>Conditional Compilation - D Programming Language</title>
<link rel="stylesheet" href="css/codemirror.css" />
<link rel="stylesheet" href="css/style.css" />
<link rel="stylesheet" href="css/print.css" media="print" />
<link rel="stylesheet" href="css/cssmenu.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="shortcut icon" href="favicon.ico" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0" />
</head>
<body id='Conditional Compilation' class='doc'>
<script type="text/javascript">document.body.className += ' have-javascript';</script>
<div id="top">	<div id="header">		<a class="logo" href="."><img id="logo" width="125" height="95" alt="D Logo" src="images/dlogo.svg"></a>
		<span id="d-language-mobilehelper"><a href="." id="d-language">D Programming Language</a></span>
	</div>
</div>
<div id="navigation">    <div id="search-box">        <form method="get" action="http://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org" />
            <input type="hidden" id="sourceid" name="sourceid" value="google-search" />
            <span id="search-query"><input id="q" name="q" placeholder="Search" /></span><span id="search-dropdown">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire D Site</option>
                    <option  value="dlang.org/phobos">Library Reference</option>
                    <option value="digitalmars.com/d/archives">Newsgroup Archives</option>
                </select>
            </span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    
<div id="cssmenu"><ul>    <li><a href='index.html'><span>D 2.067.0</span></a></li>
    <li><a href='download.html'><span><b>Download</b></span></a></li>
    <li><a href='getstarted.html'><span>Getting Started</span></a></li>
    <li><a href='changelog.html'><span>Change Log</span></a></li>
    <li class='has-sub'><a href='#'><span>D Reference</span></a>
      <ul><li><a href='        intro.html'>Introduction</a></li><li><a href='        lex.html'>Lexical</a></li><li><a href='        grammar.html'>Grammar</a></li><li><a href='        module.html'>Modules</a></li><li><a href='        declaration.html'>Declarations</a></li><li><a href='        type.html'>Types</a></li><li><a href='        property.html'>Properties</a></li><li><a href='        attribute.html'>Attributes</a></li><li><a href='        pragma.html'>Pragmas</a></li><li><a href='        expression.html'>Expressions</a></li><li><a href='        statement.html'>Statements</a></li><li><a href='        arrays.html'>Arrays</a></li><li><a href='        hash-map.html'>Associative Arrays</a></li><li><a href='        struct.html'>Structs and Unions</a></li><li><a href='        class.html'>Classes</a></li><li><a href='        interface.html'>Interfaces</a></li><li><a href='        enum.html'>Enums</a></li><li><a href='        const3.html'>Const and Immutable</a></li><li><a href='        function.html'>Functions</a></li><li><a href='        operatoroverloading.html'>Operator Overloading</a></li><li><a href='        template.html'>Templates</a></li><li><a href='        template-mixin.html'>Template Mixins</a></li><li><a href='        contracts.html'>Contract Programming</a></li><li><a href='        version.html'>Conditional Compilation</a></li><li><a href='        traits.html'>Traits</a></li><li><a href='        errors.html'>Error Handling</a></li><li><a href='        unittest.html'>Unit Tests</a></li><li><a href='        garbage.html'>Garbage Collection</a></li><li><a href='        float.html'>Floating Point</a></li><li><a href='        iasm.html'>D x86 Inline Assembler</a></li><li><a href='        ddoc.html'>Embedded Documentation</a></li><li><a href='        interfaceToC.html'>Interfacing to C</a></li><li><a href='        cpp_interface.html'>Interfacing to C++</a></li><li><a href='        portability.html'>Portability Guide</a></li><li><a href='        entity.html'>Named Character Entities</a></li><li><a href='        memory-safe-d.html'>Memory Safety</a></li><li><a href='        abi.html'>Application Binary Interface</a></li><li><a href='        simd.html'>Vector Extensions
      </a></li></ul>
    <li><a href='phobos/index.html'><span>Standard library</span></a></li>
    <li><a href='http://code.dlang.org'><span>More libraries</span></a></li>
    <li class='has-sub'><a href='#'><span>Community</span></a>
      <ul><li><a href='        http://forum.dlang.org'>Forums</a></li><li><a href='        irc://irc.freenode.net/d'>IRC</a></li><li><a href='        http://github.com/D-Programming-Language'>D on GitHub</a></li><li><a href='        http://wiki.dlang.org'>Wiki</a></li><li><a href='        http://wiki.dlang.org/Review_Queue'>Review Queue</a></li><li><a href='        http://twitter.com/search?q=%23dlang'>Twitter</a></li><li><a href='        http://digitalmars.com/d/dlinks.html'>More Links
      </a></li></ul>
    <li class='has-sub'><a href='#'><span>Compilers &amp; Tools</span></a>
      <ul><li><a href='        dmd-windows.html'>dmd &ndash; reference compiler</a></li><li><a href='        http://gdcproject.org'>gdc &ndash; gcc-based compiler</a></li><li><a href='        http://wiki.dlang.org/LDC'>ldc &ndash; LLVM-based compiler</a></li><li><a href='        rdmd.html'>rdmd &ndash; build tool</a></li><li><a href='        htod.html'>htod &ndash; .h to .d
      </a></li></ul>
    <li class='has-sub'><a href='#'><span>Books &amp; Articles</span></a>
      <ul><li><a href='        http://ddili.org/ders/d.en/index.html'>Online Book (free)</a></li><li><a href='        http://wiki.dlang.org/Books'>More Books</a></li><li><a href='        howtos.html'>How-tos</a></li><li><a href='        faq.html'>FAQ</a></li><li><a href='        const-faq.html'>const(FAQ)</a></li><li><a href='        comparison.html'>Feature Overview</a></li><li><a href='        d-floating-point.html'>Floating Point</a></li><li><a href='        wc.html'>Example: wc</a></li><li><a href='        warnings.html'>Warnings</a></li><li><a href='        rationale.html'>Rationale</a></li><li><a href='        builtin.html'>Builtin Rationale</a></li><li><a href='        ctod.html'>C to D</a></li><li><a href='        cpptod.html'>C++ to D</a></li><li><a href='        pretod.html'>C Preprocessor vs D</a></li><li><a href='        code_coverage.html'>Code coverage analysis</a></li><li><a href='        exception-safe.html'>Exception Safety</a></li><li><a href='        hijack.html'>Hijacking</a></li><li><a href='        intro-to-datetime.html'>Introduction to std.datetime</a></li><li><a href='        lazy-evaluation.html'>Lazy Evaluation</a></li><li><a href='        migrate-to-shared.html'>Migrating to Shared</a></li><li><a href='        mixin.html'>Mixins</a></li><li><a href='        regular-expression.html'>Regular Expressions</a></li><li><a href='        safed.html'>SafeD</a></li><li><a href='        templates-revisited.html'>Templates Revisited</a></li><li><a href='        tuple.html'>Tuples</a></li><li><a href='        variadic-function-templates.html'>Variadic Templates</a></li><li><a href='        d-array-article.html'>D Slices
      </a></li></ul>
    <li class='has-sub'><a href='#'><span>Resources</span></a>
      <ul><li><a href='        library/index.html'>NEW Library Reference Preview</a></li><li><a href='        bugstats.php'>Bug Tracker</a></li><li><a href='        http://rainers.github.io/visuald/visuald/StartPage.html'>Visual D</a></li><li><a href='        http://wiki.dlang.org/Editors'>Editors</a></li><li><a href='        http://wiki.dlang.org/IDEs'>IDEs</a></li><li><a href='        dstyle.html'>The D Style</a></li><li><a href='        glossary.html'>Glossary</a></li><li><a href='        acknowledgements.html'>Acknowledgments</a></li><li><a href='        sitemap.html'>Sitemap
      </a></li></ul>
</ul></div>
</div>

<div class="hyphenate" id="content">    
<div id="tools">	<span class="tip">		<a href="https://github.com/D-Programming-Language/dlang.org/edit/master/version.dd" class="button">Improve this page</a>
		<span >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			local clone.
		</span>
	</span>
	<span class="tip">		<a href="http://wiki.dlang.org/DocComments/Version" class="button">Page wiki</a>
		<span >			View or edit the community-maintained wiki page associated with this page.
		</span>
	</span>
</div>
    <h1>Conditional Compilation</h1>
    
    <!--Generated by Ddoc from version.dd-->



	<p><i>Conditional compilation</i> is the process of selecting which
	code to compile and which code to not compile.
	(In C and C++, conditional compilation is done with the preprocessor
	directives <span class="d_inlinecode donthyphenate notranslate">#if</span> / <span class="d_inlinecode donthyphenate notranslate">#else</span> / <span class="d_inlinecode donthyphenate notranslate">#endif</span>.)
	</p>

<pre class="bnf notranslate"><a id="ConditionalDeclaration"><span class="gname">ConditionalDeclaration</span></a>:
    <a href="#Condition"><i>Condition</i></a> <a href="attribute.html#DeclarationBlock"><i>DeclarationBlock</i></a>
    <a href="#Condition"><i>Condition</i></a> <a href="attribute.html#DeclarationBlock"><i>DeclarationBlock</i></a> <span class="d_inlinecode donthyphenate notranslate">else</span> <a href="attribute.html#DeclarationBlock"><i>DeclarationBlock</i></a>
    <a href="#Condition"><i>Condition</i></a> <span class="d_inlinecode donthyphenate notranslate">:</span> <a href="module.html#DeclDefs"><i>DeclDefs</i></a><sub>opt</sub>
    <a href="#Condition"><i>Condition</i></a> <a href="attribute.html#DeclarationBlock"><i>DeclarationBlock</i></a> <span class="d_inlinecode donthyphenate notranslate">else</span> <span class="d_inlinecode donthyphenate notranslate">:</span> <a href="module.html#DeclDefs"><i>DeclDefs</i></a><sub>opt</sub>

<a id="ConditionalStatement"><span class="gname">ConditionalStatement</span></a>:
    <a href="#Condition"><i>Condition</i></a> <a href="statement.html#NoScopeNonEmptyStatement"><i>NoScopeNonEmptyStatement</i></a>
    <a href="#Condition"><i>Condition</i></a> <a href="statement.html#NoScopeNonEmptyStatement"><i>NoScopeNonEmptyStatement</i></a> <span class="d_inlinecode donthyphenate notranslate">else</span> <a href="statement.html#NoScopeNonEmptyStatement"><i>NoScopeNonEmptyStatement</i></a>
</pre>

	<p>If the <a href="#Condition"><i>Condition</i></a> is satisfied, then the following
	<i>DeclarationBlock</i> or <i>Statement</i> is compiled in.
	If it is not satisfied, the <i>DeclarationBlock</i> or <i>Statement</i>
	after the optional <span class="d_inlinecode donthyphenate notranslate">else</span> is compiled in.
	</p>

	<p>Any <i>DeclarationBlock</i> or <i>Statement</i> that is not
	compiled in still must be syntactically correct.
	</p>

	<p>No new scope is introduced, even if the
	<i>DeclarationBlock</i> or <i>Statement</i>
	is enclosed by <span class="d_inlinecode donthyphenate notranslate">{ }</span>.
	</p>

	<p><i>ConditionalDeclaration</i>s and <i>ConditionalStatement</i>s
	can be nested.
	</p>

	<p>The <a href="#StaticAssert"><i>StaticAssert</i></a> can be used
	to issue errors at compilation time for branches of the conditional
	compilation that are errors.
	</p>

	<p><i>Condition</i> comes in the following forms:
	</p>

<pre class="bnf notranslate"><a id="Condition"><span class="gname">Condition</span></a>:
    <a href="#VersionCondition"><i>VersionCondition</i></a>
    <a href="#DebugCondition"><i>DebugCondition</i></a>
    <a href="#StaticIfCondition"><i>StaticIfCondition</i></a>
</pre>

<h3><a class="anchor" title="Permalink to this section" id="version" href="#version">Version Condition</a></h3>

<pre class="bnf notranslate"><a id="VersionCondition"><span class="gname">VersionCondition</span></a>:
    <span class="d_inlinecode donthyphenate notranslate">version (</span> <a href="lex.html#IntegerLiteral"><i>IntegerLiteral</i></a> <span class="d_inlinecode donthyphenate notranslate">)</span>
    <span class="d_inlinecode donthyphenate notranslate">version (</span> <i>Identifier</i> <span class="d_inlinecode donthyphenate notranslate">)</span>
    <span class="d_inlinecode donthyphenate notranslate">version (</span> <span class="d_inlinecode donthyphenate notranslate">unittest</span> <span class="d_inlinecode donthyphenate notranslate">)</span>
    <span class="d_inlinecode donthyphenate notranslate">version (</span> <span class="d_inlinecode donthyphenate notranslate">assert</span> <span class="d_inlinecode donthyphenate notranslate">)</span>
</pre>

	<p>Versions enable multiple versions of a module to be implemented
	with a single source file.
	</p>

	<p>The <i>VersionCondition</i> is satisfied if the <i>IntegerLiteral</i>
	is greater than or equal to the current <i>version level</i>,
	or if <i>Identifier</i> matches a <i>version identifier</i>.
	</p>

	<p>The <i>version level</i> and <i>version identifier</i> can
	be set on the command line by the <span class="d_inlinecode donthyphenate notranslate">-version</span> switch
	or in the module itself with a <a href="#VersionSpecification"><i>VersionSpecification</i></a>,
	or they can be predefined by the compiler.
	</p>

	<p>Version identifiers are in their own unique name space, they do
	not conflict with debug identifiers or other symbols in the module.
	Version identifiers defined in one module have no influence
	over other imported modules.
	</p>

<pre class="d_code notranslate"><span class="d_keyword">int</span> k;
<span class="d_keyword">version</span> (Demo) <span class="d_comment">// compile in this code block for the demo version
</span>{
    <span class="d_keyword">int</span> i;
    <span class="d_keyword">int</span> k;    <span class="d_comment">// error, k already defined
</span>
    i = 3;
}
x = i;      <span class="d_comment">// uses the i declared above
</span></pre>

<pre class="d_code notranslate"><span class="d_keyword">version</span> (X86)
{
    ... <span class="d_comment">// implement custom inline assembler version
</span>}
<span class="d_keyword">else</span>
{
    ... <span class="d_comment">// use default, but slow, version
</span>}
</pre>

<p>The <span class="d_inlinecode donthyphenate notranslate">version(unittest)</span> is satisfied if and only if the code is
	compiled with unit tests enabled (the <span class="d_inlinecode donthyphenate notranslate">-unittest</span> option on <span class="d_inlinecode donthyphenate notranslate">dmd</span>).
	</p>


<h3><span id="VersionSpecification"><a class="anchor" title="Permalink to this section" id="version-specification" href="#version-specification">Version Specification</a></span></h3>

<pre class="bnf notranslate"><a id="VersionSpecification"><span class="gname">VersionSpecification</span></a>:
    <span class="d_inlinecode donthyphenate notranslate">version =</span> <i>Identifier</i> <span class="d_inlinecode donthyphenate notranslate">;</span>
    <span class="d_inlinecode donthyphenate notranslate">version =</span> <a href="lex.html#IntegerLiteral"><i>IntegerLiteral</i></a> <span class="d_inlinecode donthyphenate notranslate">;</span>
</pre>

	<p>The version specification makes it straightforward to group
	a set of features under one major version, for example:
	</p>

<pre class="d_code notranslate"><span class="d_keyword">version</span> (ProfessionalEdition)
{
    <span class="d_keyword">version</span> = FeatureA;
    <span class="d_keyword">version</span> = FeatureB;
    <span class="d_keyword">version</span> = FeatureC;
}
<span class="d_keyword">version</span> (HomeEdition)
{
    <span class="d_keyword">version</span> = FeatureA;
}
...
<span class="d_keyword">version</span> (FeatureB)
{
    ... implement Feature B ...
}
</pre>

	<p>Version identifiers or levels may not be forward referenced:
	</p>

<pre class="d_code notranslate"><span class="d_keyword">version</span> (Foo)
{
    <span class="d_keyword">int</span> x;
}
<span class="d_keyword">version</span> = Foo;  <span class="d_comment">// error, Foo already used
</span></pre>
	<p><i>VersionSpecification</i>s may only appear at module scope.</p>

	<p>While the debug and version conditions superficially behave the
	same,
	they are intended for very different purposes. Debug statements
	are for adding debug code that is removed for the release version.
	Version statements are to aid in portability and multiple release
	versions.
	</p>

	<p>Here's an example of a <i>full</i> version as opposed to
	a <i>demo</i> version:</p>

<pre class="d_code notranslate"><span class="d_keyword">class</span> Foo
{
    <span class="d_keyword">int</span> a, b;

    <span class="d_keyword">version</span>(full)
    {
        <span class="d_keyword">int</span> extrafunctionality()
        {
            ...
            <span class="d_keyword">return</span> 1;  <span class="d_comment">// extra functionality is supported
</span>        }
    }
    <span class="d_keyword">else</span> <span class="d_comment">// demo
</span>    {
        <span class="d_keyword">int</span> extrafunctionality()
        {
            <span class="d_keyword">return</span> 0;  <span class="d_comment">// extra functionality is not supported
</span>        }
    }
}
</pre>

	Various different version builds can be built with a parameter
	to version:

<pre class="d_code notranslate"><span class="d_keyword">version</span>(<b><i>n</i></b>) <span class="d_comment">// add in version code if version level is &gt;= n
</span>{
    ... <span class="d_keyword">version</span> code ...
}

<span class="d_keyword">version</span>(<b><i>identifier</i></b>) <span class="d_comment">// add in version code if version
</span>                         <span class="d_comment">// keyword is identifier
</span>{
    ... <span class="d_keyword">version</span> code ...
}
</pre>

	<p>These are presumably set by the command line as
	<span class="d_inlinecode donthyphenate notranslate">-version=n</span> and <span class="d_inlinecode donthyphenate notranslate">-version=identifier</span>.
	</p>


<h3><span id="PredefinedVersions"><a class="anchor" title="Permalink to this section" id="predefined-versions" href="#predefined-versions">Predefined Versions</a></span></h3>

	<p>Several environmental version identifiers and identifier
	name spaces are predefined for consistent usage.
	Version identifiers do not conflict
	with other identifiers in the code, they are in a separate name space.
	Predefined version identifiers are global, i.e. they apply to
	all modules being compiled and imported.
	</p>

	<center><table><caption>Predefined Version Identifiers</caption>	<tr><th class="donthyphenate"><b>Version Identifier</b></th><th class="donthyphenate"><b>Description</b></th></tr> 	<tr><td><span class="d_inlinecode donthyphenate notranslate">DigitalMars</span> </td><td>DMD (Digital Mars D) is the compiler</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">GNU</span> </td><td>GDC (GNU D Compiler) is the compiler</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">LDC</span> </td><td>LDC (LLVM D Compiler) is the compiler</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SDC</span> </td><td>SDC (Stupid D Compiler) is the compiler</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Windows</span> </td><td>Microsoft Windows systems</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Win32</span> </td><td>Microsoft 32-bit Windows systems</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Win64</span> </td><td>Microsoft 64-bit Windows systems</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">linux</span> </td><td>All Linux systems</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">OSX</span> </td><td>Mac OS X</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">FreeBSD</span> </td><td>FreeBSD</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">OpenBSD</span> </td><td>OpenBSD</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">NetBSD</span> </td><td>NetBSD</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">DragonFlyBSD</span> </td><td>DragonFlyBSD</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">BSD</span> </td><td>All other BSDs</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Solaris</span> </td><td>Solaris</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Posix</span> </td><td>All POSIX systems (includes Linux, FreeBSD, OS X, Solaris, etc.)</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">AIX</span> </td><td>IBM Advanced Interactive eXecutive OS</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Haiku</span> </td><td>The Haiku operating system</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SkyOS</span> </td><td>The SkyOS operating system</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SysV3</span> </td><td>System V Release 3</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SysV4</span> </td><td>System V Release 4</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Hurd</span> </td><td>GNU Hurd</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Android</span> </td><td>The Android platform</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Cygwin</span> </td><td>The Cygwin environment</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MinGW</span> </td><td>The MinGW environment</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">FreeStanding</span> </td><td>An environment without an operating system (such as Bare-metal targets)</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">X86</span> </td><td>Intel and AMD 32-bit processors</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">X86_64</span> </td><td>Intel and AMD 64-bit processors</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">ARM</span> </td><td>The ARM architecture (32-bit) (AArch32 et al)</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">ARM_Thumb</span> </td><td>ARM in any Thumb mode</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">ARM_SoftFloat</span> </td><td>The ARM <span class="d_inlinecode donthyphenate notranslate">soft</span> floating point ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">ARM_SoftFP</span> </td><td>The ARM <span class="d_inlinecode donthyphenate notranslate">softfp</span> floating point ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">ARM_HardFloat</span> </td><td>The ARM <span class="d_inlinecode donthyphenate notranslate">hardfp</span> floating point ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">AArch64</span> </td><td>The Advanced RISC Machine architecture (64-bit)</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Epiphany</span> </td><td>The Epiphany architecture</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">PPC</span> </td><td>The PowerPC architecture, 32-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">PPC_SoftFloat</span> </td><td>The PowerPC soft float ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">PPC_HardFloat</span> </td><td>The PowerPC hard float ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">PPC64</span> </td><td>The PowerPC architecture, 64-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">IA64</span> </td><td>The Itanium architecture (64-bit)</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MIPS32</span> </td><td>The MIPS architecture, 32-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MIPS64</span> </td><td>The MIPS architecture, 64-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MIPS_O32</span> </td><td>The MIPS O32 ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MIPS_N32</span> </td><td>The MIPS N32 ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MIPS_O64</span> </td><td>The MIPS O64 ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MIPS_N64</span> </td><td>The MIPS N64 ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MIPS_EABI</span> </td><td>The MIPS EABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MIPS_SoftFloat</span> </td><td>The MIPS <span class="d_inlinecode donthyphenate notranslate">soft-float</span> ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">MIPS_HardFloat</span> </td><td>The MIPS <span class="d_inlinecode donthyphenate notranslate">hard-float</span> ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">NVPTX</span> </td><td>The Nvidia Parallel Thread Execution (PTX) architecture, 32-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">NVPTX64</span> </td><td>The Nvidia Parallel Thread Execution (PTX) architecture, 64-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SPARC</span> </td><td>The SPARC architecture, 32-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SPARC_V8Plus</span> </td><td>The SPARC v8+ ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SPARC_SoftFloat</span> </td><td>The SPARC soft float ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SPARC_HardFloat</span> </td><td>The SPARC hard float ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SPARC64</span> </td><td>The SPARC architecture, 64-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">S390</span> </td><td>The System/390 architecture, 32-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">S390X</span> </td><td>The System/390X architecture, 64-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">HPPA</span> </td><td>The HP PA-RISC architecture, 32-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">HPPA64</span> </td><td>The HP PA-RISC architecture, 64-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SH</span> </td><td>The SuperH architecture, 32-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">SH64</span> </td><td>The SuperH architecture, 64-bit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Alpha</span> </td><td>The Alpha architecture</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Alpha_SoftFloat</span> </td><td>The Alpha soft float ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Alpha_HardFloat</span> </td><td>The Alpha hard float ABI</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">LittleEndian</span> </td><td>Byte order, least significant first</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">BigEndian</span> </td><td>Byte order, most significant first</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_Coverage</span> </td><td><a href="code_coverage.html">Code coverage analysis</a> instrumentation (command line <a href="dmd-windows.html#switches">switch</a> <span class="d_inlinecode donthyphenate notranslate">-cov</span>) is being generated</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_Ddoc</span> </td><td><a href="ddoc.html">Ddoc</a> documentation (command line <a href="dmd-windows.html#switches">switch</a> <span class="d_inlinecode donthyphenate notranslate">-D</span>) is being generated</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_InlineAsm_X86</span> </td><td><a href="iasm.html">Inline assembler</a> for X86 is implemented</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_InlineAsm_X86_64</span> </td><td><a href="iasm.html">Inline assembler</a> for X86-64 is implemented</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_LP64</span> </td><td><b>Pointers</b> are 64 bits (command line <a href="dmd-windows.html#switches">switch</a> <span class="d_inlinecode donthyphenate notranslate">-m64</span>). (Do not confuse this with C's LP64 model)</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_X32</span> </td><td>Pointers are 32 bits, but words are still 64 bits (x32 ABI) (This can be defined in parallel to <span class="d_inlinecode donthyphenate notranslate">X86_64</span>)</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_HardFloat</span> </td><td>The target hardware has a floating point unit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_SoftFloat</span> </td><td>The target hardware does not have a floating point unit</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_PIC</span> </td><td>Position Independent Code (command line <a href="dmd-windows.html#switches">switch</a> <span class="d_inlinecode donthyphenate notranslate">-fPIC</span>) is being generated</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_SIMD</span> </td><td><a href="simd.html">Vector extensions</a> (via <span class="d_inlinecode donthyphenate notranslate">__simd</span>) are supported</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_Version2</span> </td><td>This is a D version 2 compiler</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">D_NoBoundsChecks</span> </td><td>Array bounds checks are disabled (command line <a href="dmd-windows.html#switches">switch</a> <span class="d_inlinecode donthyphenate notranslate">-noboundscheck</span>)</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">unittest</span> </td><td><a href="unittest.html">Unit tests</a> are enabled (command line <a href="dmd-windows.html#switches">switch</a> <span class="d_inlinecode donthyphenate notranslate">-unittest</span>)</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">assert</span> </td><td>Checks are being emitted for assert expressions</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">none</span> </td><td>Never defined; used to just disable a section of code</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">all</span> </td><td>Always defined; used as the opposite of <span class="d_inlinecode donthyphenate notranslate">none</span></td></tr>
	</table></center>

	<p>The following identifiers are defined, but are deprecated:
	</p>

	<center><table><caption>Predefined Version Identifiers (deprecated)</caption>	<tr><th class="donthyphenate"><b>Version Identifier</b></th><th class="donthyphenate"><b>Description</b></th></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">darwin</span></td><td>The Darwin operating system; use <span class="d_inlinecode donthyphenate notranslate">OSX</span> instead</td></tr>
	<tr><td><span class="d_inlinecode donthyphenate notranslate">Thumb</span></td><td>ARM in Thumb mode; use <span class="d_inlinecode donthyphenate notranslate">ARM_Thumb</span> instead</td></tr>
	</table></center>

	<p>Others will be added as they make sense and new implementations appear.
	</p>

	<p>It is inevitable that the D language will evolve over time.
	Therefore, the version identifier namespace beginning with "D_"
	is reserved for identifiers indicating D language specification
	or new feature conformance. Further, all identifiers derived from
	the ones listed above by appending any character(s) are reserved. This
	means that e.g. <span class="d_inlinecode donthyphenate notranslate">ARM_foo</span> and <span class="d_inlinecode donthyphenate notranslate">Windows_bar</span> are reserved while
	<span class="d_inlinecode donthyphenate notranslate">foo_ARM</span> and <span class="d_inlinecode donthyphenate notranslate">bar_Windows</span> are not.
	</p>

	<p>Furthermore, predefined version identifiers from this list cannot
	be set from the command line or from version statements.
	(This prevents things like both <span class="d_inlinecode donthyphenate notranslate">Windows</span> and <span class="d_inlinecode donthyphenate notranslate">linux</span>
	being simultaneously set.)
	</p>

	<p>Compiler vendor specific versions can be predefined if the
	trademarked vendor identifier prefixes it, as in:
	</p>

<pre class="d_code notranslate"><span class="d_keyword">version</span>(DigitalMars_funky_extension)
{
    ...
}
</pre>

	<p>It is important to use the right version identifier for the right
	purpose. For example, use the vendor identifier when using a vendor
	specific feature. Use the operating system identifier when using
	an operating system specific feature, etc.
	</p>


<h2><a class="anchor" title="Permalink to this section" id="debug" href="#debug">Debug Condition</a></h2>

<pre class="bnf notranslate"><a id="DebugCondition"><span class="gname">DebugCondition</span></a>:
    <span class="d_inlinecode donthyphenate notranslate">debug</span>
    <span class="d_inlinecode donthyphenate notranslate">debug (</span> <a href="lex.html#IntegerLiteral"><i>IntegerLiteral</i></a> <span class="d_inlinecode donthyphenate notranslate">)</span>
    <span class="d_inlinecode donthyphenate notranslate">debug (</span> <i>Identifier</i> <span class="d_inlinecode donthyphenate notranslate">)</span>
</pre>

	<p>Two versions of programs are commonly built,
	a release build and a debug build.
	The debug build includes extra error checking code,
	test harnesses, pretty-printing code, etc.
	The debug statement conditionally compiles in its
	statement body.
	It is D's way of what in C is done
	with <span class="d_inlinecode donthyphenate notranslate">#ifdef DEBUG</span> / <span class="d_inlinecode donthyphenate notranslate">#endif</span> pairs.
	</p>

	<p>The <span class="d_inlinecode donthyphenate notranslate">debug</span> condition is satisfied when the <span class="d_inlinecode donthyphenate notranslate">-debug</span> switch is
	passed to the compiler or when the debug level is &gt;= 1.
	</p>

	<p>The <span class="d_inlinecode donthyphenate notranslate">debug (</span> <i>IntegerLiteral</i> <span class="d_inlinecode donthyphenate notranslate">)</span> condition is satisfied
	when the debug
	level is <span class="d_inlinecode donthyphenate notranslate">&gt;=</span> <i>IntegerLiteral</i>.
	</p>

	<p>The <span class="d_inlinecode donthyphenate notranslate">debug (</span> <i>Identifier</i> <span class="d_inlinecode donthyphenate notranslate">)</span> condition is satisfied
	when the debug identifier matches <i>Identifier</i>.
	</p>

<pre class="d_code notranslate"><span class="d_keyword">class</span> Foo
{
    <span class="d_keyword">int</span> a, b;
<span class="d_keyword">debug</span>:
    <span class="d_keyword">int</span> flag;
}
</pre>


<h3>Debug Specification</h3>

<pre class="bnf notranslate"><a id="DebugSpecification"><span class="gname">DebugSpecification</span></a>:
    <span class="d_inlinecode donthyphenate notranslate">debug =</span> <i>Identifier</i> <span class="d_inlinecode donthyphenate notranslate">;</span>
    <span class="d_inlinecode donthyphenate notranslate">debug =</span> <a href="lex.html#IntegerLiteral"><i>IntegerLiteral</i></a> <span class="d_inlinecode donthyphenate notranslate">;</span>
</pre>

	<p>Debug identifiers and levels are set either by the command line switch
	<span class="d_inlinecode donthyphenate notranslate">-debug</span> or by a <i>DebugSpecification</i>.
	</p>

	<p>Debug specifications only affect the module they appear in, they
	do not affect any imported modules. Debug identifiers are in their
	own namespace, independent from version identifiers and other
	symbols.
	</p>

	<p>It is illegal to forward reference a debug specification:
	</p>

<pre class="d_code notranslate"><span class="d_keyword">debug</span>(foo) writeln(<span class="d_string">"Foo"</span>);
<span class="d_keyword">debug</span> = foo;    <span class="d_comment">// error, foo used before set
</span></pre>

	<p><i>DebugSpecification</i>s may only appear at module scope.</p>

	<p>Various different debug builds can be built with a parameter to
	debug:
	</p>

<pre class="d_code notranslate"><span class="d_keyword">debug</span>(IntegerLiteral) { } <span class="d_comment">// add in debug code if debug level is &gt;= IntegerLiteral
</span><span class="d_keyword">debug</span>(identifier) { } <span class="d_comment">// add in debug code if debug keyword is identifier
</span></pre>

	<p>These are presumably set by the command line as
	<span class="d_inlinecode donthyphenate notranslate">-debug=</span><i>n</i> and <span class="d_inlinecode donthyphenate notranslate">-debug=</span><i>identifier</i>.
	</p>

<h2><a class="anchor" title="Permalink to this section" id="staticif" href="#staticif">Static If Condition</a></h2>

<pre class="bnf notranslate"><a id="StaticIfCondition"><span class="gname">StaticIfCondition</span></a>:
    <span class="d_inlinecode donthyphenate notranslate">static if (</span> <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> <span class="d_inlinecode donthyphenate notranslate">)</span>
</pre>

	<p><a href="expression.html#AssignExpression"><i>AssignExpression</i></a> is implicitly converted to a boolean type,
	and is evaluated at compile time.
	The condition is satisfied if it evaluates to <span class="d_inlinecode donthyphenate notranslate">true</span>.
	It is not satisfied if it evaluates to <span class="d_inlinecode donthyphenate notranslate">false</span>.
	</p>

	<p>It is an error if <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> cannot be implicitly converted
	to a boolean type or if it cannot be evaluated at compile time.
	</p>

	<p><i>StaticIfCondition</i>s
	can appear in module, class, template, struct, union, or function scope.
	In function scope, the symbols referred to in the
	<a href="expression.html#AssignExpression"><i>AssignExpression</i></a> can be any that can normally be referenced
	by an expression at that point.
	</p>

<pre class="d_code notranslate"><span class="d_keyword">const</span> <span class="d_keyword">int</span> i = 3;
<span class="d_keyword">int</span> j = 4;

<b><i><span class="d_keyword">static</span> <span class="d_keyword">if</span></i></b> (i == 3)    <span class="d_comment">// ok, at module scope
</span>    <span class="d_keyword">int</span> x;

<span class="d_keyword">class</span> C
{
    <span class="d_keyword">const</span> <span class="d_keyword">int</span> k = 5;

    <b><i><span class="d_keyword">static</span> <span class="d_keyword">if</span></i></b> (i == 3) <span class="d_comment">// ok
</span>        <span class="d_keyword">int</span> x;
    <span class="d_keyword">else</span>
        <span class="d_keyword">long</span> x;

    <b><i><span class="d_keyword">static</span> <span class="d_keyword">if</span></i></b> (j == 3) <span class="d_comment">// error, j is not a constant
</span>        <span class="d_keyword">int</span> y;

    <b><i><span class="d_keyword">static</span> <span class="d_keyword">if</span></i></b> (k == 5) <span class="d_comment">// ok, k is in current scope
</span>        <span class="d_keyword">int</span> z;
}

<span class="d_keyword">template</span> INT(<span class="d_keyword">int</span> i)
{
    <span class="d_keyword">static</span> <span class="d_keyword">if</span> (i == 32)
        <span class="d_keyword">alias</span> INT = <span class="d_keyword">int</span>;
    <span class="d_keyword">else</span> <span class="d_keyword">static</span> <span class="d_keyword">if</span> (i == 16)
        <span class="d_keyword">alias</span> INT = <span class="d_keyword">short</span>;
    <span class="d_keyword">else</span>
        <span class="d_keyword">static</span> <span class="d_keyword">assert</span>(0); <span class="d_comment">// not supported
</span>}

INT!(32) a;  <span class="d_comment">// a is an int
</span>INT!(16) b;  <span class="d_comment">// b is a short
</span>INT!(17) c;  <span class="d_comment">// error, static assert trips
</span></pre>

	<p>A <i>StaticIfConditional</i> condition differs from an
	<i>IfStatement</i> in the following ways:
	</p>

	<ol>	<li>It can be used to conditionally compile declarations,
	not just statements.
	</li>
	<li>It does not introduce a new scope even if <span class="d_inlinecode donthyphenate notranslate">{ }</span>
	are used for conditionally compiled statements.
	</li>
	<li>For unsatisfied conditions, the conditionally compiled code
	need only be syntactically correct. It does not have to be
	semantically correct.
	</li>
	<li>It must be evaluatable at compile time.
	</li>
	</ol>


<h2><span id="StaticAssert"><a class="anchor" title="Permalink to this section" id="static-assert" href="#static-assert">Static Assert</a></span></h2>

<pre class="bnf notranslate"><a id="StaticAssert"><span class="gname">StaticAssert</span></a>:
    <span class="d_inlinecode donthyphenate notranslate">static assert (</span> <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> <span class="d_inlinecode donthyphenate notranslate">);</span>
    <span class="d_inlinecode donthyphenate notranslate">static assert (</span> <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> <span class="d_inlinecode donthyphenate notranslate">,</span> <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> <span class="d_inlinecode donthyphenate notranslate">);</span>
</pre>

	<p><a href="expression.html#AssignExpression"><i>AssignExpression</i></a> is evaluated at compile time, and converted
	to a boolean value. If the value is true, the static assert
	is ignored. If the value is false, an error diagnostic is issued
	and the compile fails.
	</p>

	<p>Unlike <a href="expression.html#AssertExpression"><i>AssertExpression</i></a>s, <i>StaticAssert</i>s are always
	checked and evaluted by the compiler unless they appear in an
	unsatisfied conditional.
	</p>

<pre class="d_code notranslate"><span class="d_keyword">void</span> foo()
{
    <span class="d_keyword">if</span> (0)
    {
        <span class="d_keyword">assert</span>(0);  <span class="d_comment">// never trips
</span>        <span class="d_keyword">static</span> <span class="d_keyword">assert</span>(0); <span class="d_comment">// always trips
</span>    }
    <span class="d_keyword">version</span> (BAR)
    {
    }
    <span class="d_keyword">else</span>
    {
        <span class="d_keyword">static</span> <span class="d_keyword">assert</span>(0); <span class="d_comment">// trips when version BAR is not defined
</span>    }
}
</pre>

	<p><i>StaticAssert</i> is useful tool for drawing attention to conditional
	configurations not supported in the code.
	</p>

	<p>The optional second <a href="expression.html#AssignExpression"><i>AssignExpression</i></a> can be used to supply
	additional information, such as a text string, that will be
	printed out along with the error diagnostic.
	</p>



</div>
<div id="copyright">Copyright &copy; 1999-2017 by Digital Mars &reg;, All Rights Reserved | Page generated by <a href="http://dlang.org/ddoc.html">Ddoc</a> on (no date time)</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('<script src="js/jquery-1.7.2.min.js">\x3C/script>')</script>
    <script type="text/javascript" src="js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="js/run.js"></script>
    <script type="text/javascript" src="js/cssmenu.js"></script>

<script type="text/javascript" src="js/run-main-website.js"></script>
</body>
</html>
