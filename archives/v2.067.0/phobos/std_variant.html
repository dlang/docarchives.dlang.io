
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2017 by Digital Mars
    All Rights Reserved Written by Walter Bright
    http://digitalmars.com
  -->
<head>
<meta charset="utf-8" />
<meta name="keywords" content="D programming language" />
<meta name="description" content="D Programming Language" />
<title>std.variant - D Programming Language</title>
<link rel="stylesheet" href="../css/codemirror.css" />
<link rel="stylesheet" href="../css/style.css" />
<link rel="stylesheet" href="../css/print.css" media="print" />
<link rel="stylesheet" href="../css/cssmenu.css">
<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.2.0/css/font-awesome.min.css">
<link rel="shortcut icon" href="../favicon.ico" />
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0" />
</head>
<body id='std.variant' class='std'>
<script type="text/javascript">document.body.className += ' have-javascript';</script>
<div id="top">	<div id="header">		<a class="logo" href=".."><img id="logo" width="125" height="95" alt="D Logo" src="../images/dlogo.svg"></a>
		<span id="d-language-mobilehelper"><a href=".." id="d-language">D Programming Language</a></span>
	</div>
</div>
<div id="navigation">    <div id="search-box">        <form method="get" action="http://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org" />
            <input type="hidden" id="sourceid" name="sourceid" value="google-search" />
            <span id="search-query"><input id="q" name="q" placeholder="Search" /></span><span id="search-dropdown">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire D Site</option>
                    <option selected value="dlang.org/phobos">Library Reference</option>
                    <option value="digitalmars.com/d/archives">Newsgroup Archives</option>
                </select>
            </span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    
<div id="cssmenu"><ul>    <li><a href='../index.html'><span>D Lib Prerelease</span></a></li>
    <li><a href='../phobos/index.html'><span>Current Release (2.067.0)</span></a></li>
    
<li><a href='object.html'><span><em class="tt">object</em></span></a></li>
<li class='has-sub'><a href='#'><span><em class="tt">std</em></span></a>
<ul><li>  <a href="std_algorithm.html" title="std.algorithm"><span class="d_inlinecode donthyphenate notranslate">algorithm</span></a></li><li>  <a href="std_array.html" title="std.array"><span class="d_inlinecode donthyphenate notranslate">array</span></a></li><li>  <a href="std_ascii.html" title="std.ascii"><span class="d_inlinecode donthyphenate notranslate">ascii</span></a></li><li>  <a href="std_base64.html" title="std.base64"><span class="d_inlinecode donthyphenate notranslate">base64</span></a></li><li>  <a href="std_bigint.html" title="std.bigint"><span class="d_inlinecode donthyphenate notranslate">bigint</span></a></li><li>  <a href="std_bitmanip.html" title="std.bitmanip"><span class="d_inlinecode donthyphenate notranslate">bitmanip</span></a></li><li>  <a href="std_compiler.html" title="std.compiler"><span class="d_inlinecode donthyphenate notranslate">compiler</span></a></li><li>  <a href="std_complex.html" title="std.complex"><span class="d_inlinecode donthyphenate notranslate">complex</span></a></li><li>  <a href="std_concurrency.html" title="std.concurrency"><span class="d_inlinecode donthyphenate notranslate">concurrency</span></a></li><li>  <a href="std_container.html" title="std.container"><span class="d_inlinecode donthyphenate notranslate">container</span></a><ul><li>    <a href="std_container_array.html" title="std.container.array"><span class="d_inlinecode donthyphenate notranslate">array</span></a></li><li>    <a href="std_container_binaryheap.html" title="std.container.binaryheap"><span class="d_inlinecode donthyphenate notranslate">binaryheap</span></a></li><li>    <a href="std_container_dlist.html" title="std.container.dlist"><span class="d_inlinecode donthyphenate notranslate">dlist</span></a></li><li>    <a href="std_container_rbtree.html" title="std.container.rbtree"><span class="d_inlinecode donthyphenate notranslate">rbtree</span></a></li><li>    <a href="std_container_slist.html" title="std.container.slist"><span class="d_inlinecode donthyphenate notranslate">slist</span></a></li><li>    <a href="std_container_util.html" title="std.container.util"><span class="d_inlinecode donthyphenate notranslate">util</span></a>
  </li></ul></li><li>  <a href="std_conv.html" title="std.conv"><span class="d_inlinecode donthyphenate notranslate">conv</span></a></li><li>  <a href="std_csv.html" title="std.csv"><span class="d_inlinecode donthyphenate notranslate">csv</span></a></li><li>  <a href="std_datetime.html" title="std.datetime"><span class="d_inlinecode donthyphenate notranslate">datetime</span></a></li><li>  <a href="std_demangle.html" title="std.demangle"><span class="d_inlinecode donthyphenate notranslate">demangle</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">digest</span></h7><ul><li>    <a href="std_digest_crc.html" title="std.digest.crc"><span class="d_inlinecode donthyphenate notranslate">crc</span></a></li><li>    <a href="std_digest_digest.html" title="std.digest.digest"><span class="d_inlinecode donthyphenate notranslate">digest</span></a></li><li>    <a href="std_digest_md.html" title="std.digest.md"><span class="d_inlinecode donthyphenate notranslate">md</span></a></li><li>    <a href="std_digest_ripemd.html" title="std.digest.ripemd"><span class="d_inlinecode donthyphenate notranslate">ripemd</span></a></li><li>    <a href="std_digest_sha.html" title="std.digest.sha"><span class="d_inlinecode donthyphenate notranslate">sha</span></a>
  </li></ul></li><li>  <a href="std_encoding.html" title="std.encoding"><span class="d_inlinecode donthyphenate notranslate">encoding</span></a></li><li>  <a href="std_exception.html" title="std.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>  <a href="std_file.html" title="std.file"><span class="d_inlinecode donthyphenate notranslate">file</span></a></li><li>  <a href="std_format.html" title="std.format"><span class="d_inlinecode donthyphenate notranslate">format</span></a></li><li>  <a href="std_functional.html" title="std.functional"><span class="d_inlinecode donthyphenate notranslate">functional</span></a></li><li>  <a href="std_getopt.html" title="std.getopt"><span class="d_inlinecode donthyphenate notranslate">getopt</span></a></li><li>  <a href="std_json.html" title="std.json"><span class="d_inlinecode donthyphenate notranslate">json</span></a></li><li>  <a href="std_math.html" title="std.math"><span class="d_inlinecode donthyphenate notranslate">math</span></a></li><li>  <a href="std_mathspecial.html" title="std.mathspecial"><span class="d_inlinecode donthyphenate notranslate">mathspecial</span></a></li><li>  <a href="std_mmfile.html" title="std.mmfile"><span class="d_inlinecode donthyphenate notranslate">mmfile</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">net</span></h7><ul><li>    <a href="std_net_curl.html" title="std.net.curl"><span class="d_inlinecode donthyphenate notranslate">curl</span></a></li><li>    <a href="std_net_isemail.html" title="std.net.isemail"><span class="d_inlinecode donthyphenate notranslate">isemail</span></a>
  </li></ul></li><li>  <a href="std_numeric.html" title="std.numeric"><span class="d_inlinecode donthyphenate notranslate">numeric</span></a></li><li>  <a href="std_outbuffer.html" title="std.outbuffer"><span class="d_inlinecode donthyphenate notranslate">outbuffer</span></a></li><li>  <a href="std_parallelism.html" title="std.parallelism"><span class="d_inlinecode donthyphenate notranslate">parallelism</span></a></li><li>  <a href="std_path.html" title="std.path"><span class="d_inlinecode donthyphenate notranslate">path</span></a></li><li>  <a href="std_process.html" title="std.process"><span class="d_inlinecode donthyphenate notranslate">process</span></a></li><li>  <a href="std_random.html" title="std.random"><span class="d_inlinecode donthyphenate notranslate">random</span></a></li><li>  <a href="std_range.html" title="std.range"><span class="d_inlinecode donthyphenate notranslate">range</span></a></li><li>  <a href="std_regex.html" title="std.regex"><span class="d_inlinecode donthyphenate notranslate">regex</span></a></li><li>  <a href="std_signals.html" title="std.signals"><span class="d_inlinecode donthyphenate notranslate">signals</span></a></li><li>  <a href="std_socket.html" title="std.socket"><span class="d_inlinecode donthyphenate notranslate">socket</span></a></li><li>  <a href="std_stdint.html" title="std.stdint"><span class="d_inlinecode donthyphenate notranslate">stdint</span></a></li><li>  <a href="std_stdio.html" title="std.stdio"><span class="d_inlinecode donthyphenate notranslate">stdio</span></a></li><li>  <a href="std_stdiobase.html" title="std.stdiobase"><span class="d_inlinecode donthyphenate notranslate">stdiobase</span></a></li><li>  <a href="std_string.html" title="std.string"><span class="d_inlinecode donthyphenate notranslate">string</span></a></li><li>  <a href="std_syserror.html" title="std.syserror"><span class="d_inlinecode donthyphenate notranslate">syserror</span></a></li><li>  <a href="std_system.html" title="std.system"><span class="d_inlinecode donthyphenate notranslate">system</span></a></li><li>  <a href="std_traits.html" title="std.traits"><span class="d_inlinecode donthyphenate notranslate">traits</span></a></li><li>  <a href="std_typecons.html" title="std.typecons"><span class="d_inlinecode donthyphenate notranslate">typecons</span></a></li><li>  <a href="std_typetuple.html" title="std.typetuple"><span class="d_inlinecode donthyphenate notranslate">typetuple</span></a></li><li>  <a href="std_uni.html" title="std.uni"><span class="d_inlinecode donthyphenate notranslate">uni</span></a></li><li>  <a href="std_uri.html" title="std.uri"><span class="d_inlinecode donthyphenate notranslate">uri</span></a></li><li>  <a href="std_utf.html" title="std.utf"><span class="d_inlinecode donthyphenate notranslate">utf</span></a></li><li>  <a href="std_uuid.html" title="std.uuid"><span class="d_inlinecode donthyphenate notranslate">uuid</span></a></li><li>  <a href="std_variant.html" title="std.variant"><span class="d_inlinecode donthyphenate notranslate">variant</span></a></li><li>  <a href="std_xml.html" title="std.xml"><span class="d_inlinecode donthyphenate notranslate">xml</span></a></li><li>  <a href="std_zip.html" title="std.zip"><span class="d_inlinecode donthyphenate notranslate">zip</span></a></li><li>  <a href="std_zlib.html" title="std.zlib"><span class="d_inlinecode donthyphenate notranslate">zlib</span></a>
</li></ul>
<li class='has-sub'><a href='#'><span><em class="tt">etc</em></span></a>
<ul><li>  <h7><span class="d_inlinecode donthyphenate notranslate">c</span></h7><ul><li>    <a href="etc_c_curl.html" title="etc.c.curl"><span class="d_inlinecode donthyphenate notranslate">curl</span></a></li><li>    <a href="etc_c_sqlite3.html" title="etc.c.sqlite3"><span class="d_inlinecode donthyphenate notranslate">sqlite3</span></a></li><li>    <a href="etc_c_zlib.html" title="etc.c.zlib"><span class="d_inlinecode donthyphenate notranslate">zlib</span></a>
  </li></ul>
</li></ul>
<li class='has-sub'><a href='#'><span><em class="tt">core</em></span></a>
<ul><li>  <a href="core_atomic.html" title="core.atomic"><span class="d_inlinecode donthyphenate notranslate">atomic</span></a></li><li>  <a href="core_bitop.html" title="core.bitop"><span class="d_inlinecode donthyphenate notranslate">bitop</span></a></li><li>  <a href="core_checkedint.html" title="core.checkedint"><span class="d_inlinecode donthyphenate notranslate">checkedint</span></a></li><li>  <a href="core_cpuid.html" title="core.cpuid"><span class="d_inlinecode donthyphenate notranslate">cpuid</span></a></li><li>  <a href="core_demangle.html" title="core.demangle"><span class="d_inlinecode donthyphenate notranslate">demangle</span></a></li><li>  <a href="core_exception.html" title="core.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>  <a href="core_math.html" title="core.math"><span class="d_inlinecode donthyphenate notranslate">math</span></a></li><li>  <a href="core_memory.html" title="core.memory"><span class="d_inlinecode donthyphenate notranslate">memory</span></a></li><li>  <a href="core_runtime.html" title="core.runtime"><span class="d_inlinecode donthyphenate notranslate">runtime</span></a></li><li>  <a href="core_simd.html" title="core.simd"><span class="d_inlinecode donthyphenate notranslate">simd</span></a></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">stdc</span></h7><ul><li>    <a href="core_stdc_complex.html" title="core.stdc.complex"><span class="d_inlinecode donthyphenate notranslate">complex</span></a></li><li>    <a href="core_stdc_ctype.html" title="core.stdc.ctype"><span class="d_inlinecode donthyphenate notranslate">ctype</span></a></li><li>    <a href="core_stdc_errno.html" title="core.stdc.errno"><span class="d_inlinecode donthyphenate notranslate">errno</span></a></li><li>    <a href="core_stdc_fenv.html" title="core.stdc.fenv"><span class="d_inlinecode donthyphenate notranslate">fenv</span></a></li><li>    <a href="core_stdc_float_.html" title="core.stdc.float_"><span class="d_inlinecode donthyphenate notranslate">float_</span></a></li><li>    <a href="core_stdc_inttypes.html" title="core.stdc.inttypes"><span class="d_inlinecode donthyphenate notranslate">inttypes</span></a></li><li>    <a href="core_stdc_limits.html" title="core.stdc.limits"><span class="d_inlinecode donthyphenate notranslate">limits</span></a></li><li>    <a href="core_stdc_locale.html" title="core.stdc.locale"><span class="d_inlinecode donthyphenate notranslate">locale</span></a></li><li>    <a href="core_stdc_math.html" title="core.stdc.math"><span class="d_inlinecode donthyphenate notranslate">math</span></a></li><li>    <a href="core_stdc_signal.html" title="core.stdc.signal"><span class="d_inlinecode donthyphenate notranslate">signal</span></a></li><li>    <a href="core_stdc_stdarg.html" title="core.stdc.stdarg"><span class="d_inlinecode donthyphenate notranslate">stdarg</span></a></li><li>    <a href="core_stdc_stddef.html" title="core.stdc.stddef"><span class="d_inlinecode donthyphenate notranslate">stddef</span></a></li><li>    <a href="core_stdc_stdint.html" title="core.stdc.stdint"><span class="d_inlinecode donthyphenate notranslate">stdint</span></a></li><li>    <a href="core_stdc_stdio.html" title="core.stdc.stdio"><span class="d_inlinecode donthyphenate notranslate">stdio</span></a></li><li>    <a href="core_stdc_stdlib.html" title="core.stdc.stdlib"><span class="d_inlinecode donthyphenate notranslate">stdlib</span></a></li><li>    <a href="core_stdc_string.html" title="core.stdc.string"><span class="d_inlinecode donthyphenate notranslate">string</span></a></li><li>    <a href="core_stdc_tgmath.html" title="core.stdc.tgmath"><span class="d_inlinecode donthyphenate notranslate">tgmath</span></a></li><li>    <a href="core_stdc_time.html" title="core.stdc.time"><span class="d_inlinecode donthyphenate notranslate">time</span></a></li><li>    <a href="core_stdc_wchar_.html" title="core.stdc.wchar_"><span class="d_inlinecode donthyphenate notranslate">wchar_</span></a></li><li>    <a href="core_stdc_wctype.html" title="core.stdc.wctype"><span class="d_inlinecode donthyphenate notranslate">wctype</span></a>
  </li></ul></li><li>  <h7><span class="d_inlinecode donthyphenate notranslate">sync</span></h7><ul><li>    <a href="core_sync_barrier.html" title="core.sync.barrier"><span class="d_inlinecode donthyphenate notranslate">barrier</span></a></li><li>    <a href="core_sync_condition.html" title="core.sync.condition"><span class="d_inlinecode donthyphenate notranslate">condition</span></a></li><li>    <a href="core_sync_config.html" title="core.sync.config"><span class="d_inlinecode donthyphenate notranslate">config</span></a></li><li>    <a href="core_sync_exception.html" title="core.sync.exception"><span class="d_inlinecode donthyphenate notranslate">exception</span></a></li><li>    <a href="core_sync_mutex.html" title="core.sync.mutex"><span class="d_inlinecode donthyphenate notranslate">mutex</span></a></li><li>    <a href="core_sync_rwmutex.html" title="core.sync.rwmutex"><span class="d_inlinecode donthyphenate notranslate">rwmutex</span></a></li><li>    <a href="core_sync_semaphore.html" title="core.sync.semaphore"><span class="d_inlinecode donthyphenate notranslate">semaphore</span></a>
  </li></ul></li><li>  <a href="core_thread.html" title="core.thread"><span class="d_inlinecode donthyphenate notranslate">thread</span></a></li><li>  <a href="core_time.html" title="core.time"><span class="d_inlinecode donthyphenate notranslate">time</span></a></li><li>  <a href="core_vararg.html" title="core.vararg"><span class="d_inlinecode donthyphenate notranslate">vararg</span></a>
</li></ul>
    <li><a href='http://code.dlang.org'><span>3rd Party Packages</span></a></li>
</ul></div>
</div>

<div class="hyphenate" id="content">    
<div id="tools">	<span class="tip">		<a href="https://github.com/D-Programming-Language/phobos/edit/master/std/variant.d" class="button">Improve this page</a>
		<span >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			local clone.
		</span>
	</span>
	<span class="tip">		<a href="http://wiki.dlang.org/DocComments/Phobos/StdVariant" class="button">Page wiki</a>
		<span >			View or edit the community-maintained wiki page associated with this page.
		</span>
	</span>
</div>
    <h1>std.variant</h1>
    <div class="quickindex" id="quickindex"></div>
    <!--Generated by Ddoc from std/variant.d-->
<div class="summary">This module implements a
 <a href="http://erdani.org/publications/cuj-04-2002.html">discriminated union</a>
 type (a.k.a.
 <a href="http://en.wikipedia.org/wiki/Tagged_union">tagged union</a>,
 <a href="http://en.wikipedia.org/wiki/Algebraic_data_type">algebraic type</a>).
 Such types are useful
 for type-uniform binary interfaces, interfacing with scripting
 languages, and comfortable exploratory programming.
</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Synopsis:</span>
<pre class="d_code notranslate">Variant a; <span class="d_comment">// Must assign before use, otherwise exception ensues
</span><span class="d_comment">// Initialize with an integer; make the type int
</span>Variant b = 42;
<span class="d_keyword">assert</span>(b.type == <span class="d_keyword">typeid</span>(<span class="d_keyword">int</span>));
<span class="d_comment">// Peek at the value
</span><span class="d_keyword">assert</span>(b.peek!(<span class="d_keyword">int</span>) !<span class="d_keyword">is</span> <span class="d_keyword">null</span> &amp;&amp; *b.peek!(<span class="d_keyword">int</span>) == 42);
<span class="d_comment">// Automatically convert per language rules
</span><span class="d_keyword">auto</span> x = b.get!(<span class="d_keyword">real</span>);
<span class="d_comment">// Assign any other type, including other variants
</span>a = b;
a = 3.14;
<span class="d_keyword">assert</span>(a.type == <span class="d_keyword">typeid</span>(<span class="d_keyword">double</span>));
<span class="d_comment">// Implicit conversions work just as with built-in types
</span><span class="d_keyword">assert</span>(a &lt; b);
<span class="d_comment">// Check for convertibility
</span><span class="d_keyword">assert</span>(!a.convertsTo!(<span class="d_keyword">int</span>)); <span class="d_comment">// double not convertible to int
</span><span class="d_comment">// Strings and all other arrays are supported
</span>a = <span class="d_string">"now I'm a string"</span>;
<span class="d_keyword">assert</span>(a == <span class="d_string">"now I'm a string"</span>);
a = <span class="d_keyword">new</span> <span class="d_keyword">int</span>[42]; <span class="d_comment">// can also assign arrays
</span><span class="d_keyword">assert</span>(a.length == 42);
a[5] = 7;
<span class="d_keyword">assert</span>(a[5] == 7);
<span class="d_comment">// Can also assign class values
</span><span class="d_keyword">class</span> Foo {}
<span class="d_keyword">auto</span> foo = <span class="d_keyword">new</span> Foo;
a = foo;
<span class="d_keyword">assert</span>(*a.peek!(Foo) == foo); <span class="d_comment">// and full type information is preserved
</span></pre>

</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Credits:</span>
Reviewed by Brad Roberts. Daniel Keep provided a detailed code
 review prompting the following improvements: (1) better support for
 arrays; (2) support for associative arrays; (3) friendlier behavior
 towards the garbage collector.

</div>
<div class="keyval License"><span class="key keyLicense">License:</span> <div class="val valLicense"><a href="http://www.boost.org/LICENSE_1_0.txt">Boost License 1.0</a>.
</div></div>
<div class="keyval Authors"><span class="key keyAuthors">Authors:</span> <div class="val valAuthors"><a href="http://erdani.org">Andrei Alexandrescu</a>
</div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Source:</span>
<span class="phobos_src"><a class="https" href="https://github.com/D-Programming-Language/phobos/blob/master/std/variant.d">std/variant.d</a></span></div>

<dl><dt class="d_decl"><a name=".maxSize"></a><div class="quickindex" id="quickindex.maxSize"></div>template <a name="maxSize"></a><span class="ddoc_psymbol">maxSize</span>(T...)</dt>
<dd><div class="summary">Gives the <span class="d_inlinecode donthyphenate notranslate">sizeof</span> the largest type given.</div>

</dd>
<dt class="d_decl"><a name=".VariantN"></a><div class="quickindex" id="quickindex.VariantN"></div>struct <a name="VariantN"></a><span class="ddoc_psymbol">VariantN</span>(size_t maxDataSize, AllowedTypesX...);
</dt>
<dd><div class="summary"><span class="d_param"><a name="VariantN"></a><span class="ddoc_psymbol">VariantN</span></span> is a back-end type seldom used directly by user
 code. Two commonly-used types using <span class="d_param"><a name="VariantN"></a><span class="ddoc_psymbol">VariantN</span></span> as
 back-end are:
</div>
<div class="description"><ol><li><b>Algebraic</b>: A closed discriminated union with a
 limited type universe (e.g., <span class="d_param">Algebraic!(int, double,
 string)</span> only accepts these three types and rejects anything
 else).</li> <li><b>Variant</b>: An open discriminated union allowing an
 unbounded set of types. The restriction is that the size of the
 stored type cannot be larger than the largest built-in type. This
 means that <span class="d_param">Variant</span> can accommodate all primitive types
 and all user-defined types except for large <span class="d_param">struct</span>s.</li> </ol>
<p></p>

 Both <span class="d_param">Algebraic</span> and <span class="d_param">Variant</span> share <span class="d_param"> <a name="VariantN"></a><span class="ddoc_psymbol">VariantN</span></span>'s interface. (See their respective documentations below.)
<p></p>

 <span class="d_param"><a name="VariantN"></a><span class="ddoc_psymbol">VariantN</span></span> is a discriminated union type parameterized
 with the largest size of the types stored (<span class="d_param">maxDataSize</span>)
 and with the list of allowed types (<span class="d_param">AllowedTypes</span>). If
 the list is empty, then any type up of size up to <span class="d_param"> maxDataSize</span> (rounded up for alignment) can be stored in a
 <span class="d_param"><a name="VariantN"></a><span class="ddoc_psymbol">VariantN</span></span> object.</div>

<dl><dt class="d_decl"><a name=".VariantN.allowed"></a><div class="quickindex" id="quickindex.VariantN.allowed"></div>template <a name="allowed"></a><span class="ddoc_psymbol">allowed</span>(T)</dt>
<dd><div class="summary">Tells whether a type <span class="d_param">T</span> is statically <a name="allowed"></a><span class="ddoc_psymbol">allowed</span> for
 storage inside a <span class="d_param">VariantN</span> object by looking
 <span class="d_param">T</span> up in <span class="d_param">AllowedTypes</span>. If <span class="d_param"> AllowedTypes</span> is empty, all types of size up to <span class="d_param"> maxSize</span> are <a name="allowed"></a><span class="ddoc_psymbol">allowed</span>.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.this"></a><div class="quickindex" id="quickindex.VariantN.this"></div>this(T)(T <i>value</i>);
</dt>
<dd><div class="summary">Constructs a <span class="d_param">VariantN</span> value given an argument of a
 generic type. Statically rejects disallowed types.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.opAssign"></a><div class="quickindex" id="quickindex.VariantN.opAssign"></div>VariantN <a name="opAssign"></a><span class="ddoc_psymbol">opAssign</span>(T)(T <i>rhs</i>);
</dt>
<dd><div class="summary">Assigns a <span class="d_param">VariantN</span> from a generic
 argument. Statically rejects disallowed types.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.hasValue"></a><div class="quickindex" id="quickindex.VariantN.hasValue"></div>const pure nothrow @property bool <a name="hasValue"></a><span class="ddoc_psymbol">hasValue</span>();
</dt>
<dd><div class="summary">Returns <b>true</b> if and only if the <span class="d_param">VariantN</span> object
 holds a valid value (has been initialized with, or assigned
 from, a valid value).
</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Example:</span>
<pre class="d_code notranslate">Variant a;
<span class="d_keyword">assert</span>(!a.<span class="d_psymbol">hasValue</span>);
Variant b;
a = b;
<span class="d_keyword">assert</span>(!a.<span class="d_psymbol">hasValue</span>); <span class="d_comment">// still no value
</span>a = 5;
<span class="d_keyword">assert</span>(a.<span class="d_psymbol">hasValue</span>);
</pre>
</div>

</dd>
<dt class="d_decl"><a name=".VariantN.peek"></a><div class="quickindex" id="quickindex.VariantN.peek"></div>inout @property inout(T)* <a name="peek"></a><span class="ddoc_psymbol">peek</span>(T)();
</dt>
<dd><div class="summary">If the <span class="d_param">VariantN</span> object holds a value of the
 <i>exact</i> type <span class="d_param">T</span>, returns a pointer to that
 value. Otherwise, returns <span class="d_param"><b>null</b></span>. In cases
 where <span class="d_param">T</span> is statically disallowed, <span class="d_param"> <a name="peek"></a><span class="ddoc_psymbol">peek</span></span> will not compile.
</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Example:</span>
<pre class="d_code notranslate">Variant a = 5;
<span class="d_keyword">auto</span> b = a.<span class="d_psymbol">peek</span>!(<span class="d_keyword">int</span>);
<span class="d_keyword">assert</span>(b !<span class="d_keyword">is</span> <span class="d_keyword">null</span>);
*b = 6;
<span class="d_keyword">assert</span>(a == 6);
</pre>
</div>

</dd>
<dt class="d_decl"><a name=".VariantN.type"></a><div class="quickindex" id="quickindex.VariantN.type"></div>const nothrow @property @trusted TypeInfo <a name="type"></a><span class="ddoc_psymbol">type</span>();
</dt>
<dd><div class="summary">Returns the <span class="d_param">typeid</span> of the currently held value.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.convertsTo"></a><div class="quickindex" id="quickindex.VariantN.convertsTo"></div>const @property bool <a name="convertsTo"></a><span class="ddoc_psymbol">convertsTo</span>(T)();
</dt>
<dd><div class="summary">Returns <span class="d_param"><b>true</b></span> if and only if the <span class="d_param">VariantN</span>
 object holds an object implicitly convertible to type <span class="d_param"> U</span>. Implicit convertibility is defined as per
 <a href="std_traits.html#ImplicitConversionTargets">ImplicitConversionTargets</a>.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.get"></a><div class="quickindex" id="quickindex.VariantN.get"></div>@property T <a name="get"></a><span class="ddoc_psymbol">get</span>(T)() if (!is(T == const));
</dt>
<dd><div class="summary">Returns the value stored in the <span class="d_param">VariantN</span> object,
 implicitly converted to the requested type <span class="d_param">T</span>, in
 fact <span class="d_param">DecayStaticToDynamicArray!(T)</span>. If an implicit
 conversion is not possible, throws a <span class="d_param"> VariantException</span>.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.coerce"></a><div class="quickindex" id="quickindex.VariantN.coerce"></div>@property T <a name="coerce"></a><span class="ddoc_psymbol">coerce</span>(T)();
</dt>
<dd><div class="summary">Returns the value stored in the <span class="d_param">VariantN</span> object,
 explicitly converted (coerced) to the requested type <span class="d_param"> T</span>. If <span class="d_param">T</span> is a string type, the value is formatted as
 a string. If the <span class="d_param">VariantN</span> object is a string, a
 parse of the string to type <span class="d_param">T</span> is attempted. If a
 conversion is not possible, throws a <span class="d_param"> VariantException</span>.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.toString"></a><div class="quickindex" id="quickindex.VariantN.toString"></div>string <a name="toString"></a><span class="ddoc_psymbol">toString</span>();
</dt>
<dd><div class="summary">Formats the stored value as a string.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.opEquals"></a><div class="quickindex" id="quickindex.VariantN.opEquals"></div>const bool <a name="opEquals"></a><span class="ddoc_psymbol">opEquals</span>(T)(auto ref T <i>rhs</i>);
</dt>
<dd><div class="summary">Comparison for equality used by the "==" and "!="  operators.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.opCmp"></a><div class="quickindex" id="quickindex.VariantN.opCmp"></div>int <a name="opCmp"></a><span class="ddoc_psymbol">opCmp</span>(T)(T <i>rhs</i>);
</dt>
<dd><div class="summary">Ordering comparison used by the "&lt;", "&lt;=", "&gt;", and "&gt;="
 operators. In case comparison is not sensible between the held
 value and <span class="d_param">rhs</span>, an exception is thrown.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.toHash"></a><div class="quickindex" id="quickindex.VariantN.toHash"></div>const nothrow @safe size_t <a name="toHash"></a><span class="ddoc_psymbol">toHash</span>();
</dt>
<dd><div class="summary">Computes the hash of the held value.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.opAdd"></a><div class="quickindex" id="quickindex.VariantN.opAdd"></div>VariantN <a name="opAdd"></a><span class="ddoc_psymbol">opAdd</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opSub"></a><div class="quickindex" id="quickindex.VariantN.opSub"></div>VariantN <a name="opSub"></a><span class="ddoc_psymbol">opSub</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opMul"></a><div class="quickindex" id="quickindex.VariantN.opMul"></div>VariantN <a name="opMul"></a><span class="ddoc_psymbol">opMul</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opDiv"></a><div class="quickindex" id="quickindex.VariantN.opDiv"></div>VariantN <a name="opDiv"></a><span class="ddoc_psymbol">opDiv</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opMod"></a><div class="quickindex" id="quickindex.VariantN.opMod"></div>VariantN <a name="opMod"></a><span class="ddoc_psymbol">opMod</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opAnd"></a><div class="quickindex" id="quickindex.VariantN.opAnd"></div>VariantN <a name="opAnd"></a><span class="ddoc_psymbol">opAnd</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opOr"></a><div class="quickindex" id="quickindex.VariantN.opOr"></div>VariantN <a name="opOr"></a><span class="ddoc_psymbol">opOr</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opXor"></a><div class="quickindex" id="quickindex.VariantN.opXor"></div>VariantN <a name="opXor"></a><span class="ddoc_psymbol">opXor</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opShl"></a><div class="quickindex" id="quickindex.VariantN.opShl"></div>VariantN <a name="opShl"></a><span class="ddoc_psymbol">opShl</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opShr"></a><div class="quickindex" id="quickindex.VariantN.opShr"></div>VariantN <a name="opShr"></a><span class="ddoc_psymbol">opShr</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opUShr"></a><div class="quickindex" id="quickindex.VariantN.opUShr"></div>VariantN <a name="opUShr"></a><span class="ddoc_psymbol">opUShr</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opCat"></a><div class="quickindex" id="quickindex.VariantN.opCat"></div>VariantN <a name="opCat"></a><span class="ddoc_psymbol">opCat</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opAddAssign"></a><div class="quickindex" id="quickindex.VariantN.opAddAssign"></div>VariantN <a name="opAddAssign"></a><span class="ddoc_psymbol">opAddAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opSubAssign"></a><div class="quickindex" id="quickindex.VariantN.opSubAssign"></div>VariantN <a name="opSubAssign"></a><span class="ddoc_psymbol">opSubAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opMulAssign"></a><div class="quickindex" id="quickindex.VariantN.opMulAssign"></div>VariantN <a name="opMulAssign"></a><span class="ddoc_psymbol">opMulAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opDivAssign"></a><div class="quickindex" id="quickindex.VariantN.opDivAssign"></div>VariantN <a name="opDivAssign"></a><span class="ddoc_psymbol">opDivAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opModAssign"></a><div class="quickindex" id="quickindex.VariantN.opModAssign"></div>VariantN <a name="opModAssign"></a><span class="ddoc_psymbol">opModAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opAndAssign"></a><div class="quickindex" id="quickindex.VariantN.opAndAssign"></div>VariantN <a name="opAndAssign"></a><span class="ddoc_psymbol">opAndAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opOrAssign"></a><div class="quickindex" id="quickindex.VariantN.opOrAssign"></div>VariantN <a name="opOrAssign"></a><span class="ddoc_psymbol">opOrAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opXorAssign"></a><div class="quickindex" id="quickindex.VariantN.opXorAssign"></div>VariantN <a name="opXorAssign"></a><span class="ddoc_psymbol">opXorAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opShlAssign"></a><div class="quickindex" id="quickindex.VariantN.opShlAssign"></div>VariantN <a name="opShlAssign"></a><span class="ddoc_psymbol">opShlAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opShrAssign"></a><div class="quickindex" id="quickindex.VariantN.opShrAssign"></div>VariantN <a name="opShrAssign"></a><span class="ddoc_psymbol">opShrAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opUShrAssign"></a><div class="quickindex" id="quickindex.VariantN.opUShrAssign"></div>VariantN <a name="opUShrAssign"></a><span class="ddoc_psymbol">opUShrAssign</span>(T)(T <i>rhs</i>);
<br><a name=".VariantN.opCatAssign"></a><div class="quickindex" id="quickindex.VariantN.opCatAssign"></div>VariantN <a name="opCatAssign"></a><span class="ddoc_psymbol">opCatAssign</span>(T)(T <i>rhs</i>);
</dt>
<dd><div class="summary">Arithmetic between <span class="d_param">VariantN</span> objects and numeric
 values. All arithmetic operations return a <span class="d_param">VariantN</span>
 object typed depending on the types of both values
 involved. The conversion rules mimic D's built-in rules for
 arithmetic conversions.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.opIndex"></a><div class="quickindex" id="quickindex.VariantN.opIndex"></div>VariantN <a name="opIndex"></a><span class="ddoc_psymbol">opIndex</span>(K)(K <i>i</i>);
<br><a name=".VariantN.opIndexAssign"></a><div class="quickindex" id="quickindex.VariantN.opIndexAssign"></div>VariantN <a name="opIndexAssign"></a><span class="ddoc_psymbol">opIndexAssign</span>(T, N)(T <i>value</i>, N <i>i</i>);
</dt>
<dd><div class="summary">Array and associative array operations. If a <span class="d_param"> VariantN</span> contains an (associative) array, it can be indexed
 into. Otherwise, an exception is thrown.
</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Example:</span>
<pre class="d_code notranslate"><span class="d_keyword">auto</span> a = Variant(<span class="d_keyword">new</span> <span class="d_keyword">int</span>[10]);
a[5] = 42;
<span class="d_keyword">assert</span>(a[5] == 42);
<span class="d_keyword">int</span>[<span class="d_keyword">int</span>] hash = [ 42:24 ];
a = hash;
<span class="d_keyword">assert</span>(a[42] == 24);
</pre>

</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Caveat:</span>
 Due to limitations in current language, read-modify-write
 operations <span class="d_param">op=</span> will not work properly:
<p></p>

<pre class="d_code notranslate">Variant a = <span class="d_keyword">new</span> <span class="d_keyword">int</span>[10];
a[5] = 42;
a[5] += 8;
<span class="d_keyword">assert</span>(a[5] == 50); <span class="d_comment">// fails, a[5] is still 42
</span></pre>
</div>

</dd>
<dt class="d_decl"><a name=".VariantN.length"></a><div class="quickindex" id="quickindex.VariantN.length"></div>@property size_t <a name="length"></a><span class="ddoc_psymbol">length</span>();
</dt>
<dd><div class="summary">If the <span class="d_param">VariantN</span> contains an (associative) array,
 returns the <a name="length"></a><span class="ddoc_psymbol">length</span> of that array. Otherwise, throws an
 exception.</div>

</dd>
<dt class="d_decl"><a name=".VariantN.opApply"></a><div class="quickindex" id="quickindex.VariantN.opApply"></div>int <a name="opApply"></a><span class="ddoc_psymbol">opApply</span>(Delegate)(scope Delegate <i>dg</i>) if (is(Delegate == delegate));
</dt>
<dd><div class="summary">If the <span class="d_inlinecode donthyphenate notranslate">VariantN</span> contains an array, applies <span class="d_inlinecode donthyphenate notranslate">dg</span> to each
       element of the array in turn. Otherwise, throws an exception.</div>

</dd>
</dl>
</dd>
<dt class="d_decl"><a name=".Algebraic"></a><div class="quickindex" id="quickindex.Algebraic"></div>template <a name="Algebraic"></a><span class="ddoc_psymbol">Algebraic</span>(T...)</dt>
<dd><div class="summary"><a name="Algebraic"></a><span class="ddoc_psymbol">Algebraic</span> data type restricted to a closed set of possible
 types. It's an alias for a <span class="d_param">VariantN</span> with an
 appropriately-constructed maximum size. <span class="d_param"><a name="Algebraic"></a><span class="ddoc_psymbol">Algebraic</span></span> is
 useful when it is desirable to restrict what a discriminated type
 could hold to the end of defining simpler and more efficient
 manipulation.
</div>
<div class="description">Future additions to <span class="d_param"><a name="Algebraic"></a><span class="ddoc_psymbol">Algebraic</span></span> will allow compile-time
 checking that all possible types are handled by user code,
 eliminating a large class of errors.

</div>
<div class="keyval Bugs"><span class="key keyBugs">Bugs:</span> <div class="val valBugs">Currently, <span class="d_param"><a name="Algebraic"></a><span class="ddoc_psymbol">Algebraic</span></span> does not allow recursive data
 types. They will be allowed in a future iteration of the
 implementation.

</div></div>
<div class="val"><p class="keyval Section"><span class="key keySection">Example:</span>
<pre class="d_code notranslate"><span class="d_keyword">auto</span> v = <span class="d_psymbol">Algebraic</span>!(<span class="d_keyword">int</span>, <span class="d_keyword">double</span>, string)(5);
<span class="d_keyword">assert</span>(v.peek!(<span class="d_keyword">int</span>));
v = 3.14;
<span class="d_keyword">assert</span>(v.peek!(<span class="d_keyword">double</span>));
<span class="d_comment">// auto x = v.peek!(long); // won't compile, type long not allowed
</span><span class="d_comment">// v = '1'; // won't compile, type char not allowed
</span></pre>
</div>

</dd>
<dt class="d_decl"><a name=".Variant"></a><div class="quickindex" id="quickindex.Variant"></div>alias <a name="Variant"></a><span class="ddoc_psymbol">Variant</span> = VariantN!32LU.VariantN;
</dt>
<dd><div class="summary"><span class="d_param"><a name="Variant"></a><span class="ddoc_psymbol">Variant</span></span> is an alias for <span class="d_param">VariantN</span> instantiated
with the largest of <span class="d_param">creal</span>, <span class="d_param">char[]</span>, and <span class="d_param">void delegate()</span>. This ensures that <span class="d_param"><a name="Variant"></a><span class="ddoc_psymbol">Variant</span></span> is large enough
to hold all of D's predefined types, including all numeric types,
pointers, delegates, and class references.  You may want to use
<span class="d_param">VariantN</span> directly with a different maximum size either for
storing larger types, or for saving memory.</div>

</dd>
<dt class="d_decl"><a name=".variantArray"></a><div class="quickindex" id="quickindex.variantArray"></div>Variant[] <a name="variantArray"></a><span class="ddoc_psymbol">variantArray</span>(T...)(T <i>args</i>);
</dt>
<dd><div class="summary">Returns an array of variants constructed from <span class="d_param">args</span>.
</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Example:</span>
<pre class="d_code notranslate"><span class="d_keyword">auto</span> a = <span class="d_psymbol">variantArray</span>(1, 3.14, <span class="d_string">"Hi!"</span>);
<span class="d_keyword">assert</span>(a[1] == 3.14);
<span class="d_keyword">auto</span> b = Variant(a); <span class="d_comment">// variant array as variant
</span><span class="d_keyword">assert</span>(b[1] == 3.14);
</pre>
<p></p>

 Code that needs functionality similar to the <span class="d_param">boxArray</span>
 function in the <span class="d_param">std.boxer</span> module can achieve it like this:
<p></p>

<pre class="d_code notranslate"><span class="d_comment">// old
</span>Box[] fun(...)
{
    ...
    <span class="d_keyword">return</span> boxArray(_arguments, _argptr);
}
<span class="d_comment">// new
</span>Variant[] fun(T...)(T args)
{
    ...
    <span class="d_keyword">return</span> <span class="d_psymbol">variantArray</span>(args);
}
</pre>
<p></p>

 This is by design. During construction the <span class="d_param">Variant</span> needs
 static type information about the type being held, so as to store a
 pointer to function for fast retrieval.</div>

</dd>
<dt class="d_decl"><a name=".VariantException"></a><div class="quickindex" id="quickindex.VariantException"></div>class <a name="VariantException"></a><span class="ddoc_psymbol">VariantException</span>: <em class="u">object.Exception</em>;
</dt>
<dd><div class="summary">Thrown in three cases:
</div>
<div class="description"><ol><li>An uninitialized Variant is used in any way except
 assignment and <span class="d_param">hasValue</span>;</li> <li>A <span class="d_param">get</span> or
 <span class="d_param">coerce</span> is attempted with an incompatible target type;</li>
 <li>A comparison between <span class="d_param">Variant</span> objects of
 incompatible types is attempted.</li></ol></div>

<dl><dt class="d_decl"><a name=".VariantException.source"></a><div class="quickindex" id="quickindex.VariantException.source"></div>TypeInfo <a name="source"></a><span class="ddoc_psymbol">source</span>;
</dt>
<dd><div class="summary">The <a name="source"></a><span class="ddoc_psymbol">source</span> type in the conversion or comparison</div>

</dd>
<dt class="d_decl"><a name=".VariantException.target"></a><div class="quickindex" id="quickindex.VariantException.target"></div>TypeInfo <a name="target"></a><span class="ddoc_psymbol">target</span>;
</dt>
<dd><div class="summary">The <a name="target"></a><span class="ddoc_psymbol">target</span> type in the conversion or comparison</div>

</dd>
</dl>
</dd>
<dt class="d_decl"><a name=".visit"></a><div class="quickindex" id="quickindex.visit"></div>template <a name="visit"></a><span class="ddoc_psymbol">visit</span>(Handler...) if (Handler.length &gt; 0)</dt>
<dd><div class="summary">Applies a delegate or function to the given Algebraic depending on the held type,
 ensuring that all types are handled by the visiting functions.
</div>
<div class="description">The delegate or function having the currently held value as parameter is called
 with 's current value. Visiting handlers are passed
 in the template parameter list.
 It is statically ensured that all types of
 <span class="d_param">variant</span> are handled across all handlers.
 <span class="d_param"><a name="visit"></a><span class="ddoc_psymbol">visit</span></span> allows delegates and static functions to be passed
 as parameters.
<p></p>

 If a function without parameters is specified, this function is called
 when variant doesn't hold a value. Exactly one parameter-less function
 is allowed.
<p></p>

 Duplicate overloads matching the same type in one of the visitors are disallowed.

</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Example:</span>
<pre class="d_code notranslate">  Algebraic!(<span class="d_keyword">int</span>, string) variant;

  variant = 10;
  <span class="d_keyword">assert</span>(variant.<span class="d_psymbol">visit</span>!((string s) =&gt; <span class="d_keyword">cast</span>(<span class="d_keyword">int</span>)s.length,
                        (<span class="d_keyword">int</span> i)    =&gt; i)()
                        == 10);
  variant = <span class="d_string">"string"</span>;
  <span class="d_keyword">assert</span>(variant.<span class="d_psymbol">visit</span>!((<span class="d_keyword">int</span> i) =&gt; <span class="d_keyword">return</span> i,
                        (string s) =&gt; <span class="d_keyword">cast</span>(<span class="d_keyword">int</span>)s.length)()
                        == 6);

  <span class="d_comment">// Error function usage
</span>  Algebraic!(<span class="d_keyword">int</span>, string) emptyVar;
  <span class="d_keyword">assert</span>(variant.<span class="d_psymbol">visit</span>!((string s) =&gt; <span class="d_keyword">cast</span>(<span class="d_keyword">int</span>)s.length,
                        (<span class="d_keyword">int</span> i)    =&gt; i,
                        () =&gt; -1)()
                        == -1);
</pre>
</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">The return type of <a name="visit"></a><span class="ddoc_psymbol">visit</span> is deduced from the visiting functions and must be
 the same across all overloads.
</div></div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows">If no parameter-less, error function is specified:
 <span class="d_param">VariantException</span> if <span class="d_param">variant</span> doesn't hold a value.</div></div>

</dd>
<dt class="d_decl"><a name=".tryVisit"></a><div class="quickindex" id="quickindex.tryVisit"></div>template <a name="tryVisit"></a><span class="ddoc_psymbol">tryVisit</span>(Handler...) if (Handler.length &gt; 0)</dt>
<dd><div class="summary">Behaves as <span class="d_param">visit</span> but doesn't enforce that all types are handled
 by the visiting functions.
</div>
<div class="description">If a parameter-less function is specified it is called when
 either <span class="d_param">variant</span> doesn't hold a value or holds a type
 which isn't handled by the visiting functions.

</div>
<div class="val"><p class="keyval Section"><span class="key keySection">Example:</span>
<pre class="d_code notranslate">  Algebraic!(<span class="d_keyword">int</span>, string) variant;

  variant = 10;
  <span class="d_keyword">auto</span> which = -1;
  variant.<span class="d_psymbol">tryVisit</span>!((<span class="d_keyword">int</span> i) { which = 0; })();
  <span class="d_keyword">assert</span>(which = 0);

  <span class="d_comment">// Error function usage
</span>  variant = <span class="d_string">"test"</span>;
  variant.<span class="d_psymbol">tryVisit</span>!((<span class="d_keyword">int</span> i) { which = 0; },
                    ()      { which = -100; })();
  <span class="d_keyword">assert</span>(which == -100);
</pre>

</div>
<div class="keyval Returns"><span class="key keyReturns">Returns:</span> <div class="val valReturns">The return type of <a name="tryVisit"></a><span class="ddoc_psymbol">tryVisit</span> is deduced from the visiting functions and must be
 the same across all overloads.
</div></div>
<div class="keyval Throws"><span class="key keyThrows">Throws:</span> <div class="val valThrows">If no parameter-less, error function is specified: <span class="d_param">VariantException</span> if
         <span class="d_param">variant</span> doesn't hold a value or
         if <span class="d_param">variant</span> holds a value which isn't handled by the visiting
         functions.</div></div>

</dd>
</dl>

</div>
<div id="copyright">Copyright Andrei Alexandrescu 2007 - 2009.
 | Page generated by <a href="http://dlang.org/ddoc.html">Ddoc</a> on Tue Jul  4 02:55:21 2017
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('<script src="../js/jquery-1.7.2.min.js">\x3C/script>')</script>
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>
    <script type="text/javascript" src="../js/cssmenu.js"></script>

<script type="text/javascript" src="../js/listanchors.js"></script>
<script type="text/javascript">jQuery(document).ready(listanchors);</script>
</body>
</html>
