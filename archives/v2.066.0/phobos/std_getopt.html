<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN"
   "http://www.w3.org/TR/html4/loose.dtd">
<html lang='en-US'>

<!--
	Copyright (c) 1999-2010 by Digital Mars
	All Rights Reserved Written by Walter Bright
	http://www.digitalmars.com
  -->

<head>
<meta http-equiv="content-type" content="text/html; charset=utf-8" >
<title>std.getopt - D Programming Language - Digital Mars</title>
<link rel="stylesheet" type="text/css" href="../css/codemirror.css" />
<link rel="stylesheet" type="text/css" href="../css/style.css">

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js" type="text/javascript"></script>
<script src="js/codemirror-compressed.js"></script>
<script src="js/run.js" type="text/javascript"></script>

<script type="text/javascript">
function listanchors()
{
    if (typeof inhibitQuickIndex !== 'undefined') return;
    var a = document.getElementById("quickindex");
    if (!a) return;
    var newText = "";
    var hash = new Array;
    var n = 0;
    var values = new Array;
    // List all anchors.
    for (var i = 0; i < document.anchors.length; i++)
    {
        var a = document.anchors[i];
        var text = a.name;
        // ignore anchors from DDOC_PSYMBOL
        if (text[0] != '.') continue;
        if (hash[text] > 0) continue;
        hash[text] = 1;
        values[n++] = a.name
    }

    // we won't display the qualifying names to save space, so sort by last name
    var lastName = function(a){
        var li = a.lastIndexOf('.');
        return a.slice(li + 1);
    }
    values.sort(function(a,b){
        return function(aa, bb){
            return aa == bb ? 0 : (aa < bb ? -1 : 1);
        }(lastName(a).toLowerCase(), lastName(b).toLowerCase());
    });

    for(var i = 0; i < values.length; i++) {
        var a = values[i];
        var text = lastName(a);
        newText += ' \x3Ca href="\x23' + a +
            '"\x3E\x3Cspan class="d_psymbol"\x3E' + text + '\x3C/span\x3E\x3C/a\x3E';
    }
    if (newText != "") newText = "\x3Cp\x3E\x3Cb\x3EJump to:\x3C/b\x3E" + newText + "\x3C/p\x3E";
    var a = document.getElementById("quickindex");
    a.innerHTML = newText;
}
jQuery(document).ready(listanchors);
</script>

</head>

<body class='hyphenate'>

<div id="top">
	<div id="search-box">
		<form method="get" action="http://google.com/search">
			<img src="images/search-left.gif" width="11" height="22" alt=""><input id="q" name="q"><input type="image" id="search-submit" name="submit" src="images/search-button.gif">
			<input type="hidden" id="domains" name="domains" value="dlang.org">
			<input type="hidden" id="sourceid" name="sourceid" value="google-search">
			<div id="search-dropdown">
				<select id="sitesearch" name="sitesearch" size="1">
					<option value="dlang.org">Entire D  Site</option>
					<option value="dlang.org/phobos">Library Reference</option>
					<option value="www.digitalmars.com/d/archives">Newsgroup Archives</option>
				</select>
			</div>
		</form>
	</div>
	<div id="header">
		<a href="/"><img id="logo" width="125" height="95" border="0" alt="D Logo" src="images/dlogo.png"></a>
		<a id="d-language" href="/">D Programming Language </a>
	</div>
</div>

<div id="navigation">
    
<div class="navblock">
<form method="get" action="http://www.google.com/search">
<div id="searchbox">
<input name="q" size="10" value="RTL Search" onFocus='if(this.value == "RTL Search"){this.value="";}'>
<input type="hidden" name="domains" value="www.digitalmars.com">
<input type="hidden" name="sitesearch" value="dlang.org/phobos">
<input type="hidden" name="sourceid" value="google-search">
<input type="submit" name="submit" value="Go">
</div>
</form>
<div id="toctop">
    <ul>	<li><a href="../index.html" title="D Programming Language">D</a></li>
	<li><a href="../spec.html" title="D Language Specification">Language</a></li>
	<li><a href="../phobos/index.html" title="D Runtime Library">Phobos 2.066.0</a></li>
	<li><a href="../phobos-prerelease/index.html" title="D Runtime Library (prerelease)">Phobos (prerelease)</a></li>
	<li><a href="../comparison.html" title="Language Comparisons">Comparisons</a></li>
	<li><a href="http://code.dlang.org" title="Third Party Packages">Third Party Packages</a></li>
    </ul>
</div>
</div>
    
<div class="navblock">
    <ul>	<li><a href="object.html" title="root of object hierarchy">object</a></li>
    </ul>
    <h2><a href="index.html#std" title="D standard modules">std</a></h2>
    <ul>	<li><a href="std_algorithm.html" title="General-purpose algorithms">std.algorithm</a></li>
	<li><a href="std_array.html" title="Array functions">std.array</a></li>
	<li><a href="std_ascii.html" title="Functions which operate on ASCII characters">std.ascii</a></li>
	<li><a href="std_base64.html" title="Encode/decode base64 format">std.base64</a></li>
	<li><a href="std_bigint.html" title="Arbitrary-precision ('bignum') arithmetic">std.bigint</a></li>
	<li><a href="std_bitmanip.html" title="Bit-level manipulation">std.bitmanip</a></li>
	<li><a href="std_compiler.html" title="Information about the D compiler implementation">std.compiler</a></li>
	<li><a href="std_complex.html" title="Complex numbers">std.complex</a></li>
	<li><a href="std_concurrency.html" title="Message Passing">std.concurrency</a></li>
	<li><a href="std_container.html" title="Containers">std.container</a></li>
	<li><a href="std_conv.html" title="Conversion of strings to integers">std.conv</a></li>
	<li><a href="std_csv.html" title="CSV file parser">std.csv</a></li>
	<li><a href="std_datetime.html" title="Date and time-related types and functions">std.datetime</a></li>
	<li><a href="std_encoding.html" title="Character and string encoding">std.encoding</a></li>
	<li><a href="std_exception.html" title="Exceptions and error handling">std.exception</a></li>
	<li><a href="std_file.html" title="Basic file operations">std.file</a></li>
	<li><a href="std_format.html" title="Formatted conversions of values to strings">std.format</a></li>
	<li><a href="std_functional.html" title="functional">std.functional</a></li>
	<li><a href="std_getopt.html" title="Command line options">std.getopt</a></li>
	<li><a href="std_json.html" title="JSON reader">std.json</a></li>
	<li><a href="std_math.html" title="the usual math functions">std.math</a></li>
	<li><a href="std_mathspecial.html" title="mathematical special functions">std.mathspecial</a></li>
	<li><a href="std_mmfile.html" title="Memory mapped files">std.mmfile</a></li>
	<li><a href="std_numeric.html" title="Numeric algorithms">std.numeric</a></li>
	<li><a href="std_outbuffer.html" title="Assemble data into an array of bytes">std.outbuffer</a></li>
	<li><a href="std_parallelism.html" title="High-level primitives for SMP parallelism">std.parallelism</a></li>
	<li><a href="std_path.html" title="Manipulate file names, path names, etc.">std.path</a></li>
	<li><a href="std_process.html" title="Create/destroy processes">std.process</a></li>
	<li><a href="std_random.html" title="Random number generation">std.random</a></li>
	<li><a href="std_range.html" title="Ranges">std.range</a></li>
	<li><a href="std_regex.html" title="regular expressions">std.regex</a></li>
	<li><a href="std_signals.html" title="Signals">std.signals</a></li>
	<li><a href="std_socket.html" title="Sockets">std.socket</a></li>
	<li><a href="std_socketstream.html" title="Stream for a blocking, connected Socket">std.socketstream</a></li>
	<li><a href="std_stdio.html" title="Standard I/O">std.stdio</a></li>
	<li><a href="std_cstream.html" title="Stream I/O">std.cstream</a></li>
	<li><a href="std_stream.html" title="Stream I/O">std.stream</a></li>
	<li><a href="std_string.html" title="Basic string operations">std.string</a></li>
	<li><a href="std_system.html" title="Inquire about the CPU, operating system">std.system</a></li>
	<li><a href="std_traits.html" title="Type traits">std.traits</a></li>
	<li><a href="std_typecons.html" title="Type constructors">std.typecons</a></li>
	<li><a href="std_typetuple.html" title="Type tuples">std.typetuple</a></li>
	<li><a href="std_uni.html" title="Unicode classification">std.uni</a></li>
	<li><a href="std_uri.html" title="Encode and decode Uniform Resource Identifiers (URIs)">std.uri</a></li>
	<li><a href="std_utf.html" title="Encode and decode utf character encodings">std.utf</a></li>
	<li><a href="std_uuid.html" title="Generate and use UUIDs">std.uuid</a></li>
	<li><a href="std_variant.html" title="Stores all types in a uniform, dynamically-checked representation">std.variant</a></li>
	<li><a href="std_xml.html" title="XML file processing">std.xml</a></li>
	<li><a href="std_zip.html" title="Read/write zip archives">std.zip</a></li>
	<li><a href="std_zlib.html" title="Compression / Decompression of data">std.zlib</a></li>
	<li><a href="std_net_curl.html" title="High level curl wrapper">std.net.curl</a></li>
	<li><a href="std_net_isemail.html" title="Validate e-mail addresses">std.net.isemail</a></li>
	<li><a href="std_digest_crc.html" title="CRC digest functions">std.digest.crc</a></li>
	<li><a href="std_digest_digest.html" title="API for digest functions">std.digest.digest</a></li>
	<li><a href="std_digest_md.html" title="MD digest functions">std.digest.md</a></li>
	<li><a href="std_digest_ripemd.html" title="RIPEMD digest functions">std.digest.ripemd</a></li>
	<li><a href="std_digest_sha.html" title="SHA digest functions">std.digest.sha</a></li>
	<li><a href="std_windows_charset.html" title="Conversion to/from Windows character sets">std.windows.charset</a></li>
    </ul>
    <h2><a href="index.html#etc" title="D etc modules">etc</a></h2>
    <ul>	<li><a href="etc_c_curl.html" title="Interface to libcurl library">etc.c.curl</a></li>
	<li><a href="etc_c_sqlite3.html" title="Interface to sqlite3 library">etc.c.sqlite3</a></li>
	<li><a href="etc_c_zlib.html" title="Interface to zlib library">etc.c.zlib</a></li>
    </ul>
    <h2><a href="index.html#core" title="D core modules">core</a></h2>
    <ul>	<li><a href="core_atomic.html" title="Atomic operations">core.atomic</a></li>
	<li><a href="core_bitop.html" title="Bitwise operations">core.bitop</a></li>
	<li><a href="core_cpuid.html" title="CPU identification">core.cpuid</a></li>
	<li><a href="core_demangle.html" title="D symbol mangling">core.demangle</a></li>
	<li><a href="core_exception.html" title="Root of exception hierarchy">core.exception</a></li>
	<li><a href="core_memory.html" title="Interface to memory management">core.memory</a></li>
	<li><a href="core_runtime.html" title="Interface to D runtime library internals">core.runtime</a></li>
	<li><a href="core_simd.html" title="Builtin SIMD intrinsics">core.simd</a></li>
	<li><a href="core_thread.html" title="Thread management">core.thread</a></li>
	<li><a href="core_time.html" title="Core time functionality">core.time</a></li>
	<li><a href="core_vararg.html" title="Variable function arguments">core.vararg</a></li>
	<li><a href="core_sync_barrier.html" title="Synchronizing progress of a group of threads">core.sync.barrier</a></li>
	<li><a href="core_sync_condition.html" title="Synchronized condition checking">core.sync.condition</a></li>
	<li><a href="core_sync_config.html" title="Stuff for core.sync">core.sync.config</a></li>
	<li><a href="core_sync_exception.html" title="SyncException">core.sync.exception</a></li>
	<li><a href="core_sync_mutex.html" title="Mutexes">core.sync.mutex</a></li>
	<li><a href="core_sync_rwmutex.html" title="R/W mutually exclusive access">core.sync.rwmutex</a></li>
	<li><a href="core_sync_semaphore.html" title="Semaphores">core.sync.semaphore</a></li>
    </ul>
</div>
</div><!--/navigation-->
<div id="content">
    
<div id="tools">
	<!--span id="lastupdate">Last update </span-->
	<span class="tip">
		<a href="https://github.com/D-Programming-Language/phobos/edit/master/std/getopt.d" class="button">Improve this page</a>
		<span>
			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			local clone.
		</span>
	</span>
	<span class="tip">
		<a href="http://wiki.dlang.org/DocComments/Phobos/StdGetopt" class="button">Page wiki</a>
		<span>
			View or edit the community-maintained wiki page associated with this page.
		</span>
	</span>
</div>
    <h1>std.getopt</h1>
    <div id=quickindex class=quickindex></div>
    <!-- Generated by Ddoc from std/getopt.d -->
Processing of command line options.
<p></p>
The <a name="getopt"></a><span class="ddoc_psymbol">getopt</span> module implements a <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> function, which adheres to
the POSIX syntax for command line options. GNU extensions are
supported in the form of long options introduced by a double dash
("--"). Support for bundling of command line options, as was the case
with the more traditional single-letter approach, is provided but not
enabled by default.

<p></p>
<b>License:</b><br><a href="http://www.boost.org/LICENSE_1_0.txt">Boost License 1.0</a>.
<p></p>
<b>Authors:</b><br><a href="http://erdani.org">Andrei Alexandrescu</a>
<p></p>
<b>Credits:</b><br>
This module and its documentation are inspired by Perl's <a href="http://           perldoc.perl.org/Getopt/Long.html">Getopt::Long</a> module. The syntax of
           D's <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> is simpler than its Perl counterpart because <span class="d_inlinecode">           <a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> infers the expected parameter types from the static types of
           the passed-in pointers.
<p></p>
<b>Source:</b><br>
<a href="https://github.com/D-Programming-Language/phobos/blob/master/std/getopt.d">std/getopt.d</a><p></p>

<dl><dt class="d_decl"><a name=".GetOptException"></a>class <a name="GetOptException"></a><span class="ddoc_psymbol">GetOptException</span>: <u>object.Exception</u>;
</dt>
<dd> Thrown on one of the following conditions:
 - An unrecognized command-line argument is passed
   and <span class="d_inlinecode">std.getopt.config.passThrough</span> was not present.<p></p>

</dd>
<dt class="d_decl"><a name=".getopt"></a>void <a name="getopt"></a><span class="ddoc_psymbol">getopt</span>(T...)(ref string[] <i>args</i>, T <i>opts</i>);
</dt>
<dd>Parse and remove command line options from an string array.
<p></p>
<b>Synopsis:</b><br>
<pre class="d_code"><span class="d_keyword">import</span> std.<span class="d_psymbol">getopt</span>;

string data = <span class="d_string">"file.dat"</span>;
<span class="d_keyword">int</span> length = 24;
<span class="d_keyword">bool</span> verbose;
<span class="d_keyword">enum</span> Color { no, yes };
Color color;

<span class="d_keyword">void</span> main(string[] args)
{
  <span class="d_psymbol">getopt</span>(
    args,
    <span class="d_string">"length"</span>,  &amp;length,    <span class="d_comment">// numeric
</span>    <span class="d_string">"file"</span>,    &amp;data,      <span class="d_comment">// string
</span>    <span class="d_string">"verbose"</span>, &amp;verbose,   <span class="d_comment">// flag
</span>    <span class="d_string">"color"</span>,   &amp;color);    <span class="d_comment">// enum
</span>  ...
}
</pre>
<p></p>

 The <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> function takes a reference to the command line
 (as received by <span class="d_inlinecode">main</span>) as its first argument, and an
 unbounded number of pairs of strings and pointers. Each string is an
 option meant to "fill" the value pointed-to by the pointer to its
 right (the "bound" pointer). The option string in the call to
 <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> should not start with a dash.
<p></p>

 In all cases, the command-line options that were parsed and used by
 <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> are removed from <span class="d_inlinecode">args</span>. Whatever in the
 arguments did not look like an option is left in <span class="d_inlinecode">args</span> for
 further processing by the program. Values that were unaffected by the
 options are not touched, so a common idiom is to initialize options
 to their defaults and then invoke <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span>. If a
 command-line argument is recognized as an option with a parameter and
 the parameter cannot be parsed properly (e.g. a number is expected
 but not present), a <span class="d_inlinecode">ConvException</span> exception is thrown.
 If <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.passThrough</span> was not passed to <a name="getopt"></a><span class="ddoc_psymbol">getopt</span>
 and an unrecognized command-line argument is found, a <span class="d_inlinecode">GetOptException</span>
 is thrown.
<p></p>

 Depending on the type of the pointer being bound, <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span>
 recognizes the following kinds of options:
<p></p>

 <ol><li><i>Boolean options</i>. A lone argument sets the option to <span class="d_inlinecode"><b>true</b></span>.
 Additionally <b><b>true</b></b> or <b><b>false</b></b> can be set within the option separated with
 an "=" sign:
<p></p>

<pre class="d_code">  <span class="d_keyword">bool</span> verbose = <span class="d_keyword">false</span>, debugging = <span class="d_keyword">true</span>;
  <span class="d_psymbol">getopt</span>(args, <span class="d_string">"verbose"</span>, &amp;verbose, <span class="d_string">"debug"</span>, &amp;debugging);
</pre>
<p></p>

 To set <span class="d_inlinecode">verbose</span> to <span class="d_inlinecode"><b>true</b></span>, invoke the program with either <span class="d_inlinecode"> --verbose</span> or <span class="d_inlinecode">--verbose=<b>true</b></span>.
<p></p>

 To set <span class="d_inlinecode">debugging</span> to <span class="d_inlinecode"><b>false</b></span>, invoke the program with <span class="d_inlinecode">--debugging=<b>false</b></span>.
<p></p>

 </li><li><i>Numeric options.</i> If an option is bound to a numeric type, a
 number is expected as the next option, or right within the option
 separated with an "=" sign:
<p></p>

<pre class="d_code">  <span class="d_keyword">uint</span> timeout;
  <span class="d_psymbol">getopt</span>(args, <span class="d_string">"timeout"</span>, &amp;timeout);
</pre>
<p></p>

To set <span class="d_inlinecode">timeout</span> to <span class="d_inlinecode">5</span>, invoke the program with either <span class="d_inlinecode">--timeout=5</span> or <span class="d_inlinecode">--timeout 5</span>.</li>
<p></p>

 <ul><li><i>Incremental options.</i> If an option name has a "+" suffix and
 is bound to a numeric type, then the option's value tracks the number
 of times the option occurred on the command line:
<p></p>

<pre class="d_code">  <span class="d_keyword">uint</span> paranoid;
  <span class="d_psymbol">getopt</span>(args, <span class="d_string">"paranoid+"</span>, &amp;paranoid);
</pre>
<p></p>

 Invoking the program with "--paranoid --paranoid --paranoid" will set
 <span class="d_inlinecode">paranoid</span> to 3. Note that an incremental option never
 expects a parameter, e.g. in the command line "--paranoid 42
 --paranoid", the "42" does not set <span class="d_inlinecode">paranoid</span> to 42;
 instead, <span class="d_inlinecode">paranoid</span> is set to 2 and "42" is not considered
 as part of the normal program arguments.</li></ul></ol>
<p></p>

 <li><i>Enum options.</i> If an option is bound to an enum, an enum symbol as a
 string is expected as the next option, or right within the option separated
 with an "=" sign:
<p></p>

<pre class="d_code">  <span class="d_keyword">enum</span> Color { no, yes };
  Color color; <span class="d_comment">// default initialized to Color.no
</span>  <span class="d_psymbol">getopt</span>(args, <span class="d_string">"color"</span>, &amp;color);
</pre>
<p></p>

To set <span class="d_inlinecode">color</span> to <span class="d_inlinecode">Color.yes</span>, invoke the program with either <span class="d_inlinecode">--color=yes</span> or <span class="d_inlinecode">--color yes</span>.</li>
<p></p>

 <li><i>String options.</i> If an option is bound to a string, a string
 is expected as the next option, or right within the option separated
 with an "=" sign:
<p></p>

<pre class="d_code">string outputFile;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"output"</span>, &amp;outputFile);
</pre>
<p></p>

 Invoking the program with "--output=myfile.txt" or "--output
 myfile.txt" will set <span class="d_inlinecode">outputFile</span> to "myfile.txt". If you want to
 pass a string containing spaces, you need to use the quoting that is
 appropriate to your shell, e.g. --output='my file.txt'.</li>
<p></p>

 <li><i>Array options.</i> If an option is bound to an array, a new
 element is appended to the array each time the option occurs:
<p></p>

<pre class="d_code">string[] outputFiles;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"output"</span>, &amp;outputFiles);
</pre>
<p></p>

 Invoking the program with "--output=myfile.txt --output=yourfile.txt"
 or "--output myfile.txt --output yourfile.txt" will set <span class="d_inlinecode"> outputFiles</span> to [ "myfile.txt", "yourfile.txt" ].
<p></p>

 Alternatively you can set <a href="#arraySep"><span class="d_inlinecode">arraySep</span></a> as the element separator:
<p></p>

<pre class="d_code">string[] outputFiles;
arraySep = <span class="d_string">","</span>;  <span class="d_comment">// defaults to "", separation by whitespace
</span><span class="d_psymbol">getopt</span>(args, <span class="d_string">"output"</span>, &amp;outputFiles);
</pre>
<p></p>

 With the above code you can invoke the program with
 "--output=myfile.txt,yourfile.txt", or "--output myfile.txt,yourfile.txt".</li>
<p></p>

 <li><i>Hash options.</i> If an option is bound to an associative
 array, a string of the form "name=value" is expected as the next
 option, or right within the option separated with an "=" sign:
<p></p>

<pre class="d_code"><span class="d_keyword">double</span>[string] tuningParms;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"tune"</span>, &amp;tuningParms);
</pre>
<p></p>

Invoking the program with e.g. "--tune=alpha=0.5 --tune beta=0.6" will
set <span class="d_inlinecode">tuningParms</span> to [ "alpha" : 0.5, "beta" : 0.6 ].
<p></p>

Alternatively you can set <a href="#arraySep"><span class="d_inlinecode">arraySep</span></a> as the element separator:
<p></p>

<pre class="d_code"><span class="d_keyword">double</span>[string] tuningParms;
arraySep = <span class="d_string">","</span>;  <span class="d_comment">// defaults to "", separation by whitespace
</span><span class="d_psymbol">getopt</span>(args, <span class="d_string">"tune"</span>, &amp;tuningParms);
</pre>
<p></p>

With the above code you can invoke the program with
"--tune=alpha=0.5,beta=0.6", or "--tune alpha=0.5,beta=0.6".
<p></p>

In general, the keys and values can be of any parsable types.</li>
<p></p>

<li><i>Callback options.</i> An option can be bound to a function or
delegate with the signature <span class="d_inlinecode">void function()</span>, <span class="d_inlinecode">void function(string option)</span>,
<span class="d_inlinecode">void function(string option, string value)</span>, or their delegate equivalents.
<p></p>

<ul><li>If the callback doesn't take any arguments, the callback is invoked
whenever the option is seen.</li> <li>If the callback takes one string argument,
the option string (without the leading dash(es)) is passed to the callback.
After that, the option string is considered handled and removed from the
options array.
<p></p>

<pre class="d_code"><span class="d_keyword">void</span> main(string[] args)
{
  <span class="d_keyword">uint</span> verbosityLevel = 1;
  <span class="d_keyword">void</span> myHandler(string option)
  {
    <span class="d_keyword">if</span> (option == <span class="d_string">"quiet"</span>)
    {
      verbosityLevel = 0;
    }
    <span class="d_keyword">else</span>
    {
      <span class="d_keyword">assert</span>(option == <span class="d_string">"verbose"</span>);
      verbosityLevel = 2;
    }
  }
  <span class="d_psymbol">getopt</span>(args, <span class="d_string">"verbose"</span>, &amp;myHandler, <span class="d_string">"quiet"</span>, &amp;myHandler);
}
</pre>
<p></p>

</li><li>If the callback takes two string arguments, the
option string is handled as an option with one argument, and parsed
accordingly. The option and its value are passed to the
callback. After that, whatever was passed to the callback is
considered handled and removed from the list.
<p></p>

<pre class="d_code"><span class="d_keyword">void</span> main(string[] args)
{
  <span class="d_keyword">uint</span> verbosityLevel = 1;
  <span class="d_keyword">void</span> myHandler(string option, string value)
  {
    <span class="d_keyword">switch</span> (value)
    {
      <span class="d_keyword">case</span> <span class="d_string">"quiet"</span>: verbosityLevel = 0; <span class="d_keyword">break</span>;
      <span class="d_keyword">case</span> <span class="d_string">"verbose"</span>: verbosityLevel = 2; <span class="d_keyword">break</span>;
      <span class="d_keyword">case</span> <span class="d_string">"shouting"</span>: verbosityLevel = verbosityLevel.max; <span class="d_keyword">break</span>;
      <span class="d_keyword">default</span> :
        stderr.writeln(<span class="d_string">"Dunno how verbose you want me to be by saying "</span>,
          value);
        exit(1);
    }
  }
  <span class="d_psymbol">getopt</span>(args, <span class="d_string">"verbosity"</span>, &amp;myHandler);
}
</pre>
</li></ul></li>)
<p></p>

<b>Options with multiple names</b>
<p></p>

Sometimes option synonyms are desirable, e.g. "--verbose",
"--loquacious", and "--garrulous" should have the same effect. Such
alternate option names can be included in the option specification,
using "|" as a separator:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> verbose;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"verbose|loquacious|garrulous"</span>, &amp;verbose);
</pre>
<p></p>

<b>Case</b>
<p></p>

By default options are case-insensitive. You can change that behavior
by passing <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> the <span class="d_inlinecode">caseSensitive</span> directive like this:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> foo, bar;
<span class="d_psymbol">getopt</span>(args,
    std.<span class="d_psymbol">getopt</span>.config.caseSensitive,
    <span class="d_string">"foo"</span>, &amp;foo,
    <span class="d_string">"bar"</span>, &amp;bar);
</pre>
<p></p>

In the example above, "--foo", "--bar", "--FOo", "--bAr" etc. are recognized.
The directive is active til the end of <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span>, or until the
converse directive <span class="d_inlinecode">caseInsensitive</span> is encountered:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> foo, bar;
<span class="d_psymbol">getopt</span>(args,
    std.<span class="d_psymbol">getopt</span>.config.caseSensitive,
    <span class="d_string">"foo"</span>, &amp;foo,
    std.<span class="d_psymbol">getopt</span>.config.caseInsensitive,
    <span class="d_string">"bar"</span>, &amp;bar);
</pre>
<p></p>

The option "--Foo" is rejected due to <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.caseSensitive</span>, but not "--Bar", "--bAr"
etc. because the directive <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.caseInsensitive</span> turned sensitivity off before
option "bar" was parsed.
<p></p>

<b>"Short" versus "long" options</b>
<p></p>

Traditionally, programs accepted single-letter options preceded by
only one dash (e.g. <span class="d_inlinecode">-t</span>). <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> accepts such parameters
seamlessly. When used with a double-dash (e.g. <span class="d_inlinecode">--t</span>), a
single-letter option behaves the same as a multi-letter option. When
used with a single dash, a single-letter option is accepted. If the
option has a parameter, that must be "stuck" to the option without
any intervening space or "=":
<p></p>

<pre class="d_code"><span class="d_keyword">uint</span> timeout;
<span class="d_psymbol">getopt</span>(args, <span class="d_string">"timeout|t"</span>, &amp;timeout);
</pre>
<p></p>

To set <span class="d_inlinecode">timeout</span> to <span class="d_inlinecode">5</span>, use either of the following: <span class="d_inlinecode">--timeout=5</span>,
<span class="d_inlinecode">--timeout 5</span>, <span class="d_inlinecode">--t=5</span>, <span class="d_inlinecode">--t 5</span>, or <span class="d_inlinecode">-t5</span>. Forms such as <span class="d_inlinecode">-t 5</span>
and <span class="d_inlinecode">-timeout=5</span> will be not accepted.
<p></p>

For more details about short options, refer also to the next section.
<p></p>

<b>Bundling</b>
<p></p>

Single-letter options can be bundled together, i.e. "-abc" is the same as
<span class="d_inlinecode">"-a -b -c"</span>. By default, this confusing option is turned off. You can
turn it on with the <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.bundling</span> directive:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> foo, bar;
<span class="d_psymbol">getopt</span>(args,
    std.<span class="d_psymbol">getopt</span>.config.bundling,
    <span class="d_string">"foo|f"</span>, &amp;foo,
    <span class="d_string">"bar|b"</span>, &amp;bar);
</pre>
<p></p>

In case you want to only enable bundling for some of the parameters,
bundling can be turned off with <span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.noBundling</span>.
<p></p>

<b>Passing unrecognized options through</b>
<p></p>

If an application needs to do its own processing of whichever arguments
<span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> did not understand, it can pass the
<span class="d_inlinecode">std.<a name="getopt"></a><span class="ddoc_psymbol">getopt</span>.config.passThrough</span> directive to <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span>:
<p></p>

<pre class="d_code"><span class="d_keyword">bool</span> foo, bar;
<span class="d_psymbol">getopt</span>(args,
    std.<span class="d_psymbol">getopt</span>.config.passThrough,
    <span class="d_string">"foo"</span>, &amp;foo,
    <span class="d_string">"bar"</span>, &amp;bar);
</pre>
<p></p>

An unrecognized option such as "--baz" will be found untouched in
<span class="d_inlinecode">args</span> after <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> returns.
<p></p>

<b>Options Terminator</b>
<p></p>

A lonesome double-dash terminates <span class="d_inlinecode"><a name="getopt"></a><span class="ddoc_psymbol">getopt</span></span> gathering. It is used to
separate program options from other parameters (e.g. options to be passed
to another program). Invoking the example above with <span class="d_inlinecode">"--foo -- --bar"</span>
parses foo but leaves "--bar" in <span class="d_inlinecode">args</span>. The double-dash itself is
removed from the argument array.<p></p>

</dd>
<dt class="d_decl"><a name=".config"></a>enum <a name="config"></a><span class="ddoc_psymbol">config</span>: int;
</dt>
<dd>Configuration options for <span class="d_inlinecode">getopt</span>.
<p></p>
You can pass them to <span class="d_inlinecode">getopt</span> in any position, except in between an option
   string and its bound pointer.<p></p>

<dl><dt class="d_decl"><a name=".config.caseSensitive"></a><a name="caseSensitive"></a><span class="ddoc_psymbol">caseSensitive</span></dt>
<dd>Turns case sensitivity on<p></p>

</dd>
<dt class="d_decl"><a name=".config.caseInsensitive"></a><a name="caseInsensitive"></a><span class="ddoc_psymbol">caseInsensitive</span></dt>
<dd>Turns case sensitivity off<p></p>

</dd>
<dt class="d_decl"><a name=".config.bundling"></a><a name="bundling"></a><span class="ddoc_psymbol">bundling</span></dt>
<dd>Turns <a name="bundling"></a><span class="ddoc_psymbol">bundling</span> on<p></p>

</dd>
<dt class="d_decl"><a name=".config.noBundling"></a><a name="noBundling"></a><span class="ddoc_psymbol">noBundling</span></dt>
<dd>Turns bundling off<p></p>

</dd>
<dt class="d_decl"><a name=".config.passThrough"></a><a name="passThrough"></a><span class="ddoc_psymbol">passThrough</span></dt>
<dd>Pass unrecognized arguments through<p></p>

</dd>
<dt class="d_decl"><a name=".config.noPassThrough"></a><a name="noPassThrough"></a><span class="ddoc_psymbol">noPassThrough</span></dt>
<dd>Signal unrecognized arguments as errors<p></p>

</dd>
<dt class="d_decl"><a name=".config.stopOnFirstNonOption"></a><a name="stopOnFirstNonOption"></a><span class="ddoc_psymbol">stopOnFirstNonOption</span></dt>
<dd>Stop at first argument that does not look like an option<p></p>

</dd>
</dl>
</dd>
<dt class="d_decl"><a name=".optionChar"></a>dchar <a name="optionChar"></a><span class="ddoc_psymbol">optionChar</span>;
</dt>
<dd>The option character (default '-').
<p></p>
Defaults to '-' but it can be assigned to prior to calling <span class="d_inlinecode">getopt</span>.<p></p>

</dd>
<dt class="d_decl"><a name=".endOfOptions"></a>string <a name="endOfOptions"></a><span class="ddoc_psymbol">endOfOptions</span>;
</dt>
<dd>The string that conventionally marks the end of all options (default '--').
<p></p>
Defaults to "--" but can be assigned to prior to calling <span class="d_inlinecode">getopt</span>. Assigning an
   empty string to <span class="d_inlinecode"><a name="endOfOptions"></a><span class="ddoc_psymbol">endOfOptions</span></span> effectively disables it.<p></p>

</dd>
<dt class="d_decl"><a name=".assignChar"></a>dchar <a name="assignChar"></a><span class="ddoc_psymbol">assignChar</span>;
</dt>
<dd>The assignment character used in options with parameters (default '=').
<p></p>
Defaults to '=' but can be assigned to prior to calling <span class="d_inlinecode">getopt</span>.<p></p>

</dd>
<dt class="d_decl"><a name=".arraySep"></a>string <a name="arraySep"></a><span class="ddoc_psymbol">arraySep</span>;
</dt>
<dd>The string used to separate the elements of an array or associative array
   (default is "" which means the elements are separated by whitespace).
<p></p>
Defaults to "" but can be assigned to prior to calling <span class="d_inlinecode">getopt</span>.<p></p>

</dd>
</dl>

    
<br><br>
<br><br>
<!-- Google ad -->
<script type="text/javascript"><!--
/**/google_ad_client = "pub-5628673096434613";
/**/google_ad_width = 728;
/**/google_ad_height = 90;
/**/google_ad_format = "728x90_as";
/**/google_ad_channel ="6203743411";
/**/google_page_url = document.location;
//--></script>
<script type="text/javascript" src="http://pagead2.googlesyndication.com/pagead/show_ads.js">
</script>
</div><!--/content-->


<div id="copyright">
Copyright Andrei Alexandrescu 2008 - 2009.
 |
Page generated by <a href="http://www.digitalmars.com/d/2.0/ddoc.html">Ddoc</a>.
</div>

</body>
</html>
