
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2024 by the D Language Foundation
    All Rights Reserved.
    https://dlang.org/foundation_overview.html
  -->
<head>
<meta charset="utf-8">
<meta name="keywords" content="D programming language">
<meta name="description" content="D Programming Language">
<title>Structs Solutions - D Programming Language</title>

<link rel="stylesheet" href="../css/codemirror.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/print.css" media="print">
<link rel="shortcut icon" href="../favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0">

</head>
<body id='Structs Solutions' class='doc'>
<script type="text/javascript">document.body.className += ' have-javascript'</script>
<div id="top"><div class="helper"><div class="helper expand-container">    <div class="logo"><a href="."><img id="logo" alt="D Logo" src="../images/dlogo.svg"></a></div>
    <a href="../menu.html" title="Menu" class="hamburger expand-toggle"><span>Menu</span></a>
    
<div id="cssmenu"><ul>    <li><a href='https://tour.dlang.org'><span>Learn</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../documentation.html'><span>Documentation</span></a>
      
<ul class='expand-content'>    <li><a href='../spec/spec.html'>Language Reference</a></li>
    <li><a href='../phobos/index.html'>Library Reference</a></li>
    <li><a href='../dmd.html'>Command-line Reference</a></li>
    <li class="menu-divider"><a href='../comparison.html'>Feature Overview</a></li>
    <li><a href='../articles.html'>Articles</a></li>
 </ul></li>
    <li><a href='../download.html'><span>Downloads</span></a></li>
    <li><a href='https://code.dlang.org'><span>Packages</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../community.html'><span>Community</span></a>
      
<ul class='expand-content'>    <li><a href='https://dlang.org/blog'>Blog</a></li>
    <li><a href='../orgs-using-d.html'>Orgs using D</a></li>
    <li><a href='https://twitter.com/search?q=%23dlang'>Twitter</a></li>
    <li><a href='../calendar.html'>Calendar</a></li>
    <li class="menu-divider"><a href='https://forum.dlang.org'>Forums</a></li>
    <li><a href='irc://irc.libera.chat/d'>IRC</a></li>
    <li><a href='https://discord.gg/bMZk9Q4'>Community Discord</a></li>
    <li><a href='https://wiki.dlang.org'>Wiki</a></li>
    <li class="menu-divider"><a href='https://github.com/dlang'>GitHub</a></li>
    <li><a href='../bugstats.html'>Issues</a></li>
    <li><a href='https://wiki.dlang.org/Get_involved'>Get involved</a></li>
    <li class="menu-divider"><a href='../foundation/contributors.html'>Contributors</a></li>
    <li><a href='../foundation/index.html'>Foundation</a></li>
    <li><a href='..//security.html'>Security Team</a></li>
    <li><a href='../foundation/donate.html'>Donate</a></li>
    <li><a href='../foundation/sponsors.html'>Sponsors</a></li>
 </ul></li>
    <li class='expand-container'><a class='expand-toggle' href='../resources.html'><span>Resources</span></a>
      
<ul class='expand-content'>    <li><a href='https://tour.dlang.org'>Tour</a></li>
    <li><a href='https://wiki.dlang.org/Books'>Books</a></li>
    <li><a href='https://wiki.dlang.org/Tutorials'>Tutorials</a></li>
    <li class="menu-divider"><a href='https://wiki.dlang.org/Development_tools'>Tools</a></li>
    <li><a href='https://wiki.dlang.org/Editors'>Editors</a></li>
    <li><a href='https://wiki.dlang.org/IDEs'>IDEs</a></li>
    <li><a href='https://run.dlang.io'>run.dlang.io</a></li>
    <li><a href='http://rainers.github.io/visuald/visuald/StartPage.html'>Visual D</a></li>
    <li class="menu-divider"><a href='../acknowledgements.html'>Acknowledgments</a></li>
    <li><a href='../dstyle.html'>D Style</a></li>
    <li><a href='../glossary.html'>Glossary</a></li>
    <li><a href='../sitemap.html'>Sitemap</a></li>
 </ul></li>
</ul></div>
    <div class="search-container expand-container">        <a href="../search.html" class="expand-toggle" title="Search"><span>Search</span></a>
        
    <div id="search-box">        <form method="get" action="https://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org">
            <input type="hidden" id="sourceid" name="sourceid" value="google-search">
            <span id="search-query"><input id="q" name="q" placeholder="Search"></span><span id="search-dropdown"><span class="helper">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire Site</option>
                    <option  value="dlang.org/spec">Language</option>
                    <option  value="dlang.org/phobos">Library</option>
                    <option  value="forum.dlang.org">Forums</option>
                    
                </select>
            </span></span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    </div>
</div></div></div>

<div class="container">    
    <div class="hyphenate" id="content">        
<div id="tools"><div >	<div class="tip smallprint">		<a href="https://issues.dlang.org/enter_bug.cgi?bug_file_loc=http%3A%2F%2Fdlang.org/&amp;component=dlang.org&amp;op_sys=All&amp;priority=P3&amp;product=D&amp;rep_platform=All&amp;short_desc=%5BStructs Solutions%5D&amp;version=D2&amp;bug_severity=enhancement">Report a bug</a>
		<div >			If you spot a problem with this page, click here to create a Bugzilla issue.
		</div>
	</div>
	<div class="tip smallprint">		<a href="https://github.com/dlang/dlang.org/edit/master/d.en/struct.cozum.d">Improve this page</a>
		<div >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			a local clone.
		</div>
	</div>
</div></div>
        <h1>Structs Solutions</h1>
        
        

<h4>Structs Dersi Problem Çözümleri</h4>

<ol>
<li>One of the simplest designs is to use two <code class="d_inline">dchar</code> members:

<pre class="d_code"><span class="d_keyword">struct</span> Card {
    <span class="d_keyword">dchar</span> suit;
    <span class="d_keyword">dchar</span> value;
}
</pre>

</li>

<li>It would be as simple as printing the two members side by side:

<pre class="d_code"><span class="d_keyword">void</span> printCard(Card card) {
    write(card.suit, card.value);
}
</pre>

</li>

<li>Assuming that there is already a function called <code class="d_inline">newSuit()</code>, <code class="d_inline">newDeck()</code> can be implemented by calling that function for each suit:

<pre class="d_code">Card[] newDeck()
<span class="d_keyword">out</span> (result) {
    <span class="d_keyword">assert</span>(result.length == 52);

} <span class="d_keyword">do</span> {
    Card[] deck;

    deck ~= newSuit('♠');
    deck ~= newSuit('♡');
    deck ~= newSuit('♢');
    deck ~= newSuit('♣');

    <span class="d_keyword">return</span> deck;
}
</pre>

<p>The rest of the work can be accomplished by the following <code class="d_inline">newSuit()</code>, which constructs the suit by combining the suit character with each value of a string:
</p>

<pre class="d_code">Card[] newSuit(<span class="d_keyword">dchar</span> suit)
<span class="d_keyword">in</span> {
    <span class="d_keyword">assert</span>((suit == '♠') ||
           (suit == '♡') ||
           (suit == '♢') ||
           (suit == '♣'));

} <span class="d_keyword">out</span> (result) {
    <span class="d_keyword">assert</span>(result.length == 13);

} <span class="d_keyword">do</span> {
    Card[] suitCards;

    <span class="d_keyword">foreach</span> (value; <span class="d_string">"234567890JQKA"</span>) {
        suitCards ~= Card(suit, value);
    }

    <span class="d_keyword">return</span> suitCards;
}
</pre>

<p>Note that the functions above take advantage of contract programming to reduce risk of program errors.
</p>

</li>

<li>Swapping two elements at random would make the deck become more and more shuffled at each repetition. Although it is possible to pick the same element by chance, swapping an element with itself does not have any effect other than missing an opportunity toward a more shuffled deck.

<pre class="d_code"><span class="d_keyword">void</span> shuffle(Card[] deck, <span class="d_keyword">int</span> repetition) {
    <span class="d_comment">/* Note: A better algorithm is to walk the deck from the
     *       beginning to the end and to swap each element
     *       with a random one that is picked among the
     *       elements from that point to the end.
     *
     * It would be even better to call randomShuffle() from
     * the std.algorithm module, which already applies the
     * same algorithm. Please read the comment in main() to
     * see how randomShuffle() can be used. */</span>
    <span class="d_keyword">foreach</span> (i; 0 .. repetition) {
        <span class="d_comment">// Pick two elements at random
</span>        <span class="d_keyword">immutable</span> first = uniform(0, deck.length);
        <span class="d_keyword">immutable</span> second = uniform(0, deck.length);

        swap(deck[first], deck[second]);
    }
}
</pre>

<p>The function above calls <code class="d_inline">std.algorithm.swap</code>, which simply swaps the values of its two <code class="d_inline">ref</code> parameters. It is effectively the equivalent of the following function:
</p>

<pre class="d_code"><span class="d_keyword">void</span> mySwap(<span class="d_keyword">ref</span> Card left,
            <span class="d_keyword">ref</span> Card right) {
    <span class="d_keyword">immutable</span> temporary = left;
    left = right;
    right = temporary;
}
</pre>

</li>

</ol>

<p>Here is the entire program:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;
<span class="d_keyword">import</span> std.random;
<span class="d_keyword">import</span> std.algorithm;

<span class="d_keyword">struct</span> Card {
    <span class="d_keyword">dchar</span> suit;
    <span class="d_keyword">dchar</span> value;
}

<span class="d_keyword">void</span> printCard(Card card) {
    write(card.suit, card.value);
}

Card[] newSuit(<span class="d_keyword">dchar</span> suit)
<span class="d_keyword">in</span> {
    <span class="d_keyword">assert</span>((suit == '♠') ||
           (suit == '♡') ||
           (suit == '♢') ||
           (suit == '♣'));

} <span class="d_keyword">out</span> (result) {
    <span class="d_keyword">assert</span>(result.length == 13);

} <span class="d_keyword">do</span> {
    Card[] suitCards;

    <span class="d_keyword">foreach</span> (value; <span class="d_string">"234567890JQKA"</span>) {
        suitCards ~= Card(suit, value);
    }

    <span class="d_keyword">return</span> suitCards;
}

Card[] newDeck()
<span class="d_keyword">out</span> (result) {
    <span class="d_keyword">assert</span>(result.length == 52);

} <span class="d_keyword">do</span> {
    Card[] deck;

    deck ~= newSuit('♠');
    deck ~= newSuit('♡');
    deck ~= newSuit('♢');
    deck ~= newSuit('♣');

    <span class="d_keyword">return</span> deck;
}

<span class="d_keyword">void</span> shuffle(Card[] deck, <span class="d_keyword">int</span> repetition) {
    <span class="d_comment">/* Note: A better algorithm is to walk the deck from the
     *       beginning to the end and to swap each element
     *       with a random one that is picked among the
     *       elements from that point to the end.
     *
     * It would be even better to call randomShuffle() from
     * the std.algorithm module, which already applies the
     * same algorithm. Please read the comment in main() to
     * see how randomShuffle() can be used. */</span>
    <span class="d_keyword">foreach</span> (i; 0 .. repetition) {
        <span class="d_comment">// Pick two elements at random
</span>        <span class="d_keyword">immutable</span> first = uniform(0, deck.length);
        <span class="d_keyword">immutable</span> second = uniform(0, deck.length);

        swap(deck[first], deck[second]);
    }
}

<span class="d_keyword">void</span> main() {
    Card[] deck = newDeck();

    shuffle(deck, 100);
    <span class="d_comment">/* Note: Instead of the shuffle() call above, it would be
     *       better to call randomShuffle() as in the
     *       following line:
     *
     * randomShuffle(deck);
     */</span>
    <span class="d_keyword">foreach</span> (card; deck) {
        printCard(card);
        write(' ');
    }

    writeln();
}
</pre>



        <div class="smallprint" id="copyright">Copyright &copy; 1999-2024 by the <a href="../foundation_overview.html">D Language Foundation</a> | Page generated by
<a href="../spec/ddoc.html">Ddoc</a> on Mon Jan 29 20:32:08 2024
</div>
    </div>
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('\x3Cscript src="../js/jquery-1.7.2.min.js">\x3C/script>');</script>
    <script type="text/javascript" src="../js/dlang.js"></script>
    
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
</body>
</html>
