
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2024 by the D Language Foundation
    All Rights Reserved.
    https://dlang.org/foundation_overview.html
  -->
<head>
<meta charset="utf-8">
<meta name="keywords" content="D programming language">
<meta name="description" content="D Programming Language">
<title>Properties - D Programming Language</title>

<link rel="stylesheet" href="../css/codemirror.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/print.css" media="print">
<link rel="shortcut icon" href="../favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0">

</head>
<body id='Properties' class='doc'>
<script type="text/javascript">document.body.className += ' have-javascript'</script>
<div id="top"><div class="helper"><div class="helper expand-container">    <div class="logo"><a href="."><img id="logo" alt="D Logo" src="../images/dlogo.svg"></a></div>
    <a href="../menu.html" title="Menu" class="hamburger expand-toggle"><span>Menu</span></a>
    
<div id="cssmenu"><ul>    <li><a href='https://tour.dlang.org'><span>Learn</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../documentation.html'><span>Documentation</span></a>
      
<ul class='expand-content'>    <li><a href='../spec/spec.html'>Language Reference</a></li>
    <li><a href='../phobos/index.html'>Library Reference</a></li>
    <li><a href='../dmd.html'>Command-line Reference</a></li>
    <li class="menu-divider"><a href='../comparison.html'>Feature Overview</a></li>
    <li><a href='../articles.html'>Articles</a></li>
 </ul></li>
    <li><a href='../download.html'><span>Downloads</span></a></li>
    <li><a href='https://code.dlang.org'><span>Packages</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../community.html'><span>Community</span></a>
      
<ul class='expand-content'>    <li><a href='https://dlang.org/blog'>Blog</a></li>
    <li><a href='../orgs-using-d.html'>Orgs using D</a></li>
    <li><a href='https://twitter.com/search?q=%23dlang'>Twitter</a></li>
    <li><a href='../calendar.html'>Calendar</a></li>
    <li class="menu-divider"><a href='https://forum.dlang.org'>Forums</a></li>
    <li><a href='irc://irc.libera.chat/d'>IRC</a></li>
    <li><a href='https://discord.gg/bMZk9Q4'>Community Discord</a></li>
    <li><a href='https://wiki.dlang.org'>Wiki</a></li>
    <li class="menu-divider"><a href='https://github.com/dlang'>GitHub</a></li>
    <li><a href='../bugstats.html'>Issues</a></li>
    <li><a href='https://wiki.dlang.org/Get_involved'>Get involved</a></li>
    <li class="menu-divider"><a href='../foundation/contributors.html'>Contributors</a></li>
    <li><a href='../foundation/index.html'>Foundation</a></li>
    <li><a href='..//security.html'>Security Team</a></li>
    <li><a href='../foundation/donate.html'>Donate</a></li>
    <li><a href='../foundation/sponsors.html'>Sponsors</a></li>
 </ul></li>
    <li class='expand-container'><a class='expand-toggle' href='../resources.html'><span>Resources</span></a>
      
<ul class='expand-content'>    <li><a href='https://tour.dlang.org'>Tour</a></li>
    <li><a href='https://wiki.dlang.org/Books'>Books</a></li>
    <li><a href='https://wiki.dlang.org/Tutorials'>Tutorials</a></li>
    <li class="menu-divider"><a href='https://wiki.dlang.org/Development_tools'>Tools</a></li>
    <li><a href='https://wiki.dlang.org/Editors'>Editors</a></li>
    <li><a href='https://wiki.dlang.org/IDEs'>IDEs</a></li>
    <li><a href='https://run.dlang.io'>run.dlang.io</a></li>
    <li><a href='http://rainers.github.io/visuald/visuald/StartPage.html'>Visual D</a></li>
    <li class="menu-divider"><a href='../acknowledgements.html'>Acknowledgments</a></li>
    <li><a href='../dstyle.html'>D Style</a></li>
    <li><a href='../glossary.html'>Glossary</a></li>
    <li><a href='../sitemap.html'>Sitemap</a></li>
 </ul></li>
</ul></div>
    <div class="search-container expand-container">        <a href="../search.html" class="expand-toggle" title="Search"><span>Search</span></a>
        
    <div id="search-box">        <form method="get" action="https://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org">
            <input type="hidden" id="sourceid" name="sourceid" value="google-search">
            <span id="search-query"><input id="q" name="q" placeholder="Search"></span><span id="search-dropdown"><span class="helper">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire Site</option>
                    <option  value="dlang.org/spec">Language</option>
                    <option  value="dlang.org/phobos">Library</option>
                    <option  value="forum.dlang.org">Forums</option>
                    
                </select>
            </span></span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    </div>
</div></div></div>

<div class="container">    
    <div class="hyphenate" id="content">        
<div id="tools"><div >	<div class="tip smallprint">		<a href="https://issues.dlang.org/enter_bug.cgi?bug_file_loc=http%3A%2F%2Fdlang.org/&amp;component=dlang.org&amp;op_sys=All&amp;priority=P3&amp;product=D&amp;rep_platform=All&amp;short_desc=%5BProperties%5D&amp;version=D2&amp;bug_severity=enhancement">Report a bug</a>
		<div >			If you spot a problem with this page, click here to create a Bugzilla issue.
		</div>
	</div>
	<div class="tip smallprint">		<a href="https://github.com/dlang/dlang.org/edit/master/d.en/property.d">Improve this page</a>
		<div >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			a local clone.
		</div>
	</div>
</div></div>
        <h1>Properties</h1>
        
        



<p>Properties allow using member functions like member variables.
</p>

<p>We are familiar with this feature from slices. The <code class="d_inline">length</code> property of a slice returns the number of elements of that slice:
</p>

<pre class="d_code">    <span class="d_keyword">int</span>[] slice = [ 7, 8, 9 ];
    <span class="d_keyword">assert</span>(slice<span class="hilite">.length</span> == 3);
</pre>

<p>Looking merely at that usage, one might think that <code class="d_inline">.length</code> is implemented as a member variable:
</p>

<pre class="d_code"><span class="d_keyword">struct</span> SliceImplementation {
    <span class="d_keyword">int</span> length;

    <span class="d_comment">// ...
</span>}
</pre>

<p>However, the other functionality of this property proves that it cannot be a member variable: Assigning a new value to the <code class="d_inline">.length</code> property actually changes the length of the slice, sometimes by adding new elements to the underlying array:
</p>

<pre class="d_code">    slice<span class="hilite">.length = 5</span>;    <span class="d_comment">// The slice now has 5 elements
</span>    <span class="d_keyword">assert</span>(slice.length == 5);
</pre>

<p><i><b>Note:</b> The <code class="d_inline">.length</code> property of fixed-length arrays cannot be modified.</i>
</p>

<p>The assignment to <code class="d_inline">.length</code> above involves more complicated operations than a simple value change: Determining whether the array has capacity for the new length, allocating more memory if not, and moving the existing elements to the new place; and finally initializing each additional element by <code class="d_inline">.init</code>.
</p>

<p>Evidently, the assignment to <code class="d_inline">.length</code> operates like a function.
</p>

<p>Properties are member functions that are used like member variables.
</p>

<h5 class="subsection"><a id="ix_Properties.()" content="()"></a> Calling functions without parentheses</h5>

<p>As has been mentioned in the previous chapter, when there is no argument to pass, functions can be called without parentheses:
</p>

<pre class="d_code">    writeln();
    writeln;      <span class="d_comment">// Same as the previous line
</span></pre>

<p>This feature is closely related to properties because properties are used almost always without parentheses.
</p>

<h5 class="subsection">Property functions that return values</h5>

<p>As a simple example, let's consider a rectangle struct that consists of two members:
</p>

<pre class="d_code"><span class="d_keyword">struct</span> Rectangle {
    <span class="d_keyword">double</span> width;
    <span class="d_keyword">double</span> height;
}
</pre>

<p>Let's assume that a third property of this type becomes a requirement, which should provide the area of the rectangle:
</p>

<pre class="d_code">    <span class="d_keyword">auto</span> garden = Rectangle(10, 20);
    writeln(garden<span class="hilite">.area</span>);
</pre>

<p>One way of achieving that requirement is to define a third member:
</p>

<pre class="d_code"><span class="d_keyword">struct</span> Rectangle {
    <span class="d_keyword">double</span> width;
    <span class="d_keyword">double</span> height;
    <span class="d_keyword">double</span> area;
}
</pre>

<p>A flaw in that design is that the object may easily become inconsistent: Although rectangles must always have the invariant of "width * height == area", this consistency may be broken if the members are allowed to be modified freely and independently.
</p>

<p>As an extreme example, objects may even begin their lives in inconsistent states:
</p>

<pre class="d_code">    <span class="d_comment">// Inconsistent object: The area is not 10 * 20 == 200.
</span>    <span class="d_keyword">auto</span> garden = Rectangle(10, 20, <span class="hilite">1111</span>);
</pre>

<p>A better way would be to represent the concept of area as a property. Instead of defining an additional member, the value of that member is calculated by a function named <code class="d_inline">area</code>, the same as the concept that it represents:
</p>

<pre class="d_code"><span class="d_keyword">struct</span> Rectangle {
    <span class="d_keyword">double</span> width;
    <span class="d_keyword">double</span> height;

    <span class="d_keyword">double</span> area() <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> width * height;
    }
}
</pre>

<p><i><b>Note:</b> As you would remember from <a href="const_member_functions.html">the <code class="d_inline">const ref</code> Parameters and <code class="d_inline">const</code> Member Functions chapter</a>, the <code class="d_inline">const</code> specifier on the function declaration ensures that the object is not modified by this function.</i>
</p>

<p>That property function enables the struct to be used as if it has a third member variable:
</p>

<pre class="d_code">    <span class="d_keyword">auto</span> garden = Rectangle(10, 20);
    writeln(<span class="d_string">"The area of the garden: "</span>, garden<span class="hilite">.area</span>);
</pre>

<p>As the value of the <code class="d_inline">area</code> property is calculated by multiplying the width and the height of the rectangle, this time it would always be consistent:
</p>

<pre class="shell">The area of the garden: 200
</pre>

<h5 class="subsection">Property functions that are used in assignment</h5>

<p>Similar to the <code class="d_inline">length</code> property of slices, the properties of user-defined types can be used in assignment operations as well:
</p>

<pre class="d_code">    garden.area = 50;
</pre>

<p>For that assignment to actually change the area of the rectangle, the two members of the struct must be modified accordingly. To enable this functionality, we can assume that the rectangle is <i>flexible</i> so that to maintain the invariant of "width * height == area", the sides of the rectangle can be changed.
</p>

<p>The function that enables such an assignment syntax is also named as <code class="d_inline">area</code>. The value that is used on the right-hand side of the assignment becomes the only parameter of this function.
</p>

<p>The following additional definition of <code class="d_inline">area()</code> enables using that property in assignment operations and effectively modifying the area of <code class="d_inline">Rectangle</code> objects:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;
<span class="d_keyword">import</span> std.math;

<span class="d_keyword">struct</span> Rectangle {
    <span class="d_keyword">double</span> width;
    <span class="d_keyword">double</span> height;

    <span class="d_keyword">double</span> area() <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> width * height;
    }

    <span class="hilite"><span class="d_keyword">void</span> area(<span class="d_keyword">double</span> newArea)</span> {
        <span class="d_keyword">auto</span> scale = sqrt(newArea / area);

        width *= scale;
        height *= scale;
    }
}

<span class="d_keyword">void</span> main() {
    <span class="d_keyword">auto</span> garden = Rectangle(10, 20);
    writeln(<span class="d_string">"The area of the garden: "</span>, garden.area);

    <span class="hilite">garden.area = 50</span>;

    writefln(<span class="d_string">"New state: %s x %s = %s"</span>,
             garden.width, garden.height, garden.area);
}
</pre>

<p>The new function takes advantage of the <code class="d_inline">sqrt</code> function from the <code class="d_inline">std.math</code> module, which returns the square root of the specified value. When both of the width and the height of the rectangle are scaled by the square root of the ratio, then the area would equal the desired value.
</p>

<p>As a result, assigning the quarter of its current value to <code class="d_inline">area</code> ends up halving both sides of the rectangle:
</p>

<pre class="shell">The area of the garden: 200
New state: 5 x 10 = 50
</pre>

<h5 class="subsection">Properties are not absolutely necessary</h5>

<p>We have seen above how <code class="d_inline">Rectangle</code> can be used as if it has a third member variable. However, regular member functions could also be used instead of properties:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;
<span class="d_keyword">import</span> std.math;

<span class="d_keyword">struct</span> Rectangle {
    <span class="d_keyword">double</span> width;
    <span class="d_keyword">double</span> height;

    <span class="d_keyword">double</span> <span class="hilite">area()</span> <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> width * height;
    }

    <span class="d_keyword">void</span> <span class="hilite">setArea(<span class="d_keyword">double</span> newArea)</span> {
        <span class="d_keyword">auto</span> scale = sqrt(newArea / area);

        width *= scale;
        height *= scale;
    }
}

<span class="d_keyword">void</span> main() {
    <span class="d_keyword">auto</span> garden = Rectangle(10, 20);
    writeln(<span class="d_string">"The area of the garden: "</span>, garden<span class="hilite">.area()</span>);

    garden<span class="hilite">.setArea(50)</span>;

    writefln(<span class="d_string">"New state: %s x %s = %s"</span>,
             garden.width, garden.height, garden<span class="hilite">.area()</span>);
}
</pre>

<p>Further, as we have seen in <a href="function_overloading.html">the Function Overloading chapter</a>, these two functions could even have the same names:
</p>

<pre class="d_code">    <span class="d_keyword">double</span> area() <span class="d_keyword">const</span> {
        <span class="d_comment">// ...
</span>    }

    <span class="d_keyword">void</span> area(<span class="d_keyword">double</span> newArea) {
        <span class="d_comment">// ...
</span>    }
</pre>

<h5 class="subsection">When to use</h5>

<p>It may not be easy to chose between regular member functions and properties. Sometimes regular member functions feel more natural and sometimes properties.
</p>

<p>However, as we have seen in <a href="encapsulation.html">the Encapsulation and Protection Attributes chapter</a>, it is important to restrict direct access to member variables. Allowing user code to freely modify member variables always ends up causing issues with code maintenance. For that reason, member variables better be encapsulated either by regular member functions or by property functions.
</p>

<p>Leaving members like <code class="d_inline">width</code> and <code class="d_inline">height</code> open to <code class="d_inline">public</code> access is acceptable only for very simple types. Almost always a better design is to use property functions:
</p>

<pre class="d_code"><span class="d_keyword">struct</span> Rectangle {
<span class="hilite"><span class="d_keyword">private</span>:</span>

    <span class="d_keyword">double</span> width_;
    <span class="d_keyword">double</span> height_;

<span class="d_keyword">public</span>:

    <span class="d_keyword">double</span> area() <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> width * height;
    }

    <span class="d_keyword">void</span> area(<span class="d_keyword">double</span> newArea) {
        <span class="d_keyword">auto</span> scale = sqrt(newArea / area);

        width_ *= scale;
        height_ *= scale;
    }

    <span class="d_keyword">double</span> <span class="hilite">width()</span> <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> width_;
    }

    <span class="d_keyword">double</span> <span class="hilite">height()</span> <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> height_;
    }
}
</pre>

<p>Note how the members are made <code class="d_inline">private</code> so that they can only be accessed by corresponding property functions.
</p>

<p>Also note that to avoid confusing their names with the member functions, the names of the member variables are appended by the <code class="d_inline">_</code> character. <i>Decorating</i> the names of member variables is a common practice in object oriented programming.
</p>

<p>That definition of <code class="d_inline">Rectangle</code> still presents <code class="d_inline">width</code> and <code class="d_inline">height</code> as if they are member variable:
</p>

<pre class="d_code">    <span class="d_keyword">auto</span> garden = Rectangle(10, 20);
    writefln(<span class="d_string">"width: %s, height: %s"</span>,
             garden<span class="hilite">.width</span>, garden<span class="hilite">.height</span>);
</pre>

<p>When there is no property function that modifies a member variable, then that member is effectively read-only from the outside:
</p>

<pre class="d_code">    garden.width = 100;    <span class="d_comment">// ← <span class="d_hata">derleme HATASI</span></span>
</pre>

<p>This is important for controlled modifications of members. The member variables can only be modified by the <code class="d_inline">Rectangle</code> type itself to ensure the consistency of its objects.
</p>

<p>When it later makes sense that a member variable should be allowed to be modified from the outside, then it is simply a matter of defining another property function for that member.
</p>

<h6><a id="ix_Properties.@property" content="@property"></a> <code class="d_inline">@property</code></h6>

<p>Property functions may be defined with the <code class="d_inline">@property</code> attribute as well. However, as a best practice, the use of this attribute is discouraged.
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;

<span class="d_keyword">struct</span> Foo {
    <span class="hilite">@property</span> <span class="d_keyword">int</span> a() <span class="d_keyword">const</span> {
        <span class="d_keyword">return</span> 42;
    }

    <span class="d_keyword">int</span> b() <span class="d_keyword">const</span> {    <span class="d_comment">// ← Defined without @property</span>
        <span class="d_keyword">return</span> 42;
    }
}

<span class="d_keyword">void</span> main() {
    <span class="d_keyword">auto</span> f = Foo();

    writeln(<span class="d_keyword">typeof</span>(f.a).stringof);
    writeln(<span class="d_keyword">typeof</span>(f.b).stringof);
}
</pre>

<p>The only effect of the <code class="d_inline">@property</code> attribute is when determining the type of an expression that could syntactically be a property function call. As seen in the output below, the types of the expressions <code class="d_inline">f.a</code> and <code class="d_inline">f.b</code> are different:
</p>

<pre class="shell">int            <span class="shell_note">← The type of the expression f.a (the return type)</span>
const int()    <span class="shell_note">← The type of the member function Foo.b</span>
</pre>


        <div class="smallprint" id="copyright">Copyright &copy; 1999-2024 by the <a href="../foundation_overview.html">D Language Foundation</a> | Page generated by
<a href="../spec/ddoc.html">Ddoc</a> on Mon Jan 29 20:59:48 2024
</div>
    </div>
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('\x3Cscript src="../js/jquery-1.7.2.min.js">\x3C/script>');</script>
    <script type="text/javascript" src="../js/dlang.js"></script>
    
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
</body>
</html>
