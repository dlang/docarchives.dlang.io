
<!DOCTYPE html>
<html lang="en-US">
<!--
    Copyright (c) 1999-2024 by the D Language Foundation
    All Rights Reserved.
    https://dlang.org/foundation_overview.html
  -->
<head>
<meta charset="utf-8">
<meta name="keywords" content="D programming language">
<meta name="description" content="D Programming Language">
<title>Formatted Output - D Programming Language</title>

<link rel="stylesheet" href="../css/codemirror.css">
<link rel="stylesheet" href="../css/style.css">
<link rel="stylesheet" href="../css/print.css" media="print">
<link rel="shortcut icon" href="../favicon.ico">
<meta name="viewport" content="width=device-width, initial-scale=1.0, minimum-scale=0.1, maximum-scale=10.0">

</head>
<body id='Formatted Output' class='doc'>
<script type="text/javascript">document.body.className += ' have-javascript'</script>
<div id="top"><div class="helper"><div class="helper expand-container">    <div class="logo"><a href="."><img id="logo" alt="D Logo" src="../images/dlogo.svg"></a></div>
    <a href="../menu.html" title="Menu" class="hamburger expand-toggle"><span>Menu</span></a>
    
<div id="cssmenu"><ul>    <li><a href='https://tour.dlang.org'><span>Learn</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../documentation.html'><span>Documentation</span></a>
      
<ul class='expand-content'>    <li><a href='../spec/spec.html'>Language Reference</a></li>
    <li><a href='../phobos/index.html'>Library Reference</a></li>
    <li><a href='../dmd.html'>Command-line Reference</a></li>
    <li class="menu-divider"><a href='../comparison.html'>Feature Overview</a></li>
    <li><a href='../articles.html'>Articles</a></li>
 </ul></li>
    <li><a href='../download.html'><span>Downloads</span></a></li>
    <li><a href='https://code.dlang.org'><span>Packages</span></a></li>
    <li class='expand-container'><a class='expand-toggle' href='../community.html'><span>Community</span></a>
      
<ul class='expand-content'>    <li><a href='https://dlang.org/blog'>Blog</a></li>
    <li><a href='../orgs-using-d.html'>Orgs using D</a></li>
    <li><a href='https://twitter.com/search?q=%23dlang'>Twitter</a></li>
    <li><a href='../calendar.html'>Calendar</a></li>
    <li class="menu-divider"><a href='https://forum.dlang.org'>Forums</a></li>
    <li><a href='irc://irc.libera.chat/d'>IRC</a></li>
    <li><a href='https://discord.gg/bMZk9Q4'>Community Discord</a></li>
    <li><a href='https://wiki.dlang.org'>Wiki</a></li>
    <li class="menu-divider"><a href='https://github.com/dlang'>GitHub</a></li>
    <li><a href='../bugstats.html'>Issues</a></li>
    <li><a href='https://wiki.dlang.org/Get_involved'>Get involved</a></li>
    <li class="menu-divider"><a href='../foundation/contributors.html'>Contributors</a></li>
    <li><a href='../foundation/index.html'>Foundation</a></li>
    <li><a href='..//security.html'>Security Team</a></li>
    <li><a href='../foundation/donate.html'>Donate</a></li>
    <li><a href='../foundation/sponsors.html'>Sponsors</a></li>
 </ul></li>
    <li class='expand-container'><a class='expand-toggle' href='../resources.html'><span>Resources</span></a>
      
<ul class='expand-content'>    <li><a href='https://tour.dlang.org'>Tour</a></li>
    <li><a href='https://wiki.dlang.org/Books'>Books</a></li>
    <li><a href='https://wiki.dlang.org/Tutorials'>Tutorials</a></li>
    <li class="menu-divider"><a href='https://wiki.dlang.org/Development_tools'>Tools</a></li>
    <li><a href='https://wiki.dlang.org/Editors'>Editors</a></li>
    <li><a href='https://wiki.dlang.org/IDEs'>IDEs</a></li>
    <li><a href='https://run.dlang.io'>run.dlang.io</a></li>
    <li><a href='http://rainers.github.io/visuald/visuald/StartPage.html'>Visual D</a></li>
    <li class="menu-divider"><a href='../acknowledgements.html'>Acknowledgments</a></li>
    <li><a href='../dstyle.html'>D Style</a></li>
    <li><a href='../glossary.html'>Glossary</a></li>
    <li><a href='../sitemap.html'>Sitemap</a></li>
 </ul></li>
</ul></div>
    <div class="search-container expand-container">        <a href="../search.html" class="expand-toggle" title="Search"><span>Search</span></a>
        
    <div id="search-box">        <form method="get" action="https://google.com/search">
            <input type="hidden" id="domains" name="domains" value="dlang.org">
            <input type="hidden" id="sourceid" name="sourceid" value="google-search">
            <span id="search-query"><input id="q" name="q" placeholder="Search"></span><span id="search-dropdown"><span class="helper">                <select id="sitesearch" name="sitesearch" size="1">
                    <option value="dlang.org">Entire Site</option>
                    <option  value="dlang.org/spec">Language</option>
                    <option  value="dlang.org/phobos">Library</option>
                    <option  value="forum.dlang.org">Forums</option>
                    
                </select>
            </span></span><span id="search-submit"><button type="submit"><i class="fa fa-search"></i><span>go</span></button></span>
        </form>
    </div>
    </div>
</div></div></div>

<div class="container">    
    <div class="hyphenate" id="content">        
<div id="tools"><div >	<div class="tip smallprint">		<a href="https://issues.dlang.org/enter_bug.cgi?bug_file_loc=http%3A%2F%2Fdlang.org/&amp;component=dlang.org&amp;op_sys=All&amp;priority=P3&amp;product=D&amp;rep_platform=All&amp;short_desc=%5BFormatted Output%5D&amp;version=D2&amp;bug_severity=enhancement">Report a bug</a>
		<div >			If you spot a problem with this page, click here to create a Bugzilla issue.
		</div>
	</div>
	<div class="tip smallprint">		<a href="https://github.com/dlang/dlang.org/edit/master/d.en/formatted_output.d">Improve this page</a>
		<div >			Quickly fork, edit online, and submit a pull request for this page.
			Requires a signed-in GitHub account. This works well for small changes.
			If you'd like to make larger changes you may want to consider using
			a local clone.
		</div>
	</div>
</div></div>
        <h1>Formatted Output</h1>
        
        



<p>This chapter is about features of the <code class="d_inline">std.format</code> module, not about the core features of the D language.
</p>

<p><a id="ix_Formatted Output.std" content="std"></a> <a id="ix_Formatted Output.Phobos" content="Phobos"></a> Like all modules that have the prefix <code class="d_inline">std</code>, <code class="d_inline">std.format</code> is a module inside Phobos, the standard library of D. There is not enough space to fully explore Phobos in this book.
</p>

<p>D's input and output format specifiers are similar to the ones in the C language.
</p>

<p>Before going further, I would like to summarize the format specifiers and flags, for your reference:
</p>

<pre class="mono"><b>Flags</b> (can be used together)
     -     flush left
     +     print the sign
     #     print in the alternative way
     0     print zero-filled
   <i>space</i>   print space-filled

<b>Format Specifiers</b>
     s     default
     b     binary
     d     decimal
     o     octal
    x,X    hexadecimal
    f,F    floating point in the standard decimal notation
    e,E    floating point in scientific notation
    a,A    floating point in hexadecimal notation
    g,G    as e or f

     ,     digit separators

     (     element format start
     )     element format end
     |     element delimiter
</pre>

<p>We have been using functions like <code class="d_inline">writeln</code> with multiple parameters as necessary to print the desired output. The parameters would be converted to their string representations and then
 sent to the output.
</p>

<p>Sometimes this is not sufficient. The output may have to be in a very specific format. Let's look at the following code that is used to print items of an invoice:
</p>

<pre class="d_code">    items ~= 1.23;
    items ~= 45.6;

    <span class="d_keyword">for</span> (<span class="d_keyword">int</span> i = 0; i != items.length; ++i) {
        writeln(<span class="d_string">"Item "</span>, i + 1, <span class="d_string">": "</span>, items[i]);
    }
</pre>

<p>The output:
</p>

<pre class="shell">Item 1: 1.23
Item 2: 45.6
</pre>

<p>Despite the information being correct, we may be required to print it in a different format. For example, maybe the decimal marks (the dots, in this case) must line up and we must ensure that there always are two digits after the decimal mark, as in the following output:
</p>

<pre class="shell">Item 1:     1.23
Item 2:    45.60
</pre>

<p>Formatted output is useful in such cases. The output functions that we have been using so far have counterparts that contain the letter <code class="d_inline">f</code> in their names: <code class="d_inline">writef()</code> and <code class="d_inline">writefln()</code>. The letter <code class="d_inline">f</code> is short for <i>formatted</i>. The first parameter of these functions is a <i>format string</i> that describes how the other parameters should be printed.
</p>

<p>For example, <code class="d_inline">writefln()</code> can produce the desired output above with the following format string:
</p>

<pre class="d_code">        writefln(<span class="d_string">"Item %d:%9.02f"</span>, i + 1, items[i]);
</pre>

<p>The format string contains regular characters that are passed to the output as is, as well as special format specifiers that correspond to each parameter that is to be printed. Format specifiers start with the <code class="d_inline">%</code> character and end with a <i>format character</i>. The format string above has two format specifiers: <code class="d_inline">%d</code> and <code class="d_inline">%9.02f</code>.
</p>

<p>Every specifier is associated with the respective parameter, usually in order of appearance. For example, <code class="d_inline">%d</code> is associated with <code class="d_inline">i&nbsp;+&nbsp;1</code> and <code class="d_inline">%9.02f</code> is associated with <code class="d_inline">items[i]</code>. Every specifier specifies the format of the parameter that it corresponds to. (Format specifiers may have parameter numbers as well. This will be explained later in the chapter.)
</p>

<p>All of the other characters of the format string that are not part of format specifiers are printed as is. Such <i>regular</i> characters of the format specifier above are highlighted in <code class="d_inline">"<span class="hilite">Item&nbsp;</span>%d<span class="hilite">:</span>%9.02f"</code>.
</p>

<p>Format specifiers consist of several parts, most of which are optional. The part named <i>position</i> will be explained later below. The others are the following: (<i><b>Note:</b> The spaces between these parts are inserted here to help with readability; they are not part of the specifiers.</i>)
</p>

<pre class="mono">    %  <i><code class="d_inline">flags  width  separator  precision  format_character</code></i>
</pre>

<p>The <code class="d_inline">%</code> character at the beginning and the format character at the end are required; the others are optional.
</p>

<p>Because <code class="d_inline">%</code> has a special meaning in format strings, when we need to print a <code class="d_inline">%</code> as a regular character, we must type it as <code class="d_inline">%%</code>.
</p>

<h5 class="subsection"><i>format_character</i></h5>

<p><a id="ix_Formatted Output.%b" content="%b"></a> <code class="d_inline">b</code>: An integer argument is printed in the binary system.
</p>

<p><a id="ix_Formatted Output.%o, output" content="%o, output"></a> <code class="d_inline">o</code>: An integer argument is printed in the octal system.
</p>

<p><a id="ix_Formatted Output.%x, output" content="%x, output"></a> <a id="ix_Formatted Output.%X" content="%X"></a> <code class="d_inline">x</code> and <code class="d_inline">X</code>: An integer argument is printed in the hexadecimal system; with lowercase letters when using <code class="d_inline">x</code> and with uppercase letters when using <code class="d_inline">X</code>.
</p>

<p><a id="ix_Formatted Output.%d, output" content="%d, output"></a> <code class="d_inline">d</code>: An integer argument is printed in the decimal system; a negative sign is also printed if it is a signed type and the value is less than zero.
</p>

<pre class="d_code">    <span class="d_keyword">int</span> value = 12;

    writefln(<span class="d_string">"Binary     : %b"</span>, value);
    writefln(<span class="d_string">"Octal      : %o"</span>, value);
    writefln(<span class="d_string">"Hexadecimal: %x"</span>, value);
    writefln(<span class="d_string">"Decimal    : %d"</span>, value);
</pre>

<pre class="shell">Binary     : 1100
Octal      : 14
Hexadecimal: c
Decimal    : 12
</pre>

<p><a id="ix_Formatted Output.%e" content="%e"></a> <code class="d_inline">e</code>: A floating point argument is printed according to the following rules.
</p>

<ul><li>a single digit before the decimal mark</li>
<li>a decimal mark if <i>precision</i> is nonzero</li>
<li>the required digits after the decimal mark, the number of which is determined by <i>precision</i> (default precision is 6)</li>
<li>the <code class="d_inline">e</code> character (meaning "10 to the power of")</li>
<li>the <code class="d_inline">-</code> or <code class="d_inline">+</code> character, depending on whether the exponent is less than or greater than zero</li>
<li>the exponent, consisting of at least two digits</li>
</ul>

<p><a id="ix_Formatted Output.%E" content="%E"></a> <code class="d_inline">E</code>: Same as <code class="d_inline">e</code>, with the exception of outputting the character <code class="d_inline">E</code> instead of <code class="d_inline">e</code>.
</p>

<p><a id="ix_Formatted Output.%f, output" content="%f, output"></a> <a id="ix_Formatted Output.%F" content="%F"></a> <code class="d_inline">f</code> and <code class="d_inline">F</code>: A floating point argument is printed in the decimal system; there is at least one digit before the decimal mark and the default precision is 6 digits after the decimal mark.
</p>

<p><a id="ix_Formatted Output.%g" content="%g"></a> <code class="d_inline">g</code>: Same as <code class="d_inline">f</code> if the exponent is between -5 and <i>precision</i>; otherwise same as <code class="d_inline">e</code>. <i>precision</i> does not specify the number of digits after the decimal mark, but the significant digits of the entire value. If there are no significant digits after the decimal mark, then the decimal mark is not printed. The rightmost zeros after the decimal mark are not printed.
</p>

<p><a id="ix_Formatted Output.%G" content="%G"></a> <code class="d_inline">G</code>: Same as <code class="d_inline">g</code>, with the exception of outputting the character <code class="d_inline">E</code>.
</p>

<p><a id="ix_Formatted Output.%a" content="%a"></a> <code class="d_inline">a</code>: A floating point argument is printed in the hexadecimal floating point notation:
</p>

<ul><li>the characters <code class="d_inline">0x</code></li>
<li>a single hexadecimal digit</li>
<li>a decimal mark if <i>precision</i> is nonzero</li>
<li>the required digits after the decimal mark, the number of which is determined by <i>precision</i>; if no <i>precision</i> is specified, then as many digits as necessary</li>
<li>the <code class="d_inline">p</code> character (meaning "2 to the power of")</li>
<li>the <code class="d_inline">-</code> or <code class="d_inline">+</code> character, depending on whether the exponent is less than or greater than zero</li>
<li>the exponent, consisting of at least one digit (the exponent of the value 0 is 0)</li>
</ul>

<p><a id="ix_Formatted Output.%A" content="%A"></a> <code class="d_inline">A</code>: Same as <code class="d_inline">a</code>, with the exception of outputting the characters <code class="d_inline">0X</code> and <code class="d_inline">P</code>.
</p>

<pre class="d_code">    <span class="d_keyword">double</span> value = 123.456789;

    writefln(<span class="d_string">"with e: %e"</span>, value);
    writefln(<span class="d_string">"with f: %f"</span>, value);
    writefln(<span class="d_string">"with g: %g"</span>, value);
    writefln(<span class="d_string">"with a: %a"</span>, value);
</pre>

<pre class="shell">with e: 1.234568e+02
with f: 123.456789
with g: 123.457
with a: 0x1.edd3c07ee0b0bp+6
</pre>

<p><a id="ix_Formatted Output.%s, output" content="%s, output"></a> <code class="d_inline">s</code>: The value is printed in the same way as in regular output, according to the type of the argument:
</p>

<ul>
<li><code class="d_inline">bool</code> values as <code class="d_inline">true</code> or <code class="d_inline">false</code>
</li>
<li>integer values same as <code class="d_inline">%d</code>
</li>
<li>floating point values same as <code class="d_inline">%g</code>
</li>
<li>strings in UTF-8 encoding; <i>precision</i> determines the maximum number of bytes to use (remember that in UTF-8 encoding, the number of bytes is not the same as the number of characters; for example, the string "ağ" has 2 characters, consisting a total of 3 bytes)
</li>
<li>struct and class objects as the return value of the <code class="d_inline">toString()</code> member functions of their types; <i>precision</i> determines the maximum number of bytes to use
</li>
<li>arrays as their element values, side by side
</li>

</ul>

<pre class="d_code">    <span class="d_keyword">bool</span> b = <span class="d_keyword">true</span>;
    <span class="d_keyword">int</span> i = 365;
    <span class="d_keyword">double</span> d = 9.87;
    string s = <span class="d_string">"formatted"</span>;
    <span class="d_keyword">auto</span> o = File(<span class="d_string">"test_file"</span>, <span class="d_string">"r"</span>);
    <span class="d_keyword">int</span>[] a = [ 2, 4, 6, 8 ];

    writefln(<span class="d_string">"bool  : %s"</span>, b);
    writefln(<span class="d_string">"int   : %s"</span>, i);
    writefln(<span class="d_string">"double: %s"</span>, d);
    writefln(<span class="d_string">"string: %s"</span>, s);
    writefln(<span class="d_string">"object: %s"</span>, o);
    writefln(<span class="d_string">"array : %s"</span>, a);
</pre>

<pre class="shell">bool  : true
int   : 365
double: 9.87
string: formatted
object: File(55738FA0)
array : [2, 4, 6, 8]
</pre>

<h5 class="subsection"><a id="ix_Formatted Output.width, output" content="width, output"></a> <i>width</i></h5>

<p><a id="ix_Formatted Output.*, formatted output" content="*, formatted output"></a> This part determines the width of the field that the argument is printed in. If the width is specified as the character <code class="d_inline">*</code>, then the actual width value is read from the next argument (that argument must be an <code class="d_inline">int</code>). If width is a negative value, then the <code class="d_inline">-</code> flag is assumed.
</p>

<pre class="d_code">    <span class="d_keyword">int</span> value = 100;

    writefln(<span class="d_string">"In a field of 10 characters:%10s"</span>, value);
    writefln(<span class="d_string">"In a field of 5 characters :%5s"</span>, value);
</pre>

<pre class="shell">In a field of 10 characters:       100
In a field of 5 characters :  100
</pre>

<h5 class="subsection"><a id="ix_Formatted Output.&#37;," content="&#37;,"></a> <a id="ix_Formatted Output.separator" content="separator"></a> <i>separator</i></h5>

<p><a id="ix_Formatted Output., (comma), output" content=", (comma), output"></a> The comma character specifies to separate digits of a number in groups. The default number of digits in a group is 3 but it can be specified after the comma:
</p>

<pre class="d_code">    writefln(<span class="d_string">"%,f"</span>, 1234.5678);        <span class="d_comment">// Groups of 3
</span>    writefln(<span class="d_string">"%,s"</span>, 1000000);          <span class="d_comment">// Groups of 3
</span>    writefln(<span class="d_string">"%,2s"</span>, 1000000);         <span class="d_comment">// Groups of 2
</span></pre>

<pre class="shell">1,234.567,800
1,000,000
1,00,00,00
</pre>

<p>If the number of digits is specified as the character <code class="d_inline">*</code>, then the actual number of digits is read from the next argument (that argument must be an <code class="d_inline">int</code>).
</p>

<pre class="d_code">    writefln(<span class="d_string">"%,*s"</span>, <span class="hilite">1</span>, 1000000);      <span class="d_comment">// Groups of 1
</span></pre>

<pre class="shell">1,0,0,0,0,0,0
</pre>

<p>Similarly, it is possible to specify the separator character by using a question mark after the comma and providing the character as an additional argument before the number:
</p>

<pre class="d_code">    writefln(<span class="d_string">"%,?s"</span>, <span class="hilite">'.'</span>, 1000000);    <span class="d_comment">// The separator is '.'
</span></pre>

<pre class="shell">1<span class="hilite">.</span>000<span class="hilite">.</span>000
</pre>

<h5 class="subsection"><a id="ix_Formatted Output.precision, output" content="precision, output"></a> <i>precision</i></h5>

<p>Precision is specified after a dot in the format specifier. For floating point types, it determines the precision of the printed representation of the values. If the precision is specified as the character <code class="d_inline">*</code>, then the actual precision is read from the next argument (that argument must be an <code class="d_inline">int</code>). Negative precision values are ignored.
</p>

<pre class="d_code">    <span class="d_keyword">double</span> value = 1234.56789;

    writefln(<span class="d_string">"%.8g"</span>, value);
    writefln(<span class="d_string">"%.3g"</span>, value);
    writefln(<span class="d_string">"%.8f"</span>, value);
    writefln(<span class="d_string">"%.3f"</span>, value);
</pre>

<pre class="shell">1234.5679
1.23e+03
1234.56789000
1234.568
</pre>

<pre class="d_code">    <span class="d_keyword">auto</span> number = 0.123456789;
    writefln(<span class="d_string">"Number: %.*g"</span>, 4, number);
</pre>

<pre class="shell">Number: 0.1235
</pre>

<h5 class="subsection"><a id="ix_Formatted Output.flags, output" content="flags, output"></a> <i>flags</i></h5>

<p>More than one flag can be specified.
</p>

<p><code class="d_inline">-</code>: the value is printed left-aligned in its field; this flag cancels the <code class="d_inline">0</code> flag
</p>

<pre class="d_code">    <span class="d_keyword">int</span> value = 123;

    writefln(<span class="d_string">"Normally right-aligned:|%10d|"</span>, value);
    writefln(<span class="d_string">"Left-aligned          :|%-10d|"</span>, value);
</pre>

<pre class="shell">Normally right-aligned:|       123|
Left-aligned          :|123       |
</pre>

<p><code class="d_inline">+</code>: if the value is positive, it is prepended with the <code class="d_inline">+</code> character; this flag cancels the <i>space</i> flag
</p>

<pre class="d_code">    writefln(<span class="d_string">"No effect for negative values    : %+d"</span>, -50);
    writefln(<span class="d_string">"Positive value with the + flag   : %+d"</span>, 50);
    writefln(<span class="d_string">"Positive value without the + flag: %d"</span>, 50);
</pre>

<pre class="shell">No effect for negative values    : -50
Positive value with the + flag   : +50
Positive value without the + flag: 50
</pre>

<p><code class="d_inline">#</code>: prints the value in an <i>alternate</i> form depending on the <i>format_character</i>
</p>

<ul><li><code class="d_inline">o</code>: the first character of the octal value is always printed as 0</li>

<li><code class="d_inline">x</code> and <code class="d_inline">X</code>: if the value is not zero, it is prepended with <code class="d_inline">0x</code> or <code class="d_inline">0X</code></li>

<li>floating points: a decimal mark is printed even if there are no significant digits after the decimal mark</li>

<li><code class="d_inline">g</code> and <code class="d_inline">G</code>: even the insignificant zero digits after the decimal mark are printed</li>
</ul>

<pre class="d_code">    writefln(<span class="d_string">"Octal starts with 0                        : %#o"</span>, 1000);
    writefln(<span class="d_string">"Hexadecimal starts with 0x                 : %#x"</span>, 1000);
    writefln(<span class="d_string">"Contains decimal mark even when unnecessary: %#g"</span>, 1f);
    writefln(<span class="d_string">"Rightmost zeros are printed                : %#g"</span>, 1.2);
</pre>

<pre class="shell">Octal starts with 0                        : 01750
Hexadecimal starts with 0x                 : 0x3e8
Contains decimal mark even when unnecessary: 1.00000
Rightmost zeros are printed                : 1.20000
</pre>

<p><code class="d_inline">0</code>: the field is padded with zeros (unless the value is <code class="d_inline">nan</code> or <code class="d_inline">infinity</code>); if <i>precision</i> is also specified, this flag is ignored
</p>

<pre class="d_code">    writefln(<span class="d_string">"In a field of 8 characters: %08d"</span>, 42);
</pre>

<pre class="shell">In a field of 8 characters: 00000042
</pre>

<p><i>space</i> character: if the value is positive, a space character is prepended to align the negative and positive values</p>

<pre class="d_code">    writefln(<span class="d_string">"No effect for negative values: % d"</span>, -34);
    writefln(<span class="d_string">"Positive value with space    : % d"</span>, 56);
    writefln(<span class="d_string">"Positive value without space : %d"</span>, 56);
</pre>

<pre class="shell">No effect for negative values: -34
Positive value with space    :  56
Positive value without space : 56
</pre>


<h5 class="subsection"><a id="ix_Formatted Output.%1$" content="%1$"></a> <a id="ix_Formatted Output.positional parameter, output" content="positional parameter, output"></a> <a id="ix_Formatted Output.$, formatted output" content="$, formatted output"></a> Positional parameters</h5>

<p>We have seen above that the arguments are associated one by one with the specifiers in the format string. It is also possible to use position numbers within format specifiers. This enables associating the specifiers with specific arguments. Arguments are numbered in increasing fashion, starting with 1. The argument numbers are specified immediately after the <code class="d_inline">%</code> character, followed by a <code class="d_inline">$</code>:
</p>

<pre class="mono">    %  <i><code class="d_inline"><span class="hilite">position$</span>  flags  width  precision  format_character</code></i>
</pre>

<p>An advantage of positional parameters is being able to use the same argument in more than one place in the same format string:
</p>

<pre class="d_code">    writefln(<span class="d_string">"%1&dollar;d %1&dollar;x %1&dollar;o %1&dollar;b"</span>, 42);
</pre>

<p>The format string above uses the argument numbered 1 within four specifiers to print it in decimal, hexadecimal, octal, and binary formats:
</p>

<pre class="shell">42 2a 52 101010
</pre>

<p>Another application of positional parameters is supporting multiple natural languages. When referred by position numbers, arguments can be moved anywhere within the specific format string for a given human language. For example, the number of students of a given classroom can be printed as in the following:
</p>

<pre class="d_code">    writefln(<span class="d_string">"There are %s students in room %s."</span>, count, room);
</pre>

<pre class="shell">There are 20 students in room 1A.
</pre>

<p>Let's assume that the program must also support Turkish. In this case the format string needs to be selected according to the active language. The following method takes advantage of the ternary operator:
</p>

<pre class="d_code">    <span class="d_keyword">auto</span> format = (language == <span class="d_string">"en"</span>
                   ? <span class="d_string">"There are %s students in room %s."</span>
                   : <span class="d_string">"%s sınıfında %s öğrenci var."</span>);

    writefln(format, count, room);
</pre>

<p>Unfortunately, when the arguments are associated one by one, the classroom and student count information appear in reverse order in the Turkish message; the room information is where the count should be and the count is where the room should be:
</p>

<pre class="shell">20 sınıfında 1A öğrenci var.  <span class="shell_note_wrong">← Wrong: means "room 20", and "1A students"!</span>
</pre>

<p>To avoid this, the arguments can be specified by numbers, such as <code class="d_inline">1$</code> and <code class="d_inline">2$</code>, to associate each specifier with the exact argument:
</p>

<pre class="d_code">    <span class="d_keyword">auto</span> format = (language == <span class="d_string">"en"</span>
                   ? <span class="d_string">"There are %1&dollar;s students in room %2&dollar;s."</span>
                   : <span class="d_string">"%2&dollar;s sınıfında %1&dollar;s öğrenci var."</span>);

    writefln(format, count, room);
</pre>

<p>Now the arguments appear in the proper order, regardless of the language selected:
</p>

<pre class="shell">There are 20 students in room 1A.
</pre>

<pre class="shell">1A sınıfında 20 öğrenci var.
</pre>

<h5 class="subsection"><a id="ix_Formatted Output.%&#40;" content="%&#40;"></a> <a id="ix_Formatted Output.%&#41;" content="%&#41;"></a> Formatted element output</h5>

<p>Format specifiers between <code class="d_inline"><span class="d_string">%&#40;</span></code> and <code class="d_inline"><span class="d_string">%&#41;</span></code> are applied to every element of a container (e.g. an array or a range):
</p>

<pre class="d_code">    <span class="d_keyword">auto</span> numbers = [ 1, 2, 3, 4 ];
    writefln(<span class="d_string">"%(%s%)"</span>, numbers);
</pre>

<p>The format string above consists of three parts:
</p>

<ul><li><code class="d_inline"><span class="d_string">%&#40;</span></code>: Start of element format</li>
<li><code class="d_inline"><span class="d_string">%s</span></code>: Format for each element</li>
<li><code class="d_inline"><span class="d_string">%&#41;</span></code>: End of element format</li>
</ul>

<p>Each being printed with the <code class="d_inline"><span class="d_string">%s</span></code> format, the elements appear one after the other:
</p>

<pre class="shell">1234
</pre>

<p>The regular characters before and after the element format are repeated for each element. For example, the <code class="d_inline"><span class="d_string">{%s},</span></code> specifier would print each element between curly brackets separated by commas:
</p>

<pre class="d_code">    writefln(<span class="d_string">"%({%s},%)"</span>, numbers);
</pre>

<p>However, regular characters to the right of the format specifier are considered to be element delimiters and are printed only between elements, not after the last one:
</p>

<pre class="shell">{1},{2},{3},{4  <span class="shell_note">← '}' and ',' are not printed after the last element</span>
</pre>

<p><a id="ix_Formatted Output.%|" content="%|"></a> <code class="d_inline"><span class="d_string">%|</span></code> is used for specifying the characters that should be printed even for the last element. Characters that are to the right of <code class="d_inline"><span class="d_string">%|</span></code> are considered to be the delimiters and are not printed for the last element. Conversely, characters to the left of <code class="d_inline"><span class="d_string">%|</span></code> are printed even for the last element.
</p>

<p>For example, the following format specifier would print the closing curly bracket after the last element but not the comma:
</p>
<pre class="d_code">    writefln(<span class="d_string">"%({%s}%|,%)"</span>, numbers);
</pre>

<pre class="shell">{1},{2},{3},{4}  <span class="shell_note">← '}' is printed after the last element as well</span>
</pre>

<p>Unlike strings that are printed individually, strings that are printed as elements appear within double quotes:
</p>

<pre class="d_code">    <span class="d_keyword">auto</span> vegetables = [ <span class="d_string">"spinach"</span>, <span class="d_string">"asparagus"</span>, <span class="d_string">"artichoke"</span> ];
    writefln(<span class="d_string">"%(%s, %)"</span>, vegetables);
</pre>

<pre class="shell">"spinach", "asparagus", "artichoke"
</pre>

<p><a id="ix_Formatted Output.%-&#40;" content="%-&#40;"></a> When the double quotes are not desired, the element format must be started with <code class="d_inline"><span class="d_string">%-&#40;</span></code> instead of <code class="d_inline"><span class="d_string">%&#40;</span></code>:
</p>

<pre class="d_code">    writefln(<span class="d_string">"%-(%s, %)"</span>, vegetables);
</pre>

<pre class="shell">spinach, asparagus, artichoke
</pre>

<p>The same applies to characters as well. <code class="d_inline"><span class="d_string">%&#40;</span></code> prints them within single quotes:
</p>

<pre class="d_code">    writefln(<span class="d_string">"%(%s%)"</span>, <span class="d_string">"hello"</span>);
</pre>

<pre class="shell">'h''e''l''l''o'
</pre>

<p><code class="d_inline"><span class="d_string">%-&#40;</span></code> prints them without quotes:
</p>

<pre class="d_code">    writefln(<span class="d_string">"%-(%s%)"</span>, <span class="d_string">"hello"</span>);
</pre>

<pre class="shell">hello
</pre>

<p>There must be two format specifiers for associative arrays: one for the keys and one for the values. For example, the following <code class="d_inline"><span class="d_string">%s&nbsp;(%s)</span></code> specifier would print first the key and then the value in parentheses:
</p>

<pre class="d_code">    <span class="d_keyword">auto</span> spelled = [ 1 : <span class="d_string">"one"</span>, 10 : <span class="d_string">"ten"</span>, 100 : <span class="d_string">"hundred"</span> ];
    writefln(<span class="d_string">"%-(%s (%s)%|, %)"</span>, spelled);
</pre>

<p>Also note that, being specified to the right of <code class="d_inline"><span class="d_string">%|</span></code>, the comma is not printed for the last element:
</p>

<pre class="shell">1 (one), 100 (hundred), 10 (ten)
</pre>

<h5 class="subsection"><a id="ix_Formatted Output.format, std.string" content="format, std.string"></a> <code class="d_inline">format</code></h5>

<p>Formatted output is available through the <code class="d_inline">format()</code> function of the <code class="d_inline">std.string</code> module as well. <code class="d_inline">format()</code> works the same as <code class="d_inline">writef()</code> but it <i>returns</i> the result as a <code class="d_inline">string</code> instead of printing it to the output:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;
<span class="d_keyword">import</span> std.string;

<span class="d_keyword">void</span> main() {
    write(<span class="d_string">"What is your name? "</span>);
    <span class="d_keyword">auto</span> name = strip(readln());

    <span class="d_keyword">auto</span> result = <span class="hilite">format</span>(<span class="d_string">"Hello %s!"</span>, name);
}
</pre>

<p>The program can make use of that result in later expressions.
</p>

<h6><a id="ix_Formatted Output.checked format string" content="checked format string"></a> Checked format string</h6>

<p>There is an alternative syntax for functions like <code class="d_inline">format</code> in the standard library that take a format string (<code class="d_inline">writef</code>, <code class="d_inline">writefln</code>, <code class="d_inline">formattedWrite</code>, <code class="d_inline">readf</code>, <code class="d_inline">formattedRead</code>, etc.). It is possible to provide the format string as a <i>template argument</i> to these functions so that the validity of the format string and the arguments are checked at compile time:
</p>

<pre class="d_code"><span class="d_keyword">import</span> std.stdio;

<span class="d_keyword">void</span> main() {
    writefln!<span class="d_string">"%s %s"</span>(1);       <span class="d_comment">// ← <span class="d_hata">derleme HATASI</span></span> (extra %s)
    writefln!<span class="d_string">"%s"</span>(1, 2);       <span class="d_comment">// ← <span class="d_hata">derleme HATASI</span></span> (extra 2)
    writefln!<span class="d_string">"%s %d"</span>(1, 2.5);  <span class="d_comment">// ← <span class="d_hata">derleme HATASI</span></span> (mismatched %d and 2.5)
}
</pre>

<p>The <code class="d_inline">!</code> character above is the template instantiation operator, which we will see in <a href="templates.html">a later chapter</a>.
</p>

<p>(<i><b>Note:</b> Although this snytax is safer because it catches potential programmer errors at compile time, it may also make compilation times longer.</i>)
</p>

<h5 class="subsection">Problemler</h5>
    <ol>
<li>Write a program that reads a value and prints it in the hexadecimal system.
</li>

<li>Write a program that reads a floating point value and prints it as percentage value with two digits after the decimal mark. For example, if the value is 1.2345, it should print <code class="d_inline">%1.23</code>.
</li>

</ol> <div class="cozum_link_cok"><p><a target="ddili_cozum" href="formatted_output.cozum.html"><i>... çözümler</i></a></p></div>


        <div class="smallprint" id="copyright">Copyright &copy; 1999-2024 by the <a href="../foundation_overview.html">D Language Foundation</a> | Page generated by
<a href="../spec/ddoc.html">Ddoc</a> on Fri Feb  2 10:24:02 2024
</div>
    </div>
</div>

    <script type="text/javascript" src="https://ajax.googleapis.com/ajax/libs/jquery/1.7.2/jquery.min.js"></script>
    <script type="text/javascript">window.jQuery || document.write('\x3Cscript src="../js/jquery-1.7.2.min.js">\x3C/script>');</script>
    <script type="text/javascript" src="../js/dlang.js"></script>
    
    <script type="text/javascript" src="../js/codemirror-compressed.js"></script>
    <script type="text/javascript" src="../js/run.js"></script>


<link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/font-awesome/4.4.0/css/font-awesome.min.css">
</body>
</html>
